(this["webpackJsonpmcmc-monitor"]=this["webpackJsonpmcmc-monitor"]||[]).push([[13],{227:function(e,t,n){"use strict";n.r(t),n.d(t,"activate",(function(){return v}));var r=n(18),a=n(0),i=n(19),c=n(182),o=(n(177),n(9)),s=function(e){for(var t=Object(i.a)(e),n=1;n<e.length;n++)t[n]=t[n-1]+(e[n]-t[n-1])/n;return t},u=function(e){return function(e){var t=s(e),n=Object(i.a)(e);n[0]=0;for(var r=1;r<e.length;r++)n[r]=n[r-1]+(e[r]-t[r-1])*(e[r]-t[r]);return n.map((function(e,t){return t>0?e/t:0}))}(e).map((function(e){return Math.sqrt(e)}))},l=function(e){var t=e.iterations,n=e.paramKey,r=e.markerColor,i=t[0],l=Object(a.useMemo)((function(){return i?Object.keys(i.parameters||{}):[]}),[i]);if(!l.includes(n))return Object(o.jsxs)("div",{children:["Not found: ",n," ",Object(o.jsx)("pre",{children:JSON.stringify(l)})]});var j=t.map((function(e){return e.parameters[n]})),b=s(j),d=u(j),m=j.map((function(e,t){return{x:t,y:e}})),f=b.map((function(e,t){return{x:t,y:e}})),h=d.map((function(e,t){return{x:t,y:b[t]+e}})),p=d.map((function(e,t){return{x:t,y:b[t]-e}}));return Object(o.jsxs)(c.e,{margin:70,height:400,width:1e3,children:[Object(o.jsx)(c.b,{data:f,stroke:"blue"}),Object(o.jsx)(c.b,{data:p,stroke:"pink",strokeStyle:"dashed"}),Object(o.jsx)(c.b,{data:h,stroke:"pink",strokeStyle:"dashed"}),Object(o.jsx)(c.c,{data:m,fill:"none",stroke:r,strokeWidth:1}),Object(o.jsx)(c.a,{text:"".concat(n," vs iteration"),xPercent:.5,yPercent:-.05}),Object(o.jsx)(c.d,{title:"Iteration number"}),Object(o.jsx)(c.f,{title:n})]})},j=n(232),b=n(234),d=n(233),m=n(235),f=n(228),h=function(e){var t=e.label,n=e.value,r=e.onSetValue,a=e.options;return Object(o.jsxs)(j.a,{component:"fieldset",children:[Object(o.jsx)(b.a,{component:"legend",children:t}),Object(o.jsx)(d.a,{row:!0,value:n,onChange:function(e){return r(e.target.value)},children:a.map((function(e){return Object(o.jsx)(m.a,{value:e.value,control:Object(o.jsx)(f.a,{}),label:e.label,disabled:!!e.disabled},e.label)}))})]})},p=function(e){var t=e.iterations,n=e.runSelection,r=e.runSelectionDispatch,i=Object(a.useMemo)((function(){var e=[];return(t||[]).forEach((function(t){for(var n in t.parameters)e.includes(n)||e.push(n)})),e.sort(),e}),[t]),c=Object(a.useCallback)((function(e){r({type:"setSelectedParameterNames",selectedParameterNames:[e]})}),[r]);return 0===i.length?Object(o.jsx)("div",{children:"No parameters"}):Object(o.jsx)(h,{label:"Select parameter to view",value:n.selectedParameterNames[0]||"",onSetValue:c,options:i.map((function(e){return{label:e,value:e}}))})},O=function(e){e.run;var t=e.iterations,n=e.runSelection,i=e.runSelectionDispatch,c=Object(a.useMemo)((function(){var e={};return(t||[]).forEach((function(t){var r=t.chainId;n.selectedChainIds.includes(r)&&(r+""in e||(e[r+""]={iterations:[]}),e[r+""].iterations.push(t))})),Object.keys(e).sort().map((function(e){return Number(e)})).map((function(t){return Object(r.a)({chainId:t},e[t+""])}))}),[t,n.selectedChainIds]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(p,{iterations:t,runSelection:n,runSelectionDispatch:i}),c.length>0?c.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:["Chain ",e.chainId]}),n.selectedParameterNames.map((function(t){return Object(o.jsx)(l,{iterations:e.iterations,paramKey:t,markerColor:"darkgreen"})}))]})})):Object(o.jsx)("div",{children:"Select one or more chains to view iteration plots"})]})};function v(e){e.registerPlugin({type:"RunView",name:"IterationsPlot",label:"Iterations Plot",component:O})}}}]);
//# sourceMappingURL=13.c734e6d1.chunk.js.map