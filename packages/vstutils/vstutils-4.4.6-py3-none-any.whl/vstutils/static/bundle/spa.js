window.spa=function(t){function n(n){for(var o,i,a=n[0],l=n[1],f=n[2],u=0,g=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&g.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(c&&c(n);g.length;)g.shift()();return r.push.apply(r,f||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,a=1;a<e.length;a++){var l=e[a];0!==s[l]&&(o=!1)}o&&(r.splice(n--,1),t=i(i.s=e[0]))}return t}var o={},s={5:0},r=[];function i(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=o,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)i.d(e,o,function(n){return t[n]}.bind(null,o));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/static/bundle/";var a=window.webpackJsonp_name_=window.webpackJsonp_name_||[],l=a.push.bind(a);a.push=n,a=a.slice();for(var f=0;f<a.length;f++)n(a[f]);var c=l;return r.push([286,0,2,4,1]),e()}({274:function(t,n,e){var o=e(5),s=e(275);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var r={insert:"head",singleton:!1};o(s,r);t.exports=s.locals||{}},275:function(t,n,e){(n=e(6)(!1)).push([t.i,".ansi-black-fg{color:#000000}.ansi-red-fg{color:#ff6060}.ansi-green-fg{color:#60ff60}.ansi-yellow-fg{color:#ffff36}.ansi-blue-fg{color:#6060ff}.ansi-magenta-fg{color:#ff36ff}.ansi-cyan-fg{color:#36ffff}.ansi-white-fg{color:#ececec}.ansi-bright-black-fg{color:#363636}.ansi-bright-red-fg{color:#ff8080}.ansi-bright-green-fg{color:#80ff80}.ansi-bright-yellow-fg{color:#ffff80}.ansi-bright-blue-fg{color:#8080ff}.ansi-bright-magenta-fg{color:#ff80ff}.ansi-bright-cyan-fg{color:#80ffff}.ansi-bright-white-fg{color:#ffffff}.ansi-black-bg{background-color:#000000}.ansi-red-bg{background-color:#ff6060}.ansi-green-bg{background-color:#60ff60}.ansi-yellow-bg{background-color:#ffff36}.ansi-blue-bg{background-color:#6060ff}.ansi-magenta-bg{background-color:#ff36ff}.ansi-cyan-bg{background-color:#36ffff}.ansi-white-bg{background-color:#ececec}.ansi-bright-black-bg{background-color:#363636}.ansi-bright-red-bg{background-color:#ff8080}.ansi-bright-green-bg{background-color:#80ff80}.ansi-bright-yellow-bg{background-color:#ffff80}.ansi-bright-blue-bg{background-color:#8080ff}.ansi-bright-magenta-bg{background-color:#ff80ff}.ansi-bright-cyan-bg{background-color:#80ffff}.ansi-bright-white-bg{background-color:#ffffff}\n",""]),t.exports=n},286:function(t,n,e){"use strict";e.r(n),e.d(n,"TabSignal",(function(){return v.a})),e.d(n,"signals",(function(){return y.a})),e.d(n,"colors",(function(){return o})),e.d(n,"ComponentsRegistrator",(function(){return f.a})),e.d(n,"globalComponentsRegistrator",(function(){return f.b})),e.d(n,"AppRoot",(function(){return g.a})),e.d(n,"utils",(function(){return u})),e.d(n,"guiCustomizer",(function(){return V})),e.d(n,"setupVue",(function(){return D})),e.d(n,"popUp",(function(){return c})),e.d(n,"fields",(function(){return E})),e.d(n,"components",(function(){return U})),e.d(n,"models",(function(){return b})),e.d(n,"querySet",(function(){return w})),e.d(n,"views",(function(){return h})),e.d(n,"store",(function(){return d})),e.d(n,"router",(function(){return m})),e.d(n,"api",(function(){return l})),e.d(n,"users",(function(){return $})),e.d(n,"dashboard",(function(){return q})),e.d(n,"BaseWidget",(function(){return q.BaseWidget})),e.d(n,"CounterWidget",(function(){return q.CounterWidget})),e.d(n,"CardWidget",(function(){return q.CardWidget})),e.d(n,"App",(function(){return H}));var o={};e.r(o),e.d(o,"AnsiUp",(function(){return F.a})),e.d(o,"ansiToHTML",(function(){return B}));var s=e(9),r=e(60),i=e(137),a=e.n(i),l=e(11),f=e(8),c=e(4),u=e(0),g=e(55),p=e(139);var h=e(27),d=e(23),b=e(28),m=e(54),w=e(33),C=e(62),v=e.n(C),y=e(7),k=(e(14),e(248),e(249),e(251),e(253),e(132),e(13)),_=e.n(k),R=(e(257),e(80)),M=e.n(R),x=e(77),T=e.n(x),j=e(21),S=e.n(j),O=(e(258),e(57)),L=e.n(O),P=(e(260),e(78)),I=e.n(P),A=(e(84),e(85),e(86)),F=e.n(A);e(274);const W=new F.a;function B(t){return W.ansi_to_html(t).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}W.use_classes=!0;var V=e(76),D=e(133),E=e(19),U=e(136),$=e(66),q=e(61);e(135);window.SELECT2_THEME="bootstrap",e(254),e(255),window.moment=_.a,window.md5=M.a,window.Visibility=T.a,window.IMask=S.a,window.iziToast=L.a,window.autoComplete=I.a;const z=(t,n)=>{if(0===t)return 0;const e=t>10&&t<20,o=t%10==1;return n<4?!e&&o?1:2:!e&&o?1:!e&&t%10>=2&&t%10<=4||n<4?2:3};class H extends class{constructor(t,n){this.config=t,this.schema=t.schema,this.router=null,this.cache=n,this.api=l.apiConnector.initConfiguration(t),this.translationsManager=new p.a(l.apiConnector,n),this.centrifugoClient=function(t,n){if(!t)return null;const e=new a.a(new URL("connection/websocket",t).toString());return n&&e.setToken(n),e}(this.schema.info["x-centrifugo-address"],this.schema.info["x-centrifugo-token"]),this.error_handler=new c.ErrorHandler,this.languages=null,this.translations=null,this.user=null,this.global_components=f.b,this.appRootComponent=g.a,this.initLanguage=u.guiLocalSettings.get("lang")||Object(u.getCookie)("lang")||"en"}afterInitialDataBeforeMount(){}async start(){this.centrifugoClient&&this.centrifugoClient.connect();const[t,n,e]=await Promise.all([this.translationsManager.getLanguages(),this.translationsManager.getTranslations(this.initLanguage),this.api.loadUser()]);this.languages=t,this.translations={[this.initLanguage]:n},this.user=e,this.afterInitialDataBeforeMount(),this.global_components.registerAll(),this.prepare()}changeAppRootComponent(t){this.appRootComponent=t}resetAppRootComponent(){this.appRootComponent=g.a}prepare(){}}{constructor(t,n,e,o){super(t,n),this.fieldsClasses=e,this.modelsClasses=o,this.views=null,this.modelsResolver=null,this.qsResolver=null,this.application=null}afterInitialDataBeforeMount(){this.prepareFieldsClasses(),new b.ModelConstructor(l.openapi_dictionary,this.config.schema,this.fieldsClasses,this.modelsClasses).generateModels(),this.modelsResolver=new b.ModelsResolver(this.modelsClasses,this.fieldsClasses,this.config.schema),this.views=new h.ViewConstructor(l.openapi_dictionary,this.modelsClasses,this.fieldsClasses).generateViews(this.config.schema),this.qsResolver=new w.QuerySetsResolver(this.modelsClasses,this.views),this.prepareViewsModelsFields()}prepareFieldsClasses(){for(const t of this.fieldsClasses.values())"function"==typeof t.prepareFieldClass&&t.prepareFieldClass(this)}prepareViewsModelsFields(){for(const[t,n]of this.views)if(n.objects)for(const e of Object.values(n.objects.models))for(const n of e.fields.values())n.prepareField(this,t)}setLanguage(t){return this._prefetchTranslation(t).then(t=>(this.application.$i18n.locale=t,u.guiLocalSettings.set("lang",t),window.spa.signals.emit("app.language.changed",{lang:t}),t))}_prefetchTranslation(t){return Object.values(this.languages).map(t=>t.code).includes(t)?this.translations[t]?Promise.resolve(t):this.translationsManager.getTranslations(t).then(n=>(this.translations={...this.translations,[t]:n},this.application.$i18n.setLocaleMessage(t,n),t)).catch(t=>{throw t}):Promise.reject(!1)}prepare(){y.a.emit("app.beforeInit",{app:this});let t=new d.StoreConstructor(this.views,this.config.isDebug);y.a.emit("app.beforeInitStore",{storeConstructor:t});let n=new m.RouterConstructor(this.views,m.mixins.routesComponentsTemplates,m.mixins.customRoutesComponentsTemplates);y.a.emit("app.beforeInitRouter",{routerConstructor:n}),this.router=n.getRouter();let e=new r.a({locale:this.initLanguage,messages:this.translations,silentTranslationWarn:!0,pluralizationRules:{ru:z}});s.a.prototype.$app=this,this.application=new s.a({mixins:[this.appRootComponent],propsData:{info:this.config.schema.info,x_menu:this.config.schema.info["x-menu"],x_docs:this.config.schema.info["x-docs"],a_links:!1},router:this.router,store:t.getStore(),i18n:e}),y.a.emit("app.afterInit",{app:this})}mount(){this.application.$mount("#RealBody")}}window.App=H}});