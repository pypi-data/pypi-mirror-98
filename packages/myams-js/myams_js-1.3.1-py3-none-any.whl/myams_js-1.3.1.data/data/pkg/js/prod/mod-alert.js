!function(t,n){"function"==typeof define&&define.amd?define(["exports"],n):"undefined"!=typeof exports?n(exports):(n(n={}),t.modAlert=n)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alert=void 0;var s=MyAMS.$;s.templates||(n=require("jsrender"),s.templates=n.templates);var e=s.templates({markup:'\n\t<div class="alert alert-{{:status}}" role="alert">\n\t\t<button type="button" class="close" data-dismiss="alert" \n\t\t\t\taria-label="{{*: MyAMS.i18n.BTN_CLODE }}">\n\t\t\t<i class="fa fa-times" aria-hidden="true"></i>\t\n\t\t</button>\n\t\t{{if header}}\n\t\t<h5 class="alert-heading">{{:header}}</h5>\n\t\t{{/if}}\n\t\t{{* if (typeof message === \'string\') { }}\n\t\t<ul>\n\t\t\t<li>{{:message}}</li>\n\t\t</ul>\n\t\t{{* } else { }}\n\t\t<ul>\n\t\t{{for message}}\n\t\t\t<li>{{:}}</li>\n\t\t{{/for}}\n\t\t</ul>\n\t\t{{* } }}\n\t</div>',allowCode:!0}),a=s.templates({markup:'\n\t<div role="alert" class="toast toast-{{:status}} fade hide"\n\t\t data-autohide="{{*: Boolean(data.timeout !== 0).toString() }}"\n\t\t data-delay="{{: timeout || 5000}}">\n\t\t<div class="toast-header">\n\t\t{{if icon}}\n\t\t\t<i class="fa {{:icon}} mr-2"></i>\n\t\t{{/if}}\n\t\t\t<strong class="mr-auto">{{:title}}</strong>\n\t\t{{if !hideTimestamp}}\n\t\t\t<small>{{*: new Date().toLocaleTimeString() }}</small>\n\t\t{{/if}}\n\t\t\t<button type="button" class="ml-2 mb-1 close" data-dismiss="toast">\n\t\t\t\t<i class="fa fa-times text-white"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="toast-body">\n\t\t\t<div>\n\t\t\t{{if content}}\n\t\t\t\t{{:content}}\n\t\t\t{{else}}\n\t\t\t\t<p>{{:message}}</p>\n\t\t\t{{/if}}\n\t\t\t</div>\n\t\t</div>\n\t</div>',allowCode:!0}),o=s.templates({markup:'\n\t<div role="alert" class="toast toast-{{:status}} fade hide"\n\t\t data-autohide="true"\n\t\t data-delay="{{: timeout || 5000}}">\n\t\t<div class="toast-body">\n\t\t\t<div>\n\t\t\t{{if content}}\n\t\t\t\t{{:content}}\n\t\t\t{{else}}\n\t\t\t\t<span>\n\t\t\t\t\t{{if icon}}\n\t\t\t\t\t<i class="fa {{:icon}} mr-2"></i>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{:message}}\n\t\t\t\t</span>\n\t\t\t{{/if}}\n\t\t\t</div>\n\t\t</div>\n\t</div>',allowCode:!0}),i=s.templates({markup:'\n\t<div class="modal fade" data-backdrop="static" role="dialog">\n\t\t<div class="modal-dialog">\n\t\t\t<div class="modal-content">\n\t\t\t\t<div class="modal-header alert-{{:status}}">\n\t\t\t\t\t<h5 class="modal-title">\n\t\t\t\t\t{{if icon}}\n\t\t\t\t\t\t<i class="fa {{:icon}} mr-2"></i>\n\t\t\t\t\t{{/if}}\n\t\t\t\t\t{{:title}}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<button type="button" class="close" \n\t\t\t\t\t\t\tdata-dismiss="modal" data-modal-dismiss-value="cancel">\n\t\t\t\t\t\t<i class="fa fa-times"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-body">\n\t\t\t\t\t<p>{{:message}}</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t<button type="button" class="btn btn-primary" \n\t\t\t\t\t\t\tdata-dismiss="modal" data-modal-dismiss-value="success">\n\t\t\t\t\t\t{{*: data.successLabel || MyAMS.i18n.BTN_OK }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type="button" class="btn btn-secondary" \n\t\t\t\t\t\t\tdata-dismiss="modal" data-modal-dismiss-value="cancel">\n\t\t\t\t\t\t{{*: data.cancelLabel || MyAMS.i18n.BTN_CANCEL }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>',allowCode:!0}),n={alert:function(t){var n=0<arguments.length&&void 0!==t?t:{},t=n.status||"info";"error"===t&&(t="danger"),n.status=t,s(".alert-".concat(t),n.parent).not(".persistent").remove(),s(e.render(n)).prependTo(n.parent),MyAMS.require("ajax").then(function(){MyAMS.ajax.check(s.fn.scrollTo,"".concat(MyAMS.env.baseURL,"../ext/jquery-scrollto").concat(MyAMS.env.extext,".js")).then(function(){s("#content").scrollTo(n.parent,{offset:-15})})})},messageBox:function(t){var n=0<arguments.length&&void 0!==t?t:{},t=n.status||"info";"error"===t&&(t="danger"),n.status=t;t=s(".".concat(MyAMS.config.alertsContainerClass));0===t.length&&(t=s("<div></div>").addClass(MyAMS.config.alertsContainerClass).appendTo(MyAMS.dom.root)),s(a.render(n)).appendTo(t).toast("show").on("hidden.bs.toast",function(t){s(t.currentTarget).remove()})},smallBox:function(t){var n=0<arguments.length&&void 0!==t?t:{},t=n.status||"info";"error"===t&&(t="danger"),n.status=t;t=s(".".concat(MyAMS.config.alertsContainerClass));0===t.length&&(t=s("<div></div>").addClass(MyAMS.config.alertsContainerClass).appendTo(MyAMS.dom.root)),s(o.render(n)).appendTo(t).toast("show").on("hidden.bs.toast",function(t){s(t.currentTarget).remove()})},bigBox:function(t){var a=0<arguments.length&&void 0!==t?t:{};return new Promise(function(n,t){var e=a.status||"info";"error"===e&&(e="danger"),a.status=e,MyAMS.require("modal").then(function(){var t=s(i.render(a)).appendTo(MyAMS.dom.root);t.on("hidden.bs.modal",function(){n(t.data("modal-result")),t.remove()}),t.modal("show")},function(){t("Missing 'modal' module!")})})}};t.alert=n,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("alert"):(MyAMS.alert=n,console.debug("MyAMS: alert module loaded...")))});