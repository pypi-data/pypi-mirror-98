!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?e(exports):(e(e={}),t.modSkin=e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.skin=void 0;function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,a=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(o=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var u=MyAMS.$,e=!1,n={init:function(){e||(e=!0,MyAMS.config.enableTooltips&&MyAMS.dom.root.tooltip({selector:".hint",html:MyAMS.config.enableHtmlTooltips}),u(".hint").mousedown(function(t){u(t.currentTarget).tooltip("hide")}),u(document).on("clear.ams.content",function(){u(".tooltip").remove()}),n.checkURL(),u(window).on("hashchange",n.checkURL))},initElement:function(t){MyAMS.config.enableTooltips||u(".hint",t).tooltip({html:MyAMS.config.enableHtmlTooltips})},checkURL:function(){return new Promise(function(n,t){var o,e,a,i=MyAMS.dom.nav,r=location.hash,c=r.replace(/^#/,""),l=null,s=c.indexOf("!");0<s&&(r=r.substring(0,s+1),l=c.substring(s+1),c=c.substring(0,s)),c?((o=u("#content")).exists()||(o=MyAMS.dom.root),a=u('a[href="'.concat(r,'"]'),i),MyAMS.skin.loadURL(c,o).then(function(){var t,e=u("html head title").data("ams-title-prefix"),e=e?"".concat(e," > "):"";document.title="".concat(e).concat(u("[data-ams-page-title]:first",o).data("ams-page-title")||a.attr("title")||a.text().trim()||document.title),!l||(t=u("#".concat(l))).exists()&&MyAMS.require("ajax").then(function(){MyAMS.ajax.check(u.fn.scrollTo,"".concat(MyAMS.env.baseURL,"../ext/jquery-scrollto").concat(MyAMS.env.extext,".js")).then(function(){u("#main").scrollTo(t,{offset:-15})})}),a.exists()?MyAMS.require("nav").then(function(){MyAMS.nav.setActiveMenu(a),MyAMS.nav.drawBreadcrumbs()}).then(n):n()},t)):(e=u("[data-ams-active-menu]").data("ams-active-menu"),(a=e?u('a[href="'.concat(e,'"]'),i):u('>ul >li >a[href!="#"]',i).first()).exists()?MyAMS.require("nav").then(function(){MyAMS.nav.setActiveMenu(a),e?MyAMS.nav.drawBreadcrumbs():window.location.replace(window.location.href+a.attr("href"))}).then(n,t):n())})},loadURL:function(n,c,t){var o=2<arguments.length&&void 0!==t?t:{};return new Promise(function(i,r){n.startsWith("#")&&(n=n.substr(1)),c=u(c),MyAMS.core.executeFunctionByName(MyAMS.config.clearContent,document,c).then(function(t){var e;t&&(e={type:"GET",url:n,dataType:"html",cache:!1,beforeSend:function(){c.html('<h1 class="loading"><i class="fa fa-cog fa-spin"></i> '.concat(MyAMS.i18n.LOADING,"</h1>")),o&&o.preLoadCallback&&MyAMS.core.executeFunctionByName(o.preLoadCallback,void 0,o.preLoadCallbackOptions),"content"===c.attr("id")&&MyAMS.require("nav").then(function(){var t=u("html head title").data("ams-title-prefix"),t=t?"".concat(t," > "):"";document.title="".concat(t).concat(u(".breadcrumb li:last-child").text()),MyAMS.dom.root.animate({scrollTop:0},"fast")})}},t=u.extend({},e,o),e={veto:!1},c.trigger("before-load.ams.content",[t,e]),e.veto||u.ajax(t).then(function(t,o,a){var e;u.isArray(t)&&(t=(e=l(t,3))[0],o=e[1],a=e[2]),MyAMS.require("ajax").then(function(){var t=MyAMS.ajax.getResponse(a);if(t){var e=t.contentType,n=t.data;switch(u(".loading",c).remove(),e){case"json":MyAMS.ajax.handleJSON(n,c),i(n,o,a);break;case"script":case"xml":i(n,o,a);break;case"html":case"text":default:c.parents(".hidden").removeClass("hidden"),MyAMS.core.executeFunctionByName(c.data("ams-clear-content")||MyAMS.config.clearContent,document,c).then(function(){c.css({opacity:"0.0"}).html(n).removeClass("hidden").delay(30).animate({opacity:"1.0"},300),MyAMS.core.executeFunctionByName(c.data("ams-init-content")||MyAMS.config.initContent,window,c).then(function(){MyAMS.form&&MyAMS.form.setFocus(c),c.trigger("after-load.ams.content"),i(n,o,a)})},r)}MyAMS.stats&&MyAMS.stats.logPageview()}})},function(t,e,n){c.html('<h3 class="error"><i class="fa fa-exclamation-triangle text-danger"></i> \n\t\t\t\t\t\t\t\t'.concat(MyAMS.i18n.ERROR," ").concat(n,"</h3>").concat(t.responseText)),r(n)}))})})}};t.skin=n,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("skin"):(MyAMS.skin=n,console.debug("MyAMS: skin module loaded...")))});