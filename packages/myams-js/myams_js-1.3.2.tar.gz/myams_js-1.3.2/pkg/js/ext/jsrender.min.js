!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("undefined"!=typeof exports)t();else{t(),e.jsrender={exports:{}}.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(t,n){var r=n.jQuery;"object"===("undefined"==typeof exports?"undefined":e(exports))?module.exports=r?t(n,r):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return t(n,e)}:"function"==typeof define&&define.amd?define(function(){return t(n)}):t(n,!1)}(function(t,n){function r(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function i(e,t){return W(t)&&((t=r(e?e._d?e:r(s,e):s,t))._d=(e&&e._d||0)+1),t}function o(e,t){var n,r=t.props;for(n in r)!xe.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?i(e.constructor.prototype[n],r[n]):r[n])}function a(e){return e}function s(){return""}function l(e){this.name=(n.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function d(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function p(e,t,n){return e?Z(e)?p.apply(Q,e):(le=n?n[0]:le,/^(\W|_){5}$/.test(e+t+le)||P("Invalid delimiters"),ie=e[0],oe=e[1],ae=t[0],se=t[1],te.delimiters=[ie+oe,ae+se,le],e="\\"+ie+"(\\"+le+")?\\"+oe,t="\\"+ae+"\\"+se,L="(?:(\\w+(?=[\\/\\s\\"+ae+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+ae+"]|\\"+ae+"(?!\\"+se+"))*?)",ee.rTag="(?:"+L+")",L=new RegExp("(?:"+e+L+"(\\/)?|\\"+ie+"(\\"+le+")?\\"+oe+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),ee.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),re):te.delimiters}function c(){var e=this.get("item");return e?e.index:void 0}function u(){return this.index}function f(e,t,n,r){var i,o,a,l=0;if(1===n&&(r=1,n=void 0),t)for(a=(o=t.split(".")).length;e&&l<a;l++)i=e,e=o[l]?e[o[l]]:e;return n&&(n.lt=n.lt||l<a),void 0===e?r?s:"":r?function(){return e.apply(i,arguments)}:e}function g(e,r,i){var o,a,s,l,p,c,u,f=this,g=!pe&&arguments.length>1,h=f.ctx;if(e){if(f._||(p=f.index,f=f.tag),c=f,h&&h.hasOwnProperty(e)||(h=X).hasOwnProperty(e)){if(s=h[e],"tag"===e||"tagCtx"===e||"root"===e||"parentTags"===e)return s}else h=void 0;if((!pe&&f.tagCtx||f.linked)&&(s&&s._cxp||(f=f.tagCtx||W(s)?f:!(f=f.scope||f).isTop&&f.ctx.tag||f,void 0!==s&&f.tagCtx&&(f=f.tagCtx.view.scope),h=f._ocps,(s=h&&h.hasOwnProperty(e)&&h[e]||s)&&s._cxp||!i&&!g||((h||(f._ocps=f._ocps||{}))[e]=s=[{_ocp:s,_vw:c,_key:e}],s._cxp={path:ue,ind:0,updateValue:function(e,t){return n.observable(s[0]).setProperty(ue,e),this}})),l=s&&s._cxp)){if(arguments.length>2)return(a=s[1]?ee._ceo(s[1].deps):[ue]).unshift(s[0]),a._cxp=l,a;if(p=l.tagElse,u=s[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(p,1)[l.ind]:s[1](s[0].data,s[0],ee):s[0]._ocp,g)return ee._ucp(e,r,f,l),f;s=u}return s&&W(s)&&d(o=function(){return s.apply(this&&this!==t?this:c,arguments)},s),o||s}}function h(e,t){var n,r,i,o,a,s,l,d=this;if(d.tagName){if(s=d,!(d=(s.tagCtxs||[d])[e||0]))return}else s=d.tag;if(a=s.bindFrom,o=d.args,(l=s.convert)&&""+l===l&&(l="true"===l?void 0:d.view.getRsc("converters",l)||P("Unknown converter: '"+l+"'")),l&&!t&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(v(d,r));t&&(o=i)}if(l){if(void 0===(l=l.apply(s,i||o)))return o;if(a=a||[0],n=a.length,Z(l)&&(!1===l.arg0||1!==n&&l.length===n&&!l.arg0)||(l=[l],a=[0],n=1),t)o=l;else for(;n--;)+(r=a[n])===r&&(o[r]=l[n])}return o}function v(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function m(e){return this.cvtArgs(e,1)}function _(e,t,n,r,i,o,a,s){var l,d,p,u=this,f="array"===t;u.content=s,u.views=f?[]:{},u.data=r,u.tmpl=i,p=u._={key:0,useKey:f?0:1,id:""+Te++,onRender:a,bnds:{}},u.linked=!!a,u.type=t||"top",t&&(u.cache={_ct:te._cchCt}),n&&"top"!==n.type||((u.ctx=e||{}).root=u.data),(u.parent=n)?(u.root=n.root||u,l=n.views,d=n._,u.isTop=d.scp,u.scope=(!e.tag||e.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,d.useKey?(l[p.key="_"+d.useKey++]=u,u.index=$e,u.getIndex=c):l.length===(p.key=u.index=o)?l.push(u):l.splice(o,0,u),u.ctx=e||n.ctx):t&&(u.root=u)}function b(e){var t,n,r;for(t in Ie)e[n=t+"s"]&&(r=e[n],e[n]={},Q[n](r,e))}function x(e,t,r,i){function o(t){var o,s;if(""+t===t||t.nodeType>0&&(a=t)){if(!a)if(/^\.?\/[^\\:*?"<>]*$/.test(t))(s=z[e=e||t])?t=s:a=document.getElementById(t);else if(n.fn&&!ee.rTmpl.test(t))try{a=n(t,document)[0]}catch(e){}a&&("SCRIPT"!==a.tagName&&P(t+": Use script block, not "+a.tagName),i?t=a.innerHTML:((o=a.getAttribute(Re))&&(o!==Me?(t=z[o],delete z[o]):n.fn&&(t=n.data(a)[Me])),o&&t||(t=x(e=e||(n.fn?Me:t),a.innerHTML,r,i)),t.tmplName=e=e||o,e!==Me&&(z[e]=t),a.setAttribute(Re,e),n.fn&&n.data(a,Me,t))),a=void 0}else t.fn||(t=void 0);return t}var a,s,l=t=t||"";if(ee._html=G.html,0===i&&(i=void 0,l=o(l)),i=i||(t.markup?t.bnds?d({},t):t:{}),i.tmplName=i.tmplName||e||"unnamed",r&&(i._parentTmpl=r),!l&&t.markup&&(l=o(t.markup))&&l.fn&&(l=l.markup),void 0!==l)return l.render||t.render?l.tmpls&&(s=l):(t=C(l,i),N(l.replace(he,"\\$&"),t)),s||b(s=d(function(){return s.render.apply(s,arguments)},t)),s}function w(e,t){return W(e)?e.call(t):e}function y(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0})}function C(e,t){var r,i=ne._wm||{},o={tmpls:[],links:{},bnds:[],_is:"template",render:T};return t&&(o=d(o,t)),o.markup=e,o.htmlTag||(r=_e.exec(e),o.htmlTag=r?r[1].toLowerCase():""),(r=i[o.htmlTag])&&r!==i.div&&(o.markup=n.trim(o.markup)),o}function k(e){re[e]=re[e]||function(t){return arguments.length?(te[e]=t,re):te[e]}}function j(e){function t(t,n){this.tgt=e.getTgt(t,n),n.map=this}return W(e)&&(e={getTgt:e}),e.baseMap&&(e=d(d({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function T(t,n,r,i,o,a){var s,l,d,p,c,u,f,g,h=i,v="";if(!0===n?(r=n,n=void 0):e(n)!==Ne&&(n=void 0),(d=this.tag)?(c=this,p=(h=h||c.view)._getTmpl(d.template||c.tmpl),arguments.length||(t=d.contentCtx&&W(d.contentCtx)?t=d.contentCtx(t):h)):p=this,p){if(!i&&t&&"view"===t._is&&(h=t),h&&t===h&&(t=h.data),u=!h,pe=pe||u,u&&((n=n||{}).root=t),!pe||ne.useViews||p.useViews||h&&h!==B)v=A(p,t,n,r,h,o,a,d);else{if(h?(f=h.data,g=h.index,h.index=$e):(f=(h=B).data,h.data=t,h.ctx=n),Z(t)&&!r)for(s=0,l=t.length;s<l;s++)h.index=s,h.data=t[s],v+=p.fn(t[s],h,ee);else h.data=t,v+=p.fn(t,h,ee);h.data=f,h.index=g}u&&(pe=void 0)}return v}function A(e,t,n,r,i,o,a,s){var l,p,c,u,f,g,h,v,m,b,x,w,y,C="";if(s&&(m=s.tagName,w=s.tagCtx,n=n?E(n,s.ctx):s.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==w.content?e===s.template?(h=w.tmpl,n._wrp=w.content):h=w.content||i.content:h=i.content,!1===w.props.link&&((n=n||{}).link=!1)),i&&(a=a||i._.onRender,(y=n&&!1===n.link)&&i._.nl&&(a=void 0),n=E(n,i.ctx),w=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:w),(b=w&&w.props.itemVar)&&("~"!==b[0]&&F("Use itemVar='~myItem'"),b=b.slice(1)),!0===o&&(g=!0,o=0),a&&s&&s._.noVws&&(a=void 0),v=a,!0===a&&(v=void 0,a=i._.onRender),n=e.helpers?E(e.helpers,n):n,x=n,Z(t)&&!r)for((c=g?i:void 0!==o&&i||new _(n,"array",i,t,e,o,a,h))._.nl=y,i&&i._.useKey&&(c._.bnd=!s||s._.bnd&&s,c.tag=s),l=0,p=t.length;l<p;l++)u=new _(x,"item",c,t[l],e,(o||0)+l,a,c.content),b&&((u.ctx=d({},x))[b]=ee._cp(t[l],"#data",u)),f=e.fn(t[l],u,ee),C+=c._.onRender?c._.onRender(f,u):f;else c=g?i:new _(x,m||"data",i,t,e,o,a,h),b&&((c.ctx=d({},x))[b]=ee._cp(t,"#data",c)),c.tag=s,c._.nl=y,C+=e.fn(t,c,ee);return s&&(c.tagElse=w.index,w.contentView=c),v?v(C,c):C}function P(e){throw new ee.Err(e)}function F(e){P("Syntax error\n"+e)}function N(e,t,n,r,i){function o(t){(t-=g)&&v.push(e.substr(g,t).replace(fe,"\\n"))}function a(t,n){t&&(t+="}}",F((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}var s,l,d,p,c,u=te.allowCode||t&&t.allowCode||!0===re.allowCode,f=[],g=0,h=[],v=f,m=[,,f];if(u&&t._is&&(t.allowCode=u),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+ae),e=ie+e+se),a(h[0]&&h[0][2].pop()[0]),e.replace(L,function(s,l,c,f,_,b,x,w,y,C,k,j){(x&&l||y&&!c||w&&":"===w.slice(-1)||C)&&F(s),b&&(_=":",f=Fe),y=y||n&&!i;var T,A,P,N=(l||n)&&[[]],R="",$="",S="",E="",O="",I="",D="",q="",U=!y&&!_;c=c||(w=w||"#data",_),o(j),g=j+s.length,x?u&&v.push(["*","\n"+w.replace(/^:/,"ret+= ").replace(ge,"$1")+";\n"]):c?("else"===c&&(me.test(w)&&F('For "{{else if expr}}" use "{{else expr}}"'),N=m[9]&&[[]],m[10]=e.substring(m[10],j),A=m[11]||m[0]||F("Mismatched: "+s),m=h.pop(),v=m[2],U=!0),w&&V(w.replace(fe," "),N,t,n).replace(ve,function(e,t,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&(P=P||"@"===s[0]),r="'"+i+"':",a?($+=n+o+",",E+="'"+s+"',"):n?(S+=r+"j._cp("+o+',"'+s+'",view),',I+=r+"'"+s+"',"):t?D+=o:("trigger"===i&&(q+=o),"lateRender"===i&&(T="false"!==s),R+=r+o+",",O+=r+"'"+s+"',",p=p||xe.test(i)),""}).slice(0,-1),N&&N[0]&&N.pop(),d=[c,f||!!r||p||"",U&&[],M(E||(":"===c?"'#data',":""),O,I),M($||(":"===c?"data,":""),R,S),D,q,T,P,N||0],v.push(d),U&&(h.push(m),(m=d)[10]=g,m[11]=A)):k&&(a(k!==m[0]&&k!==m[11]&&k,m[0]),m[10]=e.substring(m[10],j),m=h.pop()),a(!m&&k),v=m[2]}),o(e.length),(g=f[f.length-1])&&a(""+g!==g&&+g[10]===g[10]&&g[0]),n){for(l=S(f,e,n),c=[],s=f.length;s--;)c.unshift(f[s][9]);R(l,c)}else l=S(f,t);return l}function R(e,t){var n,r,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++){e.paths.push(r=t[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}}function M(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function $(e,t){return"\n\tparams:{args:["+e[0]+"],\n\tprops:{"+e[1]+"}"+(e[2]?",\n\tctx:{"+e[2]+"}":"")+"},\n\targs:["+t[0]+"],\n\tprops:{"+t[1]+"}"+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function V(e,t,r,i){var o,a,s,l,d,p,c=t&&t[0],u={bd:c},f={0:u},g=0,h=0,v=0,m={},_=0,b={},x={},w={},y={0:0},C={0:""},k=0;return"@"===e[0]&&(e=e.replace(je,".")),l=(e+(r?" ":"")).replace(ee.rPrm,function(r,l,j,T,A,P,N,R,M,$,V,S,E,O,I,D,q,U,K,J,L){T&&!R&&(A=T+A),P=P||"",E=E||"",j=j||l||E,A=A||M,$&&($=!/\)|]/.test(L[J-1]))&&(A=A.slice(1).split(".").join("^")),V=V||U||"";var B,Q,H,W,Z,z,G,X=J;if(!p&&!d){if(N&&F(e),q&&c){if(B=w[v-1],L.length-1>X-(B||0)){if(B=n.trim(L.slice(B,X+r.length)),Q=a||f[v-1].bd,(H=Q[Q.length-1])&&H.prm){for(;H.sb&&H.sb.prm;)H=H.sb;W=H.sb={path:H.sb,bnd:H.bnd}}else Q.push(W={path:Q.pop()});H&&H.sb===W&&(C[v]=C[v-1].slice(H._cpPthSt)+C[v],C[v-1]=C[v-1].slice(0,H._cpPthSt)),W._cpPthSt=y[v-1],W._cpKey=B,C[v]+=L.slice(k,J),k=J,W._cpfn=Ve[B]=Ve[B]||new Function("data,view,j","//"+B+"\nvar v;\nreturn ((v="+C[v]+("]"===D?")]":D)+")!=null?v:null);"),C[v-1]+=x[h]&&ne.cache?'view.getCache("'+B.replace(he,"\\$&")+'"':C[v],W.prm=u.bd,W.bnd=W.bnd||W.path&&W.path.indexOf("^")>=0}C[v]=""}"["===V&&(V="[j._sq("),"["===j&&(j="[j._sq(")}return G=p?(p=!O)?r:E+'"':d?(d=!I)?r:E+'"':(j?(b[++h]=!0,m[h]=0,c&&(w[v++]=X++,u=f[v]={bd:[]},C[v]="",y[v]=1),j):"")+(K?h?"":(g=L.slice(g,X),(o?(o=s=a=!1,"\b"):"\b,")+g+(g=X+r.length,c&&t.push(u.bd=[]),"\b")):R?(v&&F(e),c&&t.pop(),o="_"+A,s=T,g=X+r.length,c&&(c=u.bd=t[o]=[],c.skp=!T),A+":"):A?A.split("^").join(".").replace(ee.rPath,function(e,n,r,s,l,d,p,f){if(Z="."===r,r&&(A=A.slice(n.length),/^\.?constructor$/.test(f||A)&&F(e),Z||(e=($?(i?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':l?"view":"data")+($?")===undefined"+(i?"":")")+'?"":view._getOb(ob,"':"")+(f?(d?"."+d:s?"":l?"":"."+r)+(p||""):(f=s?"":l?d||"":r,"")),e=n+("view.data"===(e+=f?"."+f:"").slice(0,9)?e.slice(5):e)+($?(i?'"':'",ltOb')+(V?",1)":")"):"")),c)){if(Q="_linkTo"===o?a=t._jsvto=t._jsvto||[]:u.bd,H=Z&&Q[Q.length-1]){if(H._cpfn){for(;H.sb;)H=H.sb;H.prm&&(H.bnd&&(A="^"+A.slice(1)),H.sb=A,H.bnd=H.bnd||"^"===A[0])}}else Q.push(A);V&&!Z&&(w[v]=X,y[v]=C[v].length)}return e})+(V||P):P||(D?"]"===D?")]":")":S?(x[h]||F(e),","):l?"":(p=O,d=I,'"'))),p||d||D&&(x[h]=!1,h--),c&&(p||d||(D&&(b[h+1]&&(u=f[--v],b[h+1]=!1),_=m[h+1]),V&&(m[h+1]=C[v].length+(j?1:0),(A||D)&&(u=f[++v]={bd:[]},b[h+1]=!0))),C[v]=(C[v]||"")+L.slice(k,J),k=J+r.length,p||d||((z=j&&b[h+1])&&(C[v-1]+=j,y[v-1]++),"("===V&&Z&&!W&&(C[v]=C[v-1].slice(_)+C[v],C[v-1]=C[v-1].slice(0,_))),C[v]+=z?G.slice(1):G),p||d||!V||(h++,A&&"("===V&&(x[h]=!0)),p||d||!U||(c&&(C[v]+=V),G+=V),G}),c&&(l=C[0]),!h&&l||F(e)}function S(e,t,n){var r,i,o,a,s,l,d,p,c,u,f,g,h,v,m,_,b,x,w,y,k,j,T,A,P,N,M,V,E,O,I,D,q=0,U=ne.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,K="",J={},L=e.length;for(""+t===t?(b=n?'data-link="'+t.replace(fe," ").slice(1,-1)+'"':t,t=0):(b=t.tmplName||"unnamed",t.allowCode&&(J.allowCode=!0),t.debug&&(J.debug=!0),u=t.bnds,_=t.tmpls),r=0;r<L;r++)if(""+(i=e[r])===i)K+='+"'+i+'"';else if("*"===(o=i[0]))K+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],y=!n&&i[2],s=$(i[3],g=i[4]),E=i[6],O=i[7],i[8]?(I="\nvar ob,ltOb={},ctxs=",D=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(I="\nreturn ",D=""),k=i[10]&&i[10].replace(ge,"$1"),(A="else"===o)?f&&f.push(i[9]):(M=i[5]||!1!==te.debugMode&&"undefined",u&&(f=i[9])&&(f=[f],q=u.push(1))),U=U||g[1]||g[2]||f||/view.(?!index)/.test(g[0]),(P=":"===o)?a&&(o=a===Fe?">":a+o):(y&&((x=C(k,J)).tmplName=b+"/"+o,x.useViews=x.useViews||U,S(y,x),U=x.useViews,_.push(x)),A||(w=o,U=U||o&&(!Y[o]||!Y[o].flow),T=K,K=""),j=(j=e[r+1])&&"else"===j[0]),V=M?";\ntry{\nret+=":"\n+",h="",v="",P&&(f||E||a&&a!==Fe||O)){if(N=new Function("data,view,j","// "+b+" "+ ++q+" "+o+I+"{"+s+"};"+D),N._er=M,N._tag=o,N._bd=!!f,N._lr=O,n)return N;R(N,f),c=!0,h=(m='c("'+a+'",view,')+q+",",v=")"}if(K+=P?(n?(M?"try{\n":"")+"return ":V)+(c?(c=void 0,U=p=!0,m+(N?(u[q-1]=N,q):"{"+s+"}")+")"):">"===o?(d=!0,"h("+g[0]+")"):(!0,"((v="+g[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,content:false,tmpl:"+(y?_.length:"false")+","+s+"},"),w&&!j){if(K="["+K.slice(0,-1)+"]",m='t("'+w+'",view,this,',n||f){if(K=new Function("data,view,j"," // "+b+" "+q+" "+w+I+K+D),K._er=M,K._tag=w,f&&R(u[q-1]=K,f),K._lr=O,n)return K;h=m+q+",undefined,",v=")"}K=T+V+m+(f&&q||K)+")",f=0,w=0}M&&!j&&(U=!0,K+=";\n}catch(e){ret"+(n?"urn ":"+=")+h+"j._err(e,view,"+M+")"+v+";}"+(n?"":"\nret=ret"))}K="// "+b+(J.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(p?",c=j._cnvt":"")+(d?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+K+(n?"\n":";\nreturn ret;");try{K=new Function("data,view,j",K)}catch(e){F("Compiled template code:\n\n"+K+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=K,t.useViews=!!U),K}function E(e,t){return e&&e!==t?t?d(d({},t),e):e:t&&d({},t)}function O(e,t){var r,i,o,a=t.tag,s=t.props,l=t.params.props,d=s.filter,p=s.sort,c=!0===p,u=parseInt(s.step),g=s.reverse?-1:1;if(!Z(e))return e;if(c||p&&""+p===p?((r=e.map(function(e,t){return e=c?e:f(e,p),{i:t,v:""+e===e?e.toLowerCase():e}})).sort(function(e,t){return e.v>t.v?g:e.v<t.v?-g:0}),e=r.map(function(t){return e[t.i]})):(p||g<0)&&!a.dataMap&&(e=e.slice()),W(p)&&(e=e.sort(function(){return p.apply(t,arguments)})),g<0&&(!p||W(p))&&(e=e.reverse()),e.filter&&d&&(e=e.filter(d,t),t.tag.onFilter&&t.tag.onFilter(t)),l.sorted&&(r=p||g<0?e:e.slice(),a.sorted?n.observable(a.sorted).refresh(r):t.map.sorted=r),i=s.start,o=s.end,(l.start&&void 0===i||l.end&&void 0===o)&&(i=o=0),isNaN(i)&&isNaN(o)||(i=+i||0,o=void 0===o||o>e.length?e.length:+o,e=e.slice(i,o)),u>1){for(i=0,o=e.length,r=[];i<o;i+=u)r.push(e[i]);e=r}return l.paged&&a.paged&&$observable(a.paged).refresh(e),e}function I(e,t,r){var i=this.jquery&&(this[0]||P("Unknown template")),o=i.getAttribute(Re);return T.call(o&&n.data(i)[Me]||z(i),e,t,r)}function D(e){return Ae[e]||(Ae[e]="&#"+e.charCodeAt(0)+";")}function q(e,t){return Pe[t]||""}function U(e){return void 0!=e?be.test(e)&&(""+e).replace(ye,D)||e:""}var K=!1===n;n=n&&n.fn?n:t.jQuery;var J,L,B,Q,H,W,Z,z,G,X,Y,ee,te,ne,re,ie,oe,ae,se,le,de,pe,ce="v1.0.10",ue="_ocp",fe=/[ \t]*(\r\n|\n|\r)/g,ge=/\\(['"\\])/g,he=/['"\\]/g,ve=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,me=/^if\s/,_e=/<(\w+)[>\s]/,be=/[\x00`><\"'&=]/,xe=/^on[A-Z]|^convert(Back)?$/,we=/^\#\d+_`[\s\S]*\/\d+_`$/,ye=/[\x00`><"'&=]/g,Ce=/[&<>]/g,ke=/&(amp|gt|lt);/g,je=/\[['"]?|['"]?\]/g,Te=0,Ae={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Pe={amp:"&",gt:">",lt:"<"},Fe="html",Ne="object",Re="data-jsv-tmpl",Me="jsvTmpl",$e="For #index in nested block use #getIndex().",Ve={},Se={},Ee=t.jsrender,Oe=Ee&&n&&!n.render,Ie={template:{compile:x},tag:{compile:function(e,t,n){function r(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}var o,a,s,l=new ee._tg;if(W(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),a=t.baseTag){t.flow=!!t.flow,(a=""+a===a?n&&n.tags[a]||Y[a]:a)||P('baseTag: "'+t.baseTag+'" not found'),l=d(l,a);for(s in t)l[s]=i(a[s],t[s])}else l=d(l,t);return void 0!==(o=l.template)&&(l.template=""+o===o?z[o]||z(o):o),(r.prototype=l).constructor=l._ctr=r,n&&(l._parentTmpl=n),l}},viewModel:{compile:function(e,t){function r(e){d.apply(this,e)}function i(){return new r(arguments)}function o(e,t){for(var n,r,i,o,a,s=0;s<_;s++)n=void 0,(i=u[s])+""!==i&&(i=(n=i).getter,a=n.parentRef),void 0===(o=e[i])&&n&&void 0!==(r=n.defaultVal)&&(o=w(r,e)),t(o,n&&c[n.type],i,a)}function a(e,t,n){e=e+""===e?JSON.parse(e):e;var r,a,s,l,d,p,c,u,f,h,v=0,m=this;if(Z(m)){for(c={},f=[],a=e.length,s=m.length;v<a;v++){for(u=e[v],p=!1,r=0;r<s&&!p;r++)c[r]||(d=m[r],g&&(c[r]=p=g+""===g?u[g]&&(x[g]?d[g]():d[g])===u[g]:g(d,u)));p?(d.merge(u),f.push(d)):(f.push(h=i.map(u)),n&&y(h,n,t))}b?b(m).refresh(f,!0):m.splice.apply(m,[0,m.length].concat(f))}else{o(e,function(e,t,n,r){t?m[n]().merge(e,m,r):m[n]()!==e&&m[n](e)});for(l in e)l===H||x[l]||(m[l]=e[l])}}function s(){function e(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}var t,n,r,i,o=0,a=this;if(Z(a))return e(a);for(t={};o<_;o++)r=void 0,(n=u[o])+""!==n&&(n=(r=n).getter),i=a[n](),t[n]=r&&i&&c[r.type]?Z(i)?e(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&x[n.slice(1)]||n===H||W(a[n])||(t[n]=a[n]);return t}var l,d,p,c=this,u=t.getters,f=t.extend,g=t.id,h=n.extend({_is:e||"unnamed",unmap:s,merge:a},f),v="",m="",_=u?u.length:0,b=n.observable,x={};for(r.prototype=h,l=0;l<_;l++)!function(e){e=e.getter||e,x[e]=l+1;var t="_"+e;v+=(v?",":"")+e,m+="this."+t+" = "+e+";\n",h[e]=h[e]||function(n){if(!arguments.length)return this[t];b?b(this).setProperty(e,n):this[t]=n},b&&(h[e].set=h[e].set||function(e){this[t]=e})}(u[l]);return m=new Function(v,m),d=function(){m.apply(this,arguments),(p=arguments[_+1])&&y(this,arguments[_],p)},d.prototype=h,h.constructor=d,i.map=function(t){var n,r,i,l,d=0,p=t=t+""===t?JSON.parse(t):t,c=[];if(Z(t)){for(n=(t=t||[]).length;d<n;d++)c.push(this.map(t[d]));return c._is=e,c.unmap=s,c.merge=a,c}if(t){for(o(t,function(e,t){t&&(e=t.map(e)),c.push(e)}),p=this.apply(this,c),d=_;d--;)if(i=c[d],(l=u[d].parentRef)&&i&&i.unmap)if(Z(i))for(n=i.length;n--;)y(i[n],l,p);else y(i,l,p);for(r in t)r===H||x[r]||(p[r]=t[r])}return p},i.getters=u,i.extend=f,i.id=g,i}},helper:{},converter:{}};if(Q={jsviews:ce,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:_,Err:l,tmplFn:N,parse:V,extend:d,extendCtx:E,syntaxErr:F,onStore:{template:function(e,t){null===t?delete Se[e]:e&&(Se[e]=t)}},addSetting:k,settings:{allowCode:!1},advSet:s,_thp:o,_gm:i,_tg:function(){},_cnvt:function(e,t,n,r){var i,a,s,l,p,c="number"==typeof n&&t.tmpl.bnds[n-1];if(void 0===r&&c&&c._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:c&&(n=c(t.data,t,ee)),c=c._bd&&c,e||c){if(a=t._lc,i=a&&a.tag,n.view=t,!i){if(i=d(new ee._tg,{_:{bnd:c,unlinked:!0,lt:n.lt},inline:!a,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),(l=n.args.length)>1)for(p=i.bindTo=[];l--;)p.unshift(l);a&&(a.tag=i,i.linkCtx=a),n.ctx=E(n.ctx,(a?a.view:t).ctx),o(i,n)}i._er=r&&s,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,s=i.cvtArgs()[0],i._er=r&&s}else s=n.args[0];return void 0!=(s=c&&t._.onRender?t._.onRender(s,t,i):s)?s:""},_tag:function(e,t,n,r,i,a){function s(e){var t=l[e];if(void 0!==t)for(t=Z(t)?t:[t],_=t.length;_--;)q=t[_],isNaN(parseInt(q))||(t[_]=parseInt(q));return t||[0]}var l,d,p,c,u,f,_,b,x,w,y,C,k,j,F,N,R,M,$,V,S,O,I,D,q,U,K,J,L,Q=0,H="",W=(t=t||B)._lc||!1,z=t.ctx,X=n||t.tmpl,Y="number"==typeof r&&t.tmpl.bnds[r-1];for("tag"===e._is?(e=(l=e).tagName,r=l.tagCtxs,l.template):(d=t.getRsc("tags",e)||P("Unknown tag: {{"+e+"}} ")).template,void 0===a&&Y&&(Y._lr=d.lateRender&&!1!==Y._lr||Y._lr)&&(a=""),void 0!==a?(H+=a,r=a=[{props:{},args:[],params:{props:{}}}]):Y&&(r=Y(t.data,t,ee)),f=r.length;Q<f;Q++)N=(w=r[Q]).tmpl,(!W||!W.tag||Q&&!W.tag.inline||l._er||N&&+N===N)&&(N&&X.tmpls&&(w.tmpl=w.content=X.tmpls[N-1]),w.index=Q,w.ctxPrm=g,w.render=T,w.cvtArgs=h,w.bndArgs=m,w.view=t,w.ctx=E(E(w.ctx,d&&d.ctx),z)),(n=w.props.tmpl)&&(w.tmpl=t._getTmpl(n),w.content=w.content||w.tmpl),l?W&&W.fn._lr&&(R=!!l.init):(R=!!(l=new d._ctr).init,l.parent=u=z&&z.tag,l.tagCtxs=r,W&&(l.inline=!1,W.tag=l),l.linkCtx=W,(l._.bnd=Y||W.fn)?(l._.ths=w.params.props.this,l._.lt=r.lt,l._.arrVws={}):l.dataBoundOnly&&P(e+" must be data-bound:\n{^{"+e+"}}")),I=l.dataMap,w.tag=l,I&&r&&(w.map=r[Q].map),l.flow||(y=w.ctx=w.ctx||{},p=l.parents=y.parentTags=z&&E(y.parentTags,z.parentTags)||{},u&&(p[u.tagName]=u),p[l.tagName]=y.tag=l,y.tagCtx=w);if(!(l._er=a)){for(o(l,r[0]),l.rendering={rndr:l.rendering},Q=0;Q<f;Q++){if(w=l.tagCtx=r[Q],O=w.props,l.ctx=w.ctx,!Q){if(R&&(l.init(w,W,l.ctx),R=void 0),w.args.length||!1===w.argDefault||!1===l.argDefault||(w.args=V=[w.view.data],w.params.args=["#data"]),k=s("bindTo"),void 0!==l.bindTo&&(l.bindTo=k),void 0!==l.bindFrom?l.bindFrom=s("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=k),j=l.bindFrom||k,K=k.length,U=j.length,l._.bnd&&(J=l.linkedElement)&&(l.linkedElement=J=Z(J)?J:[J],K!==J.length&&P("linkedElement not same length as bindTo")),(J=l.linkedCtxParam)&&(l.linkedCtxParam=J=Z(J)?J:[J],U!==J.length&&P("linkedCtxParam not same length as bindFrom/bindTo")),j)for(l._.fromIndex={},l._.toIndex={},b=U;b--;)for(q=j[b],_=K;_--;)q===k[_]&&(l._.fromIndex[_]=b,l._.toIndex[b]=_);W&&(W.attr=l.attr=W.attr||l.attr||W._dfAt),c=l.attr,l._.noVws=c&&c!==Fe}if(V=l.cvtArgs(Q),l.linkedCtxParam)for(S=l.cvtArgs(Q,1),_=U,L=l.constructor.prototype.ctx;_--;)(C=l.linkedCtxParam[_])&&(q=j[_],F=S[_],w.ctx[C]=ee._cp(L&&void 0===F?L[C]:F,void 0!==F&&v(w.params,q),w.view,l._.bnd&&{tag:l,cvt:l.convert,ind:_,tagElse:Q}));(M=O.dataMap||I)&&(V.length||O.dataMap)&&(($=w.map)&&$.src===V[0]&&!i||($&&$.src&&$.unmap(),M.map(V[0],w,$,!l._.bnd),$=w.map),V=[$.tgt]),x=void 0,l.render&&(x=l.render.apply(l,V),t.linked&&x&&!we.test(x)&&((n={links:[]}).render=n.fn=function(){return x},x=A(n,t.data,void 0,!0,t,void 0,void 0,l))),V.length||(V=[t]),void 0===x&&(D=V[0],l.contentCtx&&(D=!0===l.contentCtx?t:l.contentCtx(D)),x=w.render(D,!0)||(i?void 0:"")),H=H?H+(x||""):void 0!==x?""+x:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=r[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(H="text"===c?G.html(H):""),Y&&t._.onRender?t._.onRender(H,t,l):H},_er:P,_err:function(e,t,n){var r=void 0!==n?W(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return te.onError&&void 0!==(n=te.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t._lc?G.html(r):r},_cp:a,_sq:function(e){return"constructor"===e&&F(""),e}},settings:{delimiters:p,advanced:function(e){return e?(d(ne,e),ee.advSet(),re):ne}},map:j},(l.prototype=new Error).constructor=l,c.depends=function(){return[this.get("item"),"index"]},u.depends="index",_.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,r,i,o,a=this,s="root"===t;if(e){if(!(o=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=t?n[r].get(e,t):n[r]}else if(s)o=a.root;else if(t)for(;a&&!o;)o=a.type===t?a:void 0,a=a.parent;else o=a.parent;return o||void 0},getIndex:u,ctxPrm:g,getRsc:function(e,t){var n,r,i=this;if(""+t===t){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||Q[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||z(e))},_getOb:f,getCache:function(e){return te._cchCt>this.cache._ct&&(this.cache={_ct:te._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=Ve[e](this.data,this,ee)},_is:"view"},ee=Q.sub,re=Q.settings,!(Ee||n&&n.render)){for(J in Ie)!function(t,n){function r(o,a,s){var l,d,p,c=ee.onStore[t];if(o&&e(o)===Ne&&!o.nodeType&&!o.markup&&!o.getTgt&&!("viewModel"===t&&o.getters||o.extend)){for(d in o)r(d,o[d],a);return a||Q}return o&&""+o!==o&&(s=a,a=o,o=void 0),p=s?"viewModel"===t?s:s[i]=s[i]||{}:r,l=n.compile,void 0===a&&(a=l?o:p[o],o=void 0),null===a?o&&delete p[o]:(l&&((a=l.call(p,o,a,s,0)||{})._is=t),o&&(p[o]=a)),c&&c(o,a,s,l),a}var i=t+"s";Q[i]=r}(J,Ie[J]);if(G=Q.converters,X=Q.helpers,Y=Q.tags,ee._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:h,bndArgs:m,ctxPrm:g},B=ee.topView=new _,n){if(n.fn.render=I,H=n.expando,n.observable){if(ce!==(ce=n.views.jsviews))throw"jquery.observable.js requires jsrender.js "+ce;d(ee,n.views.sub),Q.map=n.views.map}}else n={},K&&(t.jsrender=n),n.renderFile=n.__express=n.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},n.isFunction=function(e){return"function"==typeof e},n.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},ee._jq=function(e){e!==n&&(d(e,n),(n=e).fn.render=I,delete n.jsrender,H=n.expando)},n.jsrender=ce;(te=ee.settings).allowCode=!1,W=n.isFunction,n.render=Se,n.views=Q,n.templates=z=Q.templates;for(de in te)k(de);(re.debugMode=function(e){return void 0===e?te.debugMode:(te._clFns&&te._clFns(),te.debugMode=e,te.onError=e+""===e?function(){return e}:W(e)?e:void 0,re)})(!1),ne=te.advanced={cache:!0,useViews:!1,_jsv:!1},Y({if:{render:function(e){var t=this,n=t.tagCtx;return t.rendering.done||!e&&(n.args.length||!n.index)?"":(t.rendering.done=!0,void(t.selected=n.index))},contentCtx:!0,flow:!0},for:{sortDataMap:j(O),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,n,r,i,o,a=this,s=a.tagCtx,l=!1===s.argDefault,d=s.props,p=l||s.args.length,c="",u=0;if(!a.rendering.done){if(t=p?e:s.view.data,l)for(l=d.reverse?"unshift":"push",i=+d.end,o=+d.step||1,t=[],r=+d.start||0;(i-r)*o>0;r+=o)t[l](r);void 0!==t&&(n=Z(t),c+=s.render(t,!p||d.noIteration),u+=n?t.length:1),(a.rendering.done=u)&&(a.selected=s.index)}return c},setDataMap:function(e){for(var t,n,r,i=this,o=e.length;o--;)n=(t=e[o]).props,r=t.params.props,t.argDefault=void 0===n.end||t.args.length>0,n.dataMap=!1!==t.argDefault&&Z(t.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&i.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:j(function(t,r){var i,o,a=r.map,s=a&&a.propsArr;if(!s){if(s=[],e(t)===Ne||W(t))for(i in t)o=t[i],i===H||!t.hasOwnProperty(i)||r.props.noFunctions&&n.isFunction(o)||s.push({key:i,prop:o});a&&(a.propsArr=a.options&&s)}return O(s,r)}),init:s,flow:!0},include:{flow:!0},"*":{render:a,flow:!0},":*":{render:a,flow:!0},dbg:X.dbg=G.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),G({html:U,attr:U,encode:function(e){return""+e===e?e.replace(Ce,D):e},unencode:function(e){return""+e===e?e.replace(ke,q):e},url:function(e){return void 0!=e?encodeURI(""+e):null===e?e:""}})}return te=ee.settings,Z=(n||Ee).isArray,re.delimiters("{{","}}","^"),Oe&&Ee.views.sub._jq(n),n||Ee},window)});
