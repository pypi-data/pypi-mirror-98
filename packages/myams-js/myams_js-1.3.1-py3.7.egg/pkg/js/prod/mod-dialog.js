function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){if("function"==typeof define&&define.amd)define(["exports","./ext-base"],t);else if("undefined"!=typeof exports)t(exports,require("./ext-base"));else{var o={};t(o,e.extBase),e.modDialog=o}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,p){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}Object.defineProperty(e,"__esModule",{value:!0}),e.dialog=void 0,p=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var d=a?Object.getOwnPropertyDescriptor(e,n):null;d&&(d.get||d.set)?Object.defineProperty(o,n,d):o[n]=e[n]}o.default=e,t&&t.set(e,o);return o}(p),window.jQuery||(window.$=window.jQuery=require("jquery"));var m={registerShownCallback:function(){},registerHideCallback:function(){},open:function(s,e,c){var f={},u=s;if("string"!=typeof s){f=s.data(),u=s.attr("href")||f.amsUrl;var t=(0,p.getFunctionByName)(u);"function"==typeof t&&(u=t.call(s))}if(u)return u.startsWith("#")?void $(u).modal("show"):$.ajax({type:"get",url:u,cache:void 0!==f.amsAllowCache&&f.amsAllowCache,data:e}).done(function(e,t,l){p.default.require(["ajax"],function(){var e=p.default.ajax.getResponse(l),t=e.contentType,o=e.data;switch(t){case"json":p.default.ajax.handleJSON(o,$($(s).data("ams-json-target")||"#content"));break;case"script":case"xml":break;case"html":case"text":default:var a=$(o),n=$(".modal-dialog",a.wrap("<div></div>").parent()),d=n.data()||{},r={backdrop:void 0===d.backdrop?"static":d.backdrop},i=$.extend({},r,d.amsModalOptions);i=(0,p.executeFunctionByName)(d.amsModalinitCallback,n,i)||i,c&&(c.shown&&config.registerShownCallback(c.shown,a),c.hide&&config.registerHideCallback(c.hide,a)),$("<div>").addClass("modal fade").data("dynamic",!0).append(a).on("shown.bs.modal",m.shown).on("hidden.bs.modal",m.hidden).modal(i),p.default.stats&&!1!==f.amsLogEvent&&!1!==d.amsLogEvent&&p.default.stats.logPageview(u)}})})},shown:function(e){var t=e.target;(0,p.initContent)(t)},close:function(e){"string"==typeof e&&(e=$(e));var t=e.parents(".modal").data("bs.modal");t&&t.hide()},hidden:function(e){var t=$(e.target);(0,p.clearContent)(t),!0===t.data("dynamic")&&t.remove()}};e.dialog=m;$(document).on("shown.bs.modal",".modal",function(e){var t=1100+100*$(".modal:visible").length;$(e.target).css("z-index",t),setTimeout(function(){$(".modal-backdrop").not(".modal-stack").first().css("z-index",t-10).addClass("modal-stack")},0)}),$(document).on("hidden.bs.modal",".modal",function(){$(".modal:visible").length&&($.fn.modal.Constructor.prototype._checkScrollbar(),$.fn.modal.Constructor.prototype._setScrollbar(),$("body").addClass("modal-open"))}),window.MyAMS&&(p.default.env.bundle?p.default.config.modules.push("dialog"):(p.default.dialog=m,console.debug("MyAMS: dialog module loaded...")))});