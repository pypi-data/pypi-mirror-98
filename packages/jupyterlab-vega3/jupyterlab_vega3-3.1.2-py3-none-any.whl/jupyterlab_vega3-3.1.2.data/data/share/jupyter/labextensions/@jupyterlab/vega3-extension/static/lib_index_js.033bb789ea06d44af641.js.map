{"version":3,"sources":["webpack://@jupyterlab/vega3-extension/./style/base.css","webpack://@jupyterlab/vega3-extension/./style/index.css","webpack://@jupyterlab/vega3-extension/./style/index.css?90c3","webpack://@jupyterlab/vega3-extension/./lib/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAC4H;AAC7B;AAC/F,8BAA8B,mFAA2B,CAAC,wGAAqC;AAC/F;AACA,8UAA8U,qBAAqB,oBAAoB,GAAG,8CAA8C,kBAAkB,GAAG,kBAAkB,0CAA0C,GAAG,SAAS,mFAAmF,QAAQ,MAAM,YAAY,WAAW,OAAO,KAAK,UAAU,MAAM,KAAK,YAAY,8TAA8T,qBAAqB,oBAAoB,GAAG,8CAA8C,kBAAkB,GAAG,kBAAkB,0CAA0C,GAAG,qBAAqB;AAC3qC;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;;;ACPvC;AAC4H;AAC7B;AACW;AAC1G,8BAA8B,mFAA2B,CAAC,wGAAqC;AAC/F,0BAA0B,kFAAiC;AAC3D;AACA,0TAA0T,oFAAoF,8TAA8T,qBAAqB;AACjuB;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;ACTwD;AAC/F,YAA6F;;AAE7F;;AAEA;AACA;;AAEA,aAAa,0GAAG,CAAC,mFAAO;;;;AAIxB,iEAAe,0FAAc,MAAM,E;;;;;;;;;;;ACZtB;AACb;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,uBAAuB,GAAG,qBAAqB,GAAG,0BAA0B,GAAG,sBAAsB;AACrG,kBAAkB,mBAAO,CAAC,wEAAiB;AAC3C,kCAAkC,mBAAO,CAAC,yEAAY;AACtD,mBAAO,CAAC,6CAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,6DAA6D,gBAAgB,kBAAkB;AAC/F,4BAA4B;AAC5B;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,uEAAuE,gBAAgB,uCAAuC;AAC9H,2CAA2C,OAAO;AAClD,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe","file":"lib_index_js.033bb789ea06d44af641.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*-----------------------------------------------------------------------------\\n| Copyright (c) Jupyter Development Team.\\n| Distributed under the terms of the Modified BSD License.\\n|----------------------------------------------------------------------------*/\\n\\n.jp-RenderedVegaCommon3 {\\n  margin-left: 8px;\\n  margin-top: 8px;\\n}\\n\\n.jp-MimeDocument .jp-RenderedVegaCommon3 {\\n  padding: 16px;\\n}\\n\\n.vega canvas {\\n  background: var(--jp-vega-background);\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/base.css\"],\"names\":[],\"mappings\":\"AAAA;;;8EAG8E;;AAE9E;EACE,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qCAAqC;AACvC\",\"sourcesContent\":[\"/*-----------------------------------------------------------------------------\\n| Copyright (c) Jupyter Development Team.\\n| Distributed under the terms of the Modified BSD License.\\n|----------------------------------------------------------------------------*/\\n\\n.jp-RenderedVegaCommon3 {\\n  margin-left: 8px;\\n  margin-top: 8px;\\n}\\n\\n.jp-MimeDocument .jp-RenderedVegaCommon3 {\\n  padding: 16px;\\n}\\n\\n.vega canvas {\\n  background: var(--jp-vega-background);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../node_modules/css-loader/dist/cjs.js!./base.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*-----------------------------------------------------------------------------\\n| Copyright (c) Jupyter Development Team.\\n| Distributed under the terms of the Modified BSD License.\\n|----------------------------------------------------------------------------*/\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./style/index.css\"],\"names\":[],\"mappings\":\"AAAA;;;8EAG8E\",\"sourcesContent\":[\"/*-----------------------------------------------------------------------------\\n| Copyright (c) Jupyter Development Team.\\n| Distributed under the terms of the Modified BSD License.\\n|----------------------------------------------------------------------------*/\\n\\n@import url('base.css');\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","\"use strict\";\n/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rendererFactory = exports.RenderedVega3 = exports.VEGALITE_MIME_TYPE = exports.VEGA_MIME_TYPE = void 0;\nconst widgets_1 = require(\"@lumino/widgets\");\nconst vega_embed_1 = __importStar(require(\"vega-embed\"));\nrequire(\"../style/index.css\");\n/**\n * The CSS class to add to the Vega and Vega-Lite widget.\n */\nconst VEGA_COMMON_CLASS = 'jp-RenderedVegaCommon3';\n/**\n * The CSS class to add to the Vega.\n */\nconst VEGA_CLASS = 'jp-RenderedVega3';\n/**\n * The CSS class to add to the Vega-Lite.\n */\nconst VEGALITE_CLASS = 'jp-RenderedVegaLite2';\n/**\n * The MIME type for Vega.\n *\n * #### Notes\n * The version of this follows the major version of Vega.\n */\nexports.VEGA_MIME_TYPE = 'application/vnd.vega.v3+json';\n/**\n * The MIME type for Vega-Lite.\n *\n * #### Notes\n * The version of this follows the major version of Vega-Lite.\n */\nexports.VEGALITE_MIME_TYPE = 'application/vnd.vegalite.v2+json';\n/**\n * A widget for rendering Vega or Vega-Lite data, for usage with rendermime.\n */\nclass RenderedVega3 extends widgets_1.Widget {\n    /**\n     * Create a new widget for rendering Vega/Vega-Lite.\n     */\n    constructor(options) {\n        super();\n        this._mimeType = options.mimeType;\n        this._resolver = options.resolver;\n        this.addClass(VEGA_COMMON_CLASS);\n        this.addClass(this._mimeType === exports.VEGA_MIME_TYPE ? VEGA_CLASS : VEGALITE_CLASS);\n    }\n    /**\n     * Render Vega/Vega-Lite into this widget's node.\n     */\n    renderModel(model) {\n        const data = model.data[this._mimeType];\n        const metadata = model.metadata[this._mimeType];\n        const embedOptions = metadata && metadata.embed_options ? metadata.embed_options : {};\n        const mode = this._mimeType === exports.VEGA_MIME_TYPE ? 'vega' : 'vega-lite';\n        return this._resolver.resolveUrl('').then((path) => {\n            return this._resolver.getDownloadUrl(path).then(baseURL => {\n                const loader = vega_embed_1.vega.loader({\n                    baseURL\n                });\n                const options = Object.assign(Object.assign({ actions: true }, embedOptions), { mode,\n                    loader });\n                const el = document.createElement('div');\n                this.node.innerHTML = ''; // clear the output before attaching a chart\n                this.node.appendChild(el);\n                return vega_embed_1.default(el, data, options).then(result => {\n                    // Add png representation of vega chart to output\n                    if (!model.data['image/png']) {\n                        return result.view.toImageURL('png').then(imageData => {\n                            const data = Object.assign(Object.assign({}, model.data), { 'image/png': imageData.split(',')[1] });\n                            model.setData({ data });\n                        });\n                    }\n                    return void 0;\n                });\n            });\n        });\n    }\n}\nexports.RenderedVega3 = RenderedVega3;\n/**\n * A mime renderer factory for vega data.\n */\nexports.rendererFactory = {\n    safe: true,\n    mimeTypes: [exports.VEGA_MIME_TYPE, exports.VEGALITE_MIME_TYPE],\n    createRenderer: options => new RenderedVega3(options)\n};\nconst extension = {\n    id: '@jupyterlab/vega3-extension:factory',\n    rendererFactory: exports.rendererFactory,\n    rank: 59,\n    dataType: 'json',\n    documentWidgetFactoryOptions: [\n        {\n            name: 'Vega 3',\n            primaryFileType: 'vega3',\n            fileTypes: ['vega3', 'json'],\n            defaultFor: ['vega3']\n        },\n        {\n            name: 'Vega-Lite 2',\n            primaryFileType: 'vega-lite2',\n            fileTypes: ['vega-lite2', 'json'],\n            defaultFor: ['vega-lite2']\n        }\n    ],\n    fileTypes: [\n        {\n            mimeTypes: [exports.VEGA_MIME_TYPE],\n            name: 'vega3',\n            extensions: ['.vg', '.vg.json', '.vega'],\n            iconClass: 'jp-MaterialIcon jp-VegaIcon'\n        },\n        {\n            mimeTypes: [exports.VEGALITE_MIME_TYPE],\n            name: 'vega-lite2',\n            extensions: ['.vl', '.vl.json', '.vegalite'],\n            iconClass: 'jp-MaterialIcon jp-VegaIcon'\n        }\n    ]\n};\nexports.default = extension;\n"],"sourceRoot":""}