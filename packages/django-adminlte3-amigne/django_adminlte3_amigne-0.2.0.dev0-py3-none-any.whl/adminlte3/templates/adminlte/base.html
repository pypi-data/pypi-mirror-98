{% load adminlte_helpers i18n %}
{% load static %}
<!DOCTYPE html>
<html lang="{% block html_lang %}en{% endblock html_lang %}">
    <head>
        {% block title_outer %}
            <title>{% block head_title %}{{ site.name }}{% endblock head_title %}</title>
        {% endblock title_outer %}

        {% block head_meta %}{% block meta %}
            <meta charset="utf-8">
            <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge">
            <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        {% endblock meta %}{% endblock head_meta %}

        {% block css %}{% block stylesheets %}
            <link rel="stylesheet" href="{% static 'admin-lte/plugins/fontawesome-free/css/all.min.css' %}">
            <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
            <link rel="stylesheet" type="text/css" href="{% static 'admin-lte/dist/css/adminlte.min.css' %}">
            <link rel="stylesheet" type="text/css" href="{% static 'admin-lte/plugins/icheck-bootstrap/icheck-bootstrap.min.css' %}">
            <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
            {% block css_xtra %}{% block style_sheets %}{% endblock style_sheets %}{% endblock css_xtra %}
        {% endblock stylesheets %}{% endblock css %}

        {% block head_xtra %}{% block extra_head %}{% endblock extra_head %}{% endblock head_xtra %}
    </head>
    <body class="{% block body_class %}hold-transition sidebar-mini {% block body_class_xtra %}layout-fixed{% endblock body_class_xtra %}{% endblock body_class %}">
        {% block body_wrapper %}{% block body %}
            <div class="wrapper">
                {% block nav_header %}
                    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
                        <!-- Header Navbar: style can be found in header.less -->
                        {% block nav_bar %}
                            {% block navbar_links %}
                                <!-- Left navbar links -->
                                <ul class="navbar-nav">
                                    <li class="nav-item">
                                        <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
                                    </li>
                                    <li class="nav-item d-none d-sm-inline-block">
                                        <a href="/" class="nav-link">Home</a>
                                    </li>
                                    <li class="nav-item d-none d-sm-inline-block">
                                        <a href="/admin" class="nav-link">Admin</a>
                                    </li>
                                </ul>
                            {% endblock navbar_links %}

                            {% block navbar_center %}{% block nav_bar_center %}
                                <!-- SEARCH FORM -->
                                <form class="form-inline ml-3">
                                    <div class="input-group input-group-sm">
                                        <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                                        <div class="input-group-append">
                                            <button class="btn btn-navbar" type="submit">
                                                <i class="fas fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            {% endblock nav_bar_center %}{% endblock navbar_center %}

                            {% block navbar_custom %}{% block nav_custom_menu %}
                                <!-- Right navbar links -->
                                <ul class="navbar-nav ml-auto">
                                    {% block header_dropdowns %}
                                        <!-- Messages Dropdown Menu -->
                                        <li class="nav-item dropdown">
                                            <a class="nav-link" data-toggle="dropdown" href="#">
                                                <i class="far fa-comments"></i>
                                                <span class="badge badge-danger navbar-badge">3</span>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                                                <a href="#" class="dropdown-item">
                                                    <!-- Message Start -->
                                                    <div class="media">
                                                        <img src="{% static 'admin-lte/dist/img/user1-128x128.jpg' %}" alt="User Avatar" class="img-size-50 mr-3 img-circle">
                                                        <div class="media-body">
                                                            <h3 class="dropdown-item-title">
                                                                Brad Diesel
                                                                <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
                                                            </h3>
                                                            <p class="text-sm">Call me whenever you can...</p>
                                                            <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                                        </div>
                                                    </div>
                                                    <!-- Message End -->
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item">
                                                    <!-- Message Start -->
                                                    <div class="media">
                                                        <img src="{% static 'admin-lte/dist/img/user4-128x128.jpg' %}"
                                                             alt="User Avatar"
                                                             class="img-size-50 img-circle mr-3">
                                                        <div class="media-body">
                                                            <h3 class="dropdown-item-title">
                                                                John Pierce
                                                                <span class="float-right text-sm text-muted"><i
                                                                        class="fas fa-star"></i></span>
                                                            </h3>
                                                            <p class="text-sm">I got your message bro</p>
                                                            <p class="text-sm text-muted"><i
                                                                    class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                                        </div>
                                                    </div>
                                                    <!-- Message End -->
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item">
                                                    <!-- Message Start -->
                                                    <div class="media">
                                                        <img src="{% static 'admin-lte/dist/img/user3-128x128.jpg' %}"
                                                             alt="User Avatar" class="img-size-50 img-circle mr-3">
                                                        <div class="media-body">
                                                            <h3 class="dropdown-item-title">
                                                                Nora Silvester
                                                                <span class="float-right text-sm text-warning"><i
                                                                        class="fas fa-star"></i></span>
                                                            </h3>
                                                            <p class="text-sm">The subject goes here</p>
                                                            <p class="text-sm text-muted"><i
                                                                    class="far fa-clock mr-1"></i> 4 Hours Ago</p>
                                                        </div>
                                                    </div>
                                                    <!-- Message End -->
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
                                            </div>
                                        </li>
                                        <!-- Notifications Dropdown Menu -->
                                        <li class="nav-item dropdown">
                                            <a class="nav-link" data-toggle="dropdown" href="#">
                                                <i class="far fa-bell"></i>
                                                <span class="badge badge-warning navbar-badge">15</span>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                                                <span class="dropdown-item dropdown-header">15 Notifications</span>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item">
                                                    <i class="fas fa-envelope mr-2"></i> 4 new messages
                                                    <span class="float-right text-muted text-sm">3 mins</span>
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item">
                                                    <i class="fas fa-users mr-2"></i> 8 friend requests
                                                    <span class="float-right text-muted text-sm">12 hours</span>
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item">
                                                    <i class="fas fa-file mr-2"></i> 3 new reports
                                                    <span class="float-right text-muted text-sm">2 days</span>
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="#" class="dropdown-item dropdown-footer">See All
                                                    Notifications</a>
                                            </div>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                                                <i class="fas fa-expand-arrows-alt"></i>
                                            </a>
                                        </li>
                                        {% block user_info %}
                                            {% if request.user.is_authenticated %}
                                                <li class="nav-item dropdown user-menu">
                                                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown"
                                                       aria-expanded="true">
                                                        <img src="{% avatar_url 128 %}"
                                                             class="user-image img-circle elevation-2" alt="User Image">
                                                        <span class="d-none d-md-inline">{% firstof request.user.get_short_name request.user.get_username %}</span>
                                                    </a>
                                                    <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                                                        <!-- User image -->
                                                        <li class="user-header bg-primary">
                                                            <img src="{% avatar_url size=160 %}"
                                                                 class="img-circle elevation-2" alt="User Image">

                                                            <p>
                                                                {% firstof request.user.get_short_name request.user.get_username %}
                                                                - {% firstof request.user.get_role %}
                                                                <small>Member since
                                                                    : {{ request.user.date_joined }}</small>
                                                            </p>
                                                        </li>
                                                        <!-- Menu Body -->
                                                        <li class="user-body">
                                                            <div class="row">
                                                                <div class="col-4 text-center">
                                                                    <a href="#">Profile</a>
                                                                </div>
                                                                <div class="col-4 text-center">
                                                                    <a href="#">Team</a>
                                                                </div>
                                                                <div class="col-4 text-center">
                                                                    <a href="#">Friends</a>
                                                                </div>
                                                            </div>
                                                            <!-- /.row -->
                                                        </li>
                                                        <!-- Menu Footer-->
                                                        <li class="user-footer">
                                                            <a href="
                                                                    {% block change_password_url %}{% url 'admin:password_change' %}{% endblock change_password_url %}"
                                                               class="btn btn-default btn-flat">{% trans 'Change Password' %}</a>
                                                            <a href="
                                                                    {% block logout_url %}{% logout_url %}{% endblock logout_url %}"
                                                               class="btn btn-default btn-flat float-right">{% trans 'Sign Out' %}</a>
                                                        </li>
                                                    </ul>
                                                </li>
                                            {% endif %}
                                        {% endblock user_info %}
                                    {% endblock header_dropdowns %}
                                </ul>
                            {% endblock nav_custom_menu %}{% endblock navbar_custom %}
                        {% endblock nav_bar %}
                    </nav>
                {% endblock nav_header %}

                {% block nav_sidebar %}
                    <aside class="main-sidebar sidebar-dark-primary elevation-4">
                        <!-- Brand Logo -->
                        {% block logo %}
                            <a href="/" class="brand-link">
                                <img src="{% static 'admin-lte/dist/img/AdminLTELogo.png' %}" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
                                {% block logo_text %}<span class="brand-text font-weight-light">AdminLTE 3 </span>{% endblock %}
                            </a>
                        {% endblock logo %}
                        <!-- sidebar: style can be found in sidebar.less -->
                        <div class="sidebar">
                            {% block div_sidebar %}
                                <!-- Sidebar user panel -->
                                {% block sidebar_user_panel %}{% block user_panel %}
                                    <!-- Sidebar user panel (optional) -->
                                    <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                                        <div class="image">
                                            <img src="{% avatar_url size=90 %}" class="img-circle elevation-2"
                                                 alt="User Image">
                                        </div>
                                        <div class="info">
                                            <a href="#"
                                               class="d-block">{% firstof request.user.get_full_name request.user.username %}</a>
                                        </div>
                                    </div>
                                {% endblock user_panel %}{% endblock sidebar_user_panel %}

                                {% block sidebar_search_form %}{% block form %}{% endblock form %}{% endblock sidebar_search_form %}

                                <!-- sidebar menu: : style can be found in sidebar.less -->
                                {% block sidebar_menu %}{% block nav_links_ul %}
                                    <nav class="mt-2">
                                        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview"
                                            role="menu"
                                            data-accordion="false">
                                            {% block nav_links_outer %}
                                                <li class="nav-header">{% block nav_heading %}MAIN NAVIGATION{% endblock nav_heading%}</li>
                                                {% block nav_links %}
                                                    <li class="nav-item">
                                                        <a href="#" class="nav-link">
                                                            <i class="nav-icon fas fa-tachometer-alt"></i>
                                                            <p>Example link</p>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a href="#" class="nav-link active">
                                                            <i class="nav-icon fas fa-tachometer-alt"></i>
                                                            <p>Example link active</p>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item has-tree-view ">
                                                        <a href="#" class="nav-link">
                                                            <i class="nav-icon fas fa-object-group"></i>
                                                            <p>Sub menu</p>
                                                            <p><i class="right fas fa-angle-left"></i>
                                                            </p>
                                                        </a>
                                                        <ul class="nav nav-treeview menu-open">
                                                            <li class="nav-item">
                                                                <a href="#" class="nav-link">
                                                                    <i class="nav-icon fas fa-circle"></i> link
                                                                </a>
                                                            </li>
                                                            <li class="nav-item">
                                                                <a href="#" class="nav-link active">
                                                                    <i class="nav-icon fas fa-user"></i> Another link
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                {% endblock nav_links %}
                                            {% endblock nav_links_outer %}
                                        </ul>
                                    </nav>
                                {% endblock nav_links_ul %}{% endblock sidebar_menu %}
                            {% endblock div_sidebar %}
                        </div>
                        <!-- /.sidebar -->
                    </aside>
                {% endblock nav_sidebar %}

                {% block content_wrapper %}
                    <div class="content-wrapper">
                        {% block content_header %}
                            <section class="content-header">
                                {% block no_heading %}
                                    <h1>
                                        {% block title %}{% block page_name %}{% endblock page_name %}{% endblock title %}
                                        <div class="header-actions">
                                            {% block header_actions %}{% block page_actions %}{% endblock page_actions %}{% endblock header_actions %}
                                        </div>
                                        {% block no_description %}
                                            <small>{% block page_description %}{% endblock page_description %}</small>
                                        {% endblock no_description %}
                                    </h1>
                                    {% block breadcrumbs %}{# Breadcrumb implementation left to developers #}{% endblock breadcrumbs %}
                                {% endblock no_heading %}
                            </section>
                        {% endblock content_header %}

                        {% block content_section %}{% block content_outer %}
                            <section class="content">
                                {% block messages %}
                                    {% if messages %}
                                        {% for message in messages %}
                                            {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                                                <div class="alert alert-success alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                                    {{ message }}
                                                </div>
                                            {% elif message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                                                <div class="alert alert-danger alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                                    {{ message }}
                                                </div>
                                            {% else %}
                                                <div class="alert alert-info alert-dismissible">
                                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                                                    {{ message }}
                                                </div>
                                            {% endif %}
                                        {% endfor %}
                                    {% endif %}
                                {% endblock messages %}

                                {% block content_block_wrap %}{% block content %}{% endblock %}{% endblock %}
                            </section>
                        {% endblock content_outer %}{% endblock content_section %}
                    </div>
                {% endblock content_wrapper %}
        
                {% block footer_wrapper %}{% block nav_footer %}
                    <footer class="main-footer">
                        <div class="float-right d-none d-sm-block">
                            {% block footer_right %}
                                <b>Version</b> {% block version %}0.1{% endblock version %}
                            {% endblock footer_right %}
                        </div>

                        {% block footer_left %}
                            {% block legal %}
                                <strong>Copyright &copy; {% now "Y" %}{% if not site %}.{% endif %}
                                    {% if site %}
                                        <a href="http://{{ site.domain }}">{{ site.name }}</a>
                                    {% endif %}
                                </strong> All rights reserved.
                            {% endblock legal %}
                        {% endblock footer_left %}
                    </footer>
                {% endblock %}{% endblock footer_wrapper %}
            </div>
        {% endblock body %}{% endblock body_wrapper %}

        {% block js %}{% block javascript %}
            <script src="{% static 'admin-lte/plugins/jquery/jquery.min.js' %}"></script>
            <script src="{% static 'admin-lte/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
            <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
            <script>
                $.widget.bridge('uibutton', $.ui.button);
            </script>
            <script src="{% static 'admin-lte/plugins/bootstrap/js/bootstrap.bundle.min.js' %} "></script>
            <script src="{% static 'admin-lte/dist/js/adminlte.min.js' %}"></script>
            <script src="{% static 'admin-lte/dist/js/demo.js' %}"></script>

            {% block js_xtra %}{% endblock %}
        {% endblock javascript %}{% endblock js %}
        {% block extra_js %}{% endblock %}

        {% block body_xtra %}{% block extra_foot %}{% endblock extra_foot %}{% endblock body_xtra %}
    </body>
</html>
