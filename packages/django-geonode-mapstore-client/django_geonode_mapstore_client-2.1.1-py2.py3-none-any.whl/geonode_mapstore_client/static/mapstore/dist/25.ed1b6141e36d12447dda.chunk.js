(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./js/components/openlayers/ArcGisMapServer.js":function(e,t,r){"use strict";r.r(t);var o=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./node_modules/ol/layer/Tile.js"),s=r("./node_modules/ol/extent.js"),n=r("./node_modules/ol/math.js"),a=r("./node_modules/ol/obj.js"),l=r("./node_modules/ol/size.js"),p=r("./node_modules/ol/source/TileImage.js"),c=r("./node_modules/ol/tilecoord.js"),u=r("./node_modules/ol/uri.js");function d(e,t,r){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(r)),!(o.getResolutions().length<=e[0])){var i=o.getTileCoordExtent(e,this.tmpExtent_),s=Object(l.d)(o.getTileSize(e[0]),this.tmpSize);1!=t&&(s=Object(l.c)(s,t,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(a.a)(n,this.params_),this.getRequestUrl_(e,s,i,t,r,n)}}var _=function(e){function t(t){var r=t||{};e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:d,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition}),this.params_=r.params||{},this.tmpExtent_=Object(s.j)(),this.setKey(this.getKeyForParams_())}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,o,i,s){var a=this.urls;if(a){var l,p=i.getCode().split(":").pop();if(s.SIZE=t[0]+","+t[1],s.BBOX=r.join(","),s.BBOXSR=p,s.IMAGESR=p,s.DPI=Math.round(s.DPI?s.DPI*o:90*o),1==a.length)l=a[0];else l=a[Object(n.d)(Object(c.e)(e),a.length)];var d=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return Object(u.a)(d,s)}},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.updateParams=function(e){Object(a.a)(this.params_,e),this.setKey(this.getKeyForParams_())},t}(p.a);Object(o.registerType)("arcgis",{create:function(e){return new i.a({opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new _({params:{LAYERS:"show:".concat(parseInt(e.name||0,10))},url:e.url})})}})},"./node_modules/ol/layer/Tile.js":function(e,t,r){"use strict";var o=r("./node_modules/ol/LayerType.js"),i=r("./node_modules/ol/layer/Layer.js"),s=r("./node_modules/ol/layer/TileProperty.js"),n=r("./node_modules/ol/obj.js"),a=function(e){function t(t){var r=t||{},i=Object(n.a)({},r);delete i.preload,delete i.useInterimTilesOnError,e.call(this,i),this.setPreload(void 0!==r.preload?r.preload:0),this.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),this.type=o.a.TILE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPreload=function(){return this.get(s.a.PRELOAD)},t.prototype.setPreload=function(e){this.set(s.a.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(s.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(s.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(i.a);a.prototype.getSource,t.a=a},"./node_modules/ol/layer/TileProperty.js":function(e,t,r){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}}}]);