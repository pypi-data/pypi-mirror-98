(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),i=r("./MapStore2/web/client/utils/leaflet/Layers.js");r("./node_modules/leaflet-plugins/layer/tile/Bing.js");var a=r("./node_modules/object-assign/index.js");n.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+n.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),i=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,a=document.createElement("script");a.type="text/javascript",a.src=i,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},n.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},i.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=a({},r,{zoomOffset:e.zoomOffset})),new n.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),n.registerType("google",(function(e){return i.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),a=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),n.registerType("graticule",{create:function(e){var t=a({interval:20,showOriginLabel:!0,redraw:"move"},e);return i?new i(t):null},isValid:function(){return!!i}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/mapquest.js");a.registerType("mapquest",{create:function(e){return o?o.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("osm",(function(e){return i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("tms",(function(e){return i.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./MapStore2/web/client/utils/leaflet/Layers.js"),s=r("./MapStore2/web/client/libs/leaflet.js"),c=r("./MapStore2/web/client/utils/TileConfigProvider.js");l.registerType("tileprovider",(function(e){var t=a(c.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),2),r=t[0],o=t[1];return s.tileLayer(r,o)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./node_modules/lodash/lodash.js").isNil,a=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=a.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return a.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){!function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))}(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(i(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=i(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash/lodash.js"),i=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(i),o=r("./MapStore2/web/client/utils/ColorUtils.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=r("./MapStore2/web/client/utils/leaflet/Layers.js"),c=r.n(s),u=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),p=r("./MapStore2/web/client/api/WFS.js"),f=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e,t){e.fireEvent("loading");var r=Object(u.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return Object(p.getFeature)(t.url,t.name,y({outputFormat:"application/json",maxFeatures:1e3,srsname:Object(l.normalizeSRS)("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},h=function(e){var t=e||{},r=t.color,n=t.fillColor;return y(y({},m(t,["color","fillColor"])),{},{color:Object(o.b)(r,1),fillColor:Object(o.b)(n,1)})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return h(t)},S=function(e,t){var r=v(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},w=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=v(e),i=function(t,n){return"marker"===e.styleName?a.a.marker(n,r):a.a.circleMarker(n,r)},o=new a.a.GeoJSON(t,{pointToLayer:i,style:r});return o.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=y({},o.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,i=t.opacity,a=void 0===i?1:i,l=y(y({},t),{},{opacity:a*e,fillOpacity:n*e});o.setStyle(h(l)),w(o,e)},o.on("layeradd",(function(){S(o,e),o.setOpacity(Object(n.isNil)(o.opacity)?e.opacity:o.opacity)})),o};c.a.registerType("wfs",{create:function(e){var t=j(e);return b(t,e),t.opacity=Object(n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),Object(f.needsReload)(r,t)&&b(e,t),Object(n.isEqual)(t.style,r.style)||S(e,t),t.styleName!==r.styleName){var i=e.toGeoJSON().features;return j(t,i)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx").default,o=r("./MapStore2/web/client/utils/leaflet/Layers.js"),l=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,s=r("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),c=r("./MapStore2/web/client/libs/leaflet.js"),u=r("./node_modules/object-assign/index.js"),p=r("./node_modules/lodash/lodash.js"),f=p.isArray,m=p.isNil,d=r("./MapStore2/web/client/utils/SecurityUtils.js"),y=d.addAuthenticationToSLD,g=d.addAuthenticationParameter,b=r("./MapStore2/web/client/utils/ElevationUtils.js"),h=b.loadTile,v=b.getElevation,S=r("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,w=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;r("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),c.NonTiledLayer.WMSCustom=c.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=c.extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,c.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),c.nonTiledLayer.wmsCustom=function(e,t){return new c.NonTiledLayer.WMSCustom(e,t)},c.TileLayer.MultipleUrlWMS=c.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=c.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&c.Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(i)||"CRS"===i.toUpperCase()||"maxNativeZoom"===i||(r[i]=t[i]);this.wmsParams=r,c.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),i=n.add([r,r]),a=this._crs.project(t.unproject(n,e.z)),o=this._crs.project(t.unproject(i,e.z)),l=this._wmsVersion>=1.3&&this._crs===c.CRS.EPSG4326?[o.y,a.x,a.y,o.x].join(","):[a.x,o.y,o.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var s=c.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return s+c.Util.getParamString(this.wmsParams,s,!0)+"&BBOX="+l},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),c.tileLayer.multipleUrlWMS=function(e,t){return new c.TileLayer.MultipleUrlWMS(e,t)},c.TileLayer.ElevationWMS=c.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,c.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);h(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=v(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:i.createElement(a,{msgId:n.message})}catch(e){return i.createElement(a,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return u(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new c.Point(r,n)},_removeTile:function(){},_abortLoading:function(){}}),c.tileLayer.elevationWMS=function(e,t,r){return new c.TileLayer.ElevationWMS(e,t,r)};var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return m(e[r])?t:u(t,n({},r,e[r]))}),{})};function M(e){var t=void 0!==e.opacity?e.opacity:1,r=l(e),n=u({},e.baseParams,{attribution:e.credits&&S(e.credits),layers:e.name,styles:e.style||"",format:(w(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},u(e._v_?{_v_:e._v_}:{},r||{}));return y(n,e)}function x(e){return e.map((function(e){return e.split("?")[0]}))}o.registerType("wms",{create:function(e){var t=x(f(e.url)?e.url:[e.url]),r=j(M(e)||{});return t.forEach((function(t){return g(t,r,e.securityToken)})),e.useForElevation?c.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?c.nonTiledLayer.wmsCustom(t[0],r):c.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var i=x(f(t.url)?t.url:[t.url]),a=M(t)||{};return i.forEach((function(e){return g(e,a,t.securityToken)})),t.singleTile?c.nonTiledLayer.wmsCustom(i[0],a):c.tileLayer.multipleUrlWMS(i,a)}var o=u({},s.filterWMSParamOptions(M(r)),y(r.params||{},r)),l=u({},s.filterWMSParamOptions(M(t)),y(t.params||{},t)),p=Object.keys(l).filter((function(e){return l[e]!==o[e]})),m=Object.keys(o).filter((function(e){return o[e]!==l[e]})),d={};return m.length>0&&e.removeParams(m,p.length>0),p.length>0&&(d=p.reduce((function(e,t){return u({},e,n({},t,l[t]))}),d),e.setParams(j(u(d,d.params,y(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),o=r("./MapStore2/web/client/libs/leaflet.js"),l=r.n(o),s=r("./node_modules/object-assign/index.js"),c=r.n(s),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r("./MapStore2/web/client/utils/WMTSUtils.js"),f=r("./MapStore2/web/client/utils/leaflet/WMTS.js"),m=r.n(f),d=r("./node_modules/lodash/lodash.js"),y=r("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,r){return new m.a(e,t,r)};var g=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(d.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=Object(a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),r=p.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return c()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(y.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:Object(a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return Object(u.addAuthenticationParameter)(t,r,e.securityToken)}));var n=Object(a.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),i=p.getTileMatrix(e,n),o=i.tileMatrixSet,s=i.matrixIds;return l.a.tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:o})};i.a.registerType("wmts",{create:g,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?g(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:r("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:r("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/libs/leaflet.js":function(e,t){e.exports=window.L},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var n,i=r("./node_modules/tinycolor2/tinycolor.js"),a=r.n(i),o=r("./node_modules/lodash/lodash.js"),l=function(e,t,r,i){var a=e;isNaN(parseFloat(e))&&(a=n.hexToHsv(e)[0]);var o=.5/(r-1),l=t/(r-1),s=[];1===r&&(o=.5,l=t/2);for(var c=0;c<r;c++){var u=a+c*l-t/2,p=o*c+.3,f=p;i&&(u=i.h||u,p=i.s||p,f=i.v||f),s.push(n.hsvToHex(u,p,f,c))}return s},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return a()(e).toHexString()},c=function(e,t,r){var n=a()(e);return e&&n.setAlpha(Object(o.toNumber)(void 0!==t?t:n.getAlpha())).toRgbString()||r};n={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,r){return e instanceof Array?n.rgbToHex(e[0],e[1],e[2]):"#"+n.decToHex(e)+n.decToHex(t)+n.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return n.rgbToHsv(e[0],e[1],e[2]);var i,a,o,l,s,c=e/255,u=t/255,p=r/255;switch(i=Math.min(Math.min(c,u),p),o=(a=Math.max(Math.max(c,u),p))-i,a){case i:l=0;break;case c:l=60*(u-p)/o,u<p&&(l+=360);break;case u:l=60*(p-c)/o+120;break;case p:l=60*(c-u)/o+240}return s=0===a?0:1-i/a,[Math.round(l),s,a]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],i=function e(t,r,i){var a=e(t,r,i);return n.rgbToHex(a)},a=0;a<e;a++)r.push(i(t*a,.57,.63));return r},sameToneRangeColors:l,hsvToRgb:function(e,t,r){if(e instanceof Array)return n.hsvToRgb(e[0],e[1],e[2]);var i,a,o,l=Math.floor(e/60%6),s=e/60-l,c=r*(1-t),u=r*(1-s*t),p=r*(1-(1-s)*t);switch(l){case 0:i=r,a=p,o=c;break;case 1:i=u,a=r,o=c;break;case 2:i=c,a=r,o=p;break;case 3:i=c,a=u,o=r;break;case 4:i=p,a=c,o=r;break;case 5:i=r,a=c,o=u}return[n.realToDec(i),n.realToDec(a),n.realToDec(o)]},hsvToHex:function(e,t,r){var i=n.hsvToRgb(e,t,r);return n.rgbToHex(i)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=n.hexToRgb(t);return n.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,i=e;return"#"===i.charAt(0)&&(i=e.substring(1)),t=i.charAt(0)+i.charAt(1),r=i.charAt(2)+i.charAt(3),n=i.charAt(4)+i.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:s,colorToRgbaStr:c}},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"loadTile",(function(){return u})),r.d(t,"getElevation",(function(){return p})),r.d(t,"reset",(function(){return f}));var n=r("./MapStore2/web/client/libs/ajax.js"),i=r.n(n),a=r("./node_modules/lrucache/index.js"),o=r.n(a),l=r("./node_modules/es6-promise/dist/es6-promise.js"),s=new o.a(100),c=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,a=n*e+r;try{var o=t.dataView.getInt16(2*a,!1);if(o!==i&&32767!==o&&-32768!==o)return o}catch(e){}return null},u=function(e,t,r){return s.has(r)?null:new l.Promise((function(n,a){i.a.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,r){s.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,r),n()})).catch((function(e){!function(e,t,r){s.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),a(e)}))}))},p=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,i=s.get(e);return i&&"success"===i.status?{available:!0,value:c(r,i,t.x,t.y,n)}:i&&"loading"===i.status?{available:!1,message:"elevationLoading"}:i&&"error"===i.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=new o.a(e.max||100)}},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,r){var n=r("./node_modules/object-assign/index.js"),i={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&i.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=i},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/web/client/utils/MapUtils.js").getScales,l=r("./MapStore2/web/client/utils/CoordinatesUtils.js").parseString,s=r("./node_modules/lodash/lodash.js"),c=s.head,u=s.isNumber,p=a.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=a.extend({},this.defaultWmtsParams),i=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&a.Browser.retina?n.width=n.height=2*i:n.width=n.height=i,t)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=t[o]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,a.setOptions(this,t)},getWMTSParams:function(e,t,r,n,i){var a=o()[r],s=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),i=parseFloat(e[r+1].ScaleDenominator);return n>=a&&i<a?a-i>(n-i)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),p=s&&u(s.id)&&s.id+""||0===e.length&&r||null;if(!t[p])return null;var f=t[p].identifier,m=s.data&&s.data.TopLeftCorner&&l(s.data.TopLeftCorner)||t[p].topLeftCorner,d=m.lng||m.x,y=m.lat||m.y,g=Math.round((n.x-d)/i),b=-Math.round((n.y-y)/i),h=s.data&&s.data.MatrixWidth&&s.data.MatrixHeight&&{cols:{min:0,max:s.data.MatrixWidth-1},rows:{min:0,max:s.data.MatrixHeight-1}},v=t[p].ranges||h;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max)&&!(t<r.rows.min||t>r.rows.max)}(g,b,v)?null:{ident:f,tilecol:g,tilerow:b}},getTileUrl:function(e){var t=this._map,r=t.options.crs,i=this.options.tileSize,o=e.multiplyBy(i);o.x+=1,o.y-=1;var l=o.add([i,i]),s=r.project(t.unproject(o,e.z)),c=r.project(t.unproject(l,e.z)).x-s.x,u=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,s,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=a.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+a.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new a.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new a.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p}}]);