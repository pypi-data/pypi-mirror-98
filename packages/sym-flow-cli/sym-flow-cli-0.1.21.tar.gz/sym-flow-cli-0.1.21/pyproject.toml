[tool.poetry]
name = "sym-flow-cli"
version = "0.1.21"
description = "Sym's Official CLI for Implementers"
authors = ["SymOps, Inc. <pypi@symops.io>"]
packages = [{ include = "sym/*" }]
readme = "DESCRIPTION.md"
homepage = "https://symops.com/"
documentation = "https://docs.symops.com/docs/install-sym-flow"
classifiers=[
    "Programming Language :: Python :: 3",
    "Operating System :: OS Independent",
]

[tool.poetry.dependencies]
python = "^3.8"
click = "^7.1.2"
PyYAML = "^5.3.1"
sentry-sdk = "^0.19.3"
validators = "^0.18.1"
analytics-python = "^1.2.9"
boto3 = "^1.16.20"
immutables = "^0.14"
portalocker = "^2.0.0"
policyuniverse = "^1.3.2"
pkce = "^1.0"
policy-sentry = "0.9.0"
sym-cli = "0.1.22"
tabulate = "^0.8.7"
python-dateutil = "^2.8.1"

[tool.poetry.dev-dependencies]
black = "^20.8b1"
pylint = "^2.6.0"
autoflake = "^1.4"
mypy = "^0.790"
pytest = "^6.1.2"
twine = "^3.2.0"
isort = "^5.6.4"
pytest-cov = "^2.10.1"
codecov = "^2.1.10"
setuptools = "^50.3.2"
ipython = "^7.19.0"
dephell = "^0.8.3"
pytest-mock = "^3.3.1"
tox = "^3.20.1"
tox-pyenv = "^1.1.0"
dunamai = "^1.5.3"
pre-commit = "^2.9.3"
pytest-xdist = {extras = ["psutil"], version = "^2.2.0"}
expects = "^0.9.0"

# virtualenv is a dependency of our other packages and 20.4.2 is breaking
# installation, so force it to 20.4.0 here for now.
virtualenv = ">= 20.4.0, != 20.4.2"


[tool.black]
line-length = 90
target-version = ['py37', 'py38']
include = '(src\/scripts\/.*$|\.pyi?$)'
exclude = '''
/(
    \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.tox
  | \.venv
  | _build
  | build
  | dist
)/
'''

[tool.dephell.main]
from = {format = "poetry", path = "pyproject.toml"}
to = {format = "setuppy", path = "setup.py"}

[tool.poetry.scripts]
symflow = "sym.flow.cli.symflow:symflow"

[build-system]
# setuptools MUST be here for setup.py to work https://github.com/python-poetry/poetry/issues/3153
requires = ["setuptools", "poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
