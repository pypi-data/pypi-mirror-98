!function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],u=0,f=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={161:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/";var s=window.coreJsonp=window.coreJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([1955,0]),n()}({1286:function(e,t){e.exports=jQuery},1955:function(e,t,n){e.exports=n(1956)},1956:function(e,t,n){"use strict";n.r(t),function(e){n(1408),n(1411),n(1412),n(1515),n(1516),n(1957);!function(t){function n(){$("#person-filters ul > li").removeClass("enabled");var t=$(".js-event-person-list tr[data-person-roles]"),n=$(".js-event-person-list [data-filter]:checked").map((function(){var e=$(this);return e.closest("li").addClass("enabled"),e.data("filter")})).get(),o=t.filter((function(){var t=$(this);return e.any(n,(function(e){return t.data("person-roles")[e]}))}));t.addClass("hidden"),o.removeClass("hidden"),$(".js-event-person-list").trigger("indico:syncEnableIfChecked")}function o(){var e=$("#person-filters [data-filter]:checked").length===$("#person-filters [data-filter]:not(#filter-no-account)").length;$(".js-reset-role-filter").toggleClass("disabled",e)}function r(){$(".js-show-regforms").qtip({content:{text:function(){return $(this).data("title")}},hide:{delay:100,fixed:!0}})}t.setupEventManagementActionMenu=function(){$("#event-action-move-to-category").on("click",(function(e){e.preventDefault();var t=$(this);$("<div>").categorynavigator({openInDialog:!0,actionOn:{categoriesWithSubcategories:{disabled:!0},categoriesWithoutEventCreationRights:{disabled:!0},categories:{disabled:!0,ids:[t.data("category-id")]}},onAction:function(e){var n=$T.gettext('You are about to move the event to the category "{0}". Are you sure you want to proceed?').format(e.title);confirmPrompt(n,$T.gettext("Move event")).then((function(){$.ajax({url:t.data("href"),type:"POST",data:{target_category_id:e.id},error:handleAjaxError,success:function(e){e.success&&location.reload()}})}))}})})),$("#event-action-menu-clones-target").qbubble({content:{text:$("#event-action-menu-clones")}}),$("#event-action-menu-actions-target").qbubble({content:{text:$("#event-action-menu-actions")},style:{classes:"qtip-allow-overflow"}});$(["#event-action-menu-actions button:not(.js-dropdown)","#event-action-menu-actions a:not(.disabled)"].join(", ")).on("click",(function(){$("#event-action-menu-actions-target").qbubble("hide")}))},t.setupEventPersonsList=function(t){t=$.extend({hasNoAccountFilter:!1},t);var a=setupSearchBox({itemHandle:"tr",listItems:"#event-participants-list tbody tr:not(.hidden)",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"});enableIfChecked(".js-event-person-list",".select-row:visible",".js-event-person-list .js-requires-selected-row"),$(".js-event-person-list").closest(".ui-dialog").length&&$(".js-event-person-list [data-toggle=dropdown]").closest(".toolbar").dropdown(),$(".js-event-person-list [data-filter]").on("click",n),$(".js-event-person-list td").on("mouseenter",(function(){var e=$(this);this.offsetWidth<this.scrollWidth&&!e.attr("title")&&e.attr("title",e.text())})),$(".js-event-person-list .tablesorter").tablesorter({cssAsc:"header-sort-asc",cssDesc:"header-sort-desc",headerTemplate:"",sortList:[[1,0]]});var i=$(".js-event-person-list .roles-column > span");i.qbubble({show:{event:"mouseover"},hide:{fixed:!0,delay:100,event:"mouseleave"},position:{my:"left center",at:"right center"},content:{text:function(){var t=$(this),n=$("<div>"),o=$("<strong>",{text:$(this).data("role-name")});if(n.append(o),t.is(".js-count-label")){var r=$("<ul>",{class:"qbubble-item-list"}),a=e.values(t.data("items")).sort((function(e,t){return strnatcmp(e.title.toLowerCase(),t.title.toLowerCase())}));$.each(a,(function(){var e=$("<li>");this.url?e.append($("<a>",{text:this.title,href:this.url})):e.text(this.title),r.append(e)})),n.append(r)}return n}}}),i.filter(".custom").each((function(){var e=$(this);e.css("background-color",$.Color(e.css("color")).alpha(.1))})),t.hasNoAccountFilter&&($(".js-event-person-list [data-filter]:not(#filter-no-account)").on("change",(function(){$("#filter-no-account").prop("checked",!1),n(),a()})),$("#filter-no-account").on("change",(function(){this.checked&&$(".js-event-person-list [data-filter]:checked:not(#filter-no-account)").prop("checked",!1),n(),a()}))),r();var s=$("#person-filters");s.find("li .colored-square").each((function(){var e=$(this);e.closest("li").css("background-color",$.Color(e.css("color")).alpha(.1))})),s.find(".js-reset-role-filter").on("click",(function(){$(".js-event-person-list [data-filter]").each((function(){var e=$(this);e.prop("checked",!e.is("#filter-no-account")),e.parent().toggleClass("enabled",!e.is("#filter-no-account"))})),n(),a(),o()})),s.find("li label").on("click",(function(e){e.preventDefault()})),s.find("li").on("click",(function(){var e=$(this).find("[data-filter]");e.prop("checked",!e.prop("checked")).trigger("change"),o()})),$("#event-participants-list").on("indico:htmlUpdated",r)},t.showUndoWarning=function(e,t,n){cornerMessage({message:e,progressMessage:$T.gettext("Undoing previous operation..."),feedbackMessage:t,actionLabel:$T.gettext("Undo"),actionCallback:n,duration:1e4,feedbackDuration:4e3,class:"warning"})},t.handleSelectedRowHighlight=function(e){var t=$("table.i-table input.select-row").on("change",(function(){$(this).closest("tr").toggleClass("selected",this.checked)}));e&&t.trigger("change")},t.showThemeSettingsForm=function(e){e=$.extend(!0,{formUrl:null,themeFieldId:null,lastFieldId:null},e),$("#"+e.themeFieldId).on("change",(function(){$.ajax({url:e.formUrl,data:{theme:$(this).val()},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success:function(t){var n=$("#"+e.lastFieldId);n.nextAll(":not(.form-group-footer)").remove(),t.html&&n.after(t.html),t.js&&$("body").append(t.js)}})}))}}(window)}.call(this,n(267).default)},1957:function(e,t){!function(e){"use strict";window.setupBadgePrinting=function(e){var t=$("#template"),n=$("#page_layout"),o=$("#dashed_border"),r=$("#page_size"),a=$("#page_orientation"),i=$(".margin-editor"),s=$(".info");function l(e,t,n){({A0:"A2",A1:"A3",A2:"A4",A3:"A5",A4:"A6",A5:"A7",A6:"A8"})[t]===e.format&&n===e.orientation?$("#page_layout option[value='foldable']").prop("disabled",!1):($("#page_layout option[value='foldable']").prop("disabled",!0),"foldable"===$("#page_layout :selected").val()&&$("#page_layout :selected").next().prop("selected",!0))}t.on("change",(function(){var t=$(this),o=e[parseInt(t.val(),10)];n.closest(".form-group").toggle(!!o.backside_tpl_id),n.val("front_only"),l(o,r.val(),a.val())})).change(),n.on("change",(function(){i.add(s).toggle("foldable"!==$(this).val()),o.closest(".form-group").toggle("foldable"!==$(this).val())})).change(),r.add(a).on("change",(function(){l(e[parseInt(t.val(),10)],r.val(),a.val()),n.change()})).change()}}()}});
//# sourceMappingURL=module_events.management.356b9c16.bundle.js.map