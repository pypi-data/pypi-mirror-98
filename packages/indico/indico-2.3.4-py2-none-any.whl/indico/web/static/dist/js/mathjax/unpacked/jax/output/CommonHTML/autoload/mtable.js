MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",(function(){var t=MathJax.ElementJax.mml,e=MathJax.Hub.config,a=MathJax.OutputJax.CommonHTML,i=MathJax.Hub.SplitList,l=-1;t.mtable.Augment({toCommonHTML:function(t){var e={rows:[],labels:[],labeled:!1};t=this.CHTMLdefaultNode(t,{noBBox:!0,childOptions:e});for(var i=a.Element("mjx-table");t.firstChild;)i.appendChild(t.firstChild);t.appendChild(i);var l=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","width","side","minlabelspacing","useHeight"),n=a.TEX.min_rule_thickness/a.em;e.t=a.Px(n*this.CHTML.scale,1),this.CHTMLgetBoxSizes(l,e),this.CHTMLgetAttributes(l,e),this.CHTMLadjustCells(l,e),l.frame&&(i.style.border=e.t+" "+l.frame),this.CHTMLalignV(l,e,t),this.CHTMLcolumnWidths(l,e,t),this.CHTMLstretchCells(l,e),e.labeled&&this.CHTMLaddLabels(l,e,t,i);var h=this.CHTML;return h.w=h.r=e.R,h.h=h.t=e.T-e.B,h.d=h.b=e.B,l.frame||h.pwidth||(t.style.padding="0 "+a.Em(1/6),h.L=h.R=1/6),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLgetBoxSizes:function(t,e){var i,n,h=a.FONTDATA.lineH*t.useHeight,s=a.FONTDATA.lineD*t.useHeight,r=[],m=[],o=[],d=-1;for(i=0,n=this.data.length;i<n;i++){var g=this.data[i],C="mtr"===g.type?0:l;r[i]=h,m[i]=s;for(var f=C,H=g.data.length+C;f<H;f++){null==o[f]&&(o[f]=-1e6,f>d&&(d=f));var L=g.data[f-C].CHTML;L.h>r[i]&&(r[i]=L.h),L.d>m[i]&&(m[i]=L.d),L.w>o[f]&&(o[f]=L.w)}}if(t.equalrows){e.HD=!0;var T=Math.max.apply(Math,r),c=Math.max.apply(Math,m);for(i=0,n=r.length;i<n;i++)r[i]=T,m[i]=c}e.H=r,e.D=m,e.W=o,e.J=d},CHTMLgetAttributes:function(e,a){var l,n,h=i(e.columnspacing),s=i(e.rowspacing),r=i(e.columnalign),m=i(e.rowalign),o=i(e.columnlines),d=i(e.rowlines),g=i(e.columnwidth),C=[],f=a.J,H=a.rows.length-1;for(l=0,n=h.length;l<n;l++)h[l]=this.CHTMLlength2em(h[l]);for(l=0,n=s.length;l<n;l++)s[l]=this.CHTMLlength2em(s[l]);for(;h.length<f;)h.push(h[h.length-1]);for(;r.length<=f;)r.push(r[r.length-1]);for(;o.length<f;)o.push(o[o.length-1]);for(;g.length<=f;)g.push(g[g.length-1]);for(;s.length<H;)s.push(s[s.length-1]);for(;m.length<=H;)m.push(m[m.length-1]);for(;d.length<H;)d.push(d[d.length-1]);for(r[-1]="l"===e.side.substr(0,1)?"left":"right",l=0;l<=H;l++){var L=this.data[l];if(C[l]=[],L.rowalign&&(m[l]=L.rowalign),L.columnalign)for(C[l]=i(L.columnalign);C[l].length<=f;)C[l].push(C[l][C[l].length-1])}var T=i(e.framespacing);2!=T.length&&(T=i(this.defaults.framespacing)),T[0]=Math.max(0,this.CHTMLlength2em(T[0])),T[1]=Math.max(0,this.CHTMLlength2em(T[1])),""===e.columnlines.replace(/none/g,"").replace(/ /g,"")&&""===e.rowlines.replace(/none/g,"").replace(/ /g,"")||(e.fspace=!0),e.frame===t.LINES.NONE?delete e.frame:e.fspace=!0,e.frame&&(T[0]=Math.max(0,T[0]),T[1]=Math.max(0,T[1])),e.fspace?(h[f]=T[0],s[H]=T[1]):h[f]=s[H]=0,o[f]=d[H]=t.LINES.NONE,a.CSPACE=h,a.RSPACE=s,a.CALIGN=r,a.RALIGN=m,a.CLINES=o,a.RLINES=d,a.CWIDTH=g,a.RCALIGN=C,a.FSPACE=T},CHTMLadjustCells:function(e,i){var n=i.rows,h=i.CSPACE,s=i.CLINES,r=i.RSPACE,m=i.RLINES,o=i.CALIGN,d=i.RALIGN,g=i.RCALIGN;h[i.J]*=2,r[n.length-1]*=2;var C,f,H,L,T,c,u="0",M=0;e.fspace&&(M=i.FSPACE[1],u=a.Em(i.FSPACE[1])),i.RHD=[],i.RH=[];for(var p=0,E=n.length;p<E;p++){var N=n[p],v=this.data[p];if(C=r[p]/2,L=null,H="0",m[p]!==t.LINES.NONE&&""!==m[p]&&(L=i.t+" "+m[p]),L||s[w]!==t.LINES.NONE&&""!==s[w])for(;N.length<=i.J;)N.push(a.addElement(N.node,"mjx-mtd",null,[["span"]]));i.RH[p]=M+i.H[p],M=Math.max(0,C),i.RHD[p]=i.RH[p]+M+i.D[p],C=a.Em(M),e.fspace&&(H=a.Em(i.FSPACE[0]));for(var w=0,A=N.length;w<A;w++){var x="mtr"===v.type?0:l,I=v.data[w-x]||{CHTML:a.BBOX.zero()},y=N[w].style;T=I.CHTML,f=h[w]/2,s[w]!==t.LINES.NONE&&(y.borderRight=i.t+" "+s[w],f-=1/a.em/2),f=a.Em(Math.max(0,f)),y.padding=u+" "+f+" 0px "+H,L&&(y.borderBottom=L),H=f,c=I.rowalign||(this.data[p]||{}).rowalign||d[p];var b=Math.max(1,T.h),R=Math.max(.2,T.d),S=i.H[p]+i.D[p]-(b+R),D=N[w].firstChild.style;c===t.ALIGN.TOP?(S&&(D.marginBottom=a.Em(S)),y.verticalAlign="top"):c===t.ALIGN.BOTTOM?(y.verticalAlign="bottom",S&&(D.marginTop=a.Em(S))):c===t.ALIGN.CENTER?(S&&(D.marginTop=D.marginBottom=a.Em(S/2)),y.verticalAlign="middle"):b!==i.H[p]&&(D.marginTop=a.Em(i.H[p]-b)),(c=I.columnalign||g[p][w]||o[w])!==t.ALIGN.CENTER&&(y.textAlign=c)}N.node.style.height=a.Em(i.RHD[p]),u=C}h[i.J]/=2,r[n.length-1]/=2},CHTMLalignV:function(t,e,i){var l,n=e.rows.length,h=e.H,s=e.D,r=e.RSPACE;"string"!=typeof t.align&&(t.align=String(t.align)),t.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(l=parseInt(RegExp.$3||"0"),t.align=RegExp.$1,l<0&&(l+=e.rows.length+1),(l>n||l<=0)&&(l=null)):t.align=this.defaults.align;var m=0,o=0,d=a.TEX.axis_height;t.fspace&&(m+=e.FSPACE[1]),t.frame&&(m+=2/a.em,o+=1/a.em);for(var g=0;g<n;g++){var C=h[g],f=s[g];m+=C+f+r[g],l&&(g===l-1&&(o+={top:C+f,bottom:0,center:(C+f)/2,baseline:f,axis:d+f}[t.align]+r[g]),g>=l&&(o+=C+f+r[g]))}l||(o={top:m,bottom:0,center:m/2,baseline:m/2,axis:m/2-d}[t.align]),o&&(i.style.verticalAlign=a.Em(-o)),e.T=m,e.B=o},CHTMLcolumnWidths:function(t,e,i){var l,n,h,s,r=e.CWIDTH,m=e.CSPACE,o=e.J,d=0,g=!1,C=t.width.match(/%$/);if("auto"===t.width||C||(d=Math.max(0,this.CHTMLlength2em(t.width,e.R)),g=!0),t.equalcolumns){if(C){var f=a.Percent(1/(o+1));for(l=0;l<=o;l++)r[l]=f}else{if(s=Math.max.apply(Math,e.W),"auto"!==t.width){var H=t.fspace?e.FSPACE[0]+(t.frame?2/a.em:0):0;for(l=0;l<=o;l++)H+=m[l];s=Math.max((d-H)/(o+1),s)}for(s=a.Em(s),l=0;l<=o;l++)r[l]=s}g=!0}var L=0;t.fspace&&(L=e.FSPACE[0]);var T=[],c=[],u=[],M=[],p=e.rows[0];for(l=0;l<=o;l++)M[l]=e.W[l],"auto"===r[l]?T.push(l):"fit"===r[l]?c.push(l):r[l].match(/%$/)?u.push(l):M[l]=this.CHTMLlength2em(r[l],M[l]),L+=M[l]+m[l],p[l]&&(p[l].style.width=a.Em(M[l]));t.frame&&(L+=2/a.em);var E=c.length>0;if(g||C&&E)if(C)for(l=0;l<=o;l++)cell=p[l].style,"auto"!==r[l]||E?"fit"===r[l]?cell.width="":r[l].match(/%$/)?cell.width=r[l]:cell.minWidth=cell.maxWidth=cell.width:cell.width="";else{if(d>L){var N=0;for(n=0,h=u.length;n<h;n++)l=u[n],N+=(s=Math.max(M[l],this.CHTMLlength2em(r[l],d)))-M[l],M[l]=s,p[l].style.width=a.Em(s);L+=N}if(E||(c=T),d>L&&c.length){var v=(d-L)/c.length;for(n=0,h=c.length;n<h;n++)M[l=c[n]]+=v,p[l].style.width=a.Em(M[l]);L=d}}M[-1]=e.W[-1],e.W=M,e.R=L,C&&(i.style.width=this.CHTML.pwidth="100%",this.CHTML.mwidth=a.Em(L),i.firstChild.style.width=t.width,i.firstChild.style.margin="auto")},CHTMLstretchCells:function(t,e){for(var a=e.rows,i=e.H,l=e.D,n=e.W,h=e.J,s=a.length-1,r=0;r<=s;r++)for(var m=a[r],o=this.data[r],d=i[r],g=l[r],C=0;C<=h;C++){var f=m[C],H=o.data[C];H&&("V"===H.CHTML.stretch?H.CHTMLstretchV(d,g):"H"===H.CHTML.stretch&&H.CHTMLstretchH(f,n[C]))}},CHTMLaddLabels:function(i,l,n,h){var s=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");s.indentalignfirst!==t.INDENTALIGN.INDENTALIGN&&(s.indentalign=s.indentalignfirst),s.indentalign===t.INDENTALIGN.AUTO&&(s.indentalign=e.displayAlign),s.indentshiftfirst!==t.INDENTSHIFT.INDENTSHIFT&&(s.indentshift=s.indentshiftfirst),"auto"===s.indentshift&&(s.indentshift="0");var r=this.CHTMLlength2em(s.indentshift,a.cwidth),m=this.CHTMLlength2em(i.minlabelspacing,.8)+l.W[-1],o=0,d=l.R,g=this.CHTMLlength2em(e.displayIndent,a.cwidth),C=l.CALIGN[-1]===t.INDENTALIGN.RIGHT?-1:1;s.indentalign===t.INDENTALIGN.CENTER?(d+=2*(m-C*(r+g)),r+=g):l.CALIGN[-1]===s.indentalign?(g<0&&(o=C*g,g=0),m>C*(r+=C*g)&&(r=C*m),r+=o,d+=r*=C):(d+=m-C*r+g,r-=C*g,r*=-C);var f=a.addElement(n,"mjx-box",{style:{width:"100%","text-align":s.indentalign}});f.appendChild(h);var H=a.Element("mjx-itable");if(h.style.display="inline-table",h.style.width||(h.style.width="auto"),H.style.verticalAlign="top",h.style.verticalAlign=a.Em(l.T-l.B-l.H[0]),n.style.verticalAlign="",r)if(s.indentalign===t.INDENTALIGN.CENTER)h.style.marginLeft=a.Em(r),h.style.marginRight=a.Em(-r);else{var L="margin"+(s.indentalign===t.INDENTALIGN.RIGHT?"Right":"Left");h.style[L]=a.Em(r)}"left"===l.CALIGN[-1]?(n.insertBefore(H,f),H.style.marginRight=a.Em(-l.W[-1]-o),o&&(H.style.marginLeft=a.Em(o))):(n.appendChild(H),H.style.marginLeft=a.Em(-l.W[-1]+o));var T=l.labels,c=0;i.fspace&&(c=l.FSPACE[0]+(i.frame?1/a.em:0));for(var u=0,M=T.length;u<M;u++)if(T[u]&&this.data[u].data[0]){H.appendChild(T[u]);var p=this.data[u].data[0].CHTML;(c=l.RH[u]-Math.max(1,p.h))&&(T[u].firstChild.firstChild.style.marginTop=a.Em(c)),T[u].style.height=a.Em(l.RHD[u])}else a.addElement(H,"mjx-label",{style:{height:a.Em(l.RHD[u])}});n.style.width=this.CHTML.pwidth="100%",n.style.minWidth=this.CHTML.mwidth=a.Em(Math.max(0,d))}}),t.mtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var a=[];e.rows.push(a),a.node=t,e.labels.push(null);for(var i=0,l=this.data.length;i<l;i++)a.push(this.CHTMLaddChild(t,i,e));return this.CHTMLhandleColor(t),t}}),t.mlabeledtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var i=[];e.rows.push(i),i.node=t;var l=a.Element("mjx-label");e.labels.push(l),this.CHTMLaddChild(l,0,e),this.data[0]&&(e.labeled=!0);for(var n=1,h=this.data.length;n<h;n++)i.push(this.CHTMLaddChild(t,n,e));return this.CHTMLhandleColor(t),t}}),t.mtd.Augment({toCommonHTML:function(t,e){if(t=this.CHTMLdefaultNode(t,e),a.addElement(t.firstChild,"mjx-strut"),this.isEmbellished()){var i=this.CoreMO(),l=this.CHTML;if(i.CHTMLcanStretch("Vertical")?l.stretch="V":i.CHTMLcanStretch("Horizontal")&&(l.stretch="H"),l.stretch){var n=i.Get("minsize",!0);if(n)if("V"===l.stretch){var h=l.h+l.d;if(h){var s=this.CHTMLlength2em(n,h)/h;s>1&&(l.h*=s,l.d*=s)}}else l.w=Math.max(l.w,this.CHTMLlength2em(n,l.w))}}return t}}),MathJax.Hub.Startup.signal.Post("CommonHTML mtable Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/mtable.js")}));