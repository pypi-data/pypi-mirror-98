sources:
  poll:
    poll_interval: 5
    blocks:
      - [999, 1065]
      - [4044, 4051]
parameters:
  voltage-ph-ph-3-phase-avg:
    source: poll
    form:
      type: ParamCType
      address: 1013
      idx: voltage-ph-ph-3-phase-avg
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-3-phase-avg:
    source: poll
    form:
      type: ParamCType
      address: 1017
      idx: current-3-phase-avg
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-i1:
    source: poll
    form:
      type: ParamCType
      address: 1033
      idx: current-i1
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-i2:
    source: poll
    form:
      type: ParamCType
      address: 1035
      idx: current-i2
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-i3:
    source: poll
    form:
      type: ParamCType
      address: 1037
      idx: current-i3
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-a-b:
    source: poll
    form:
      type: ParamCType
      address: 1053
      idx: voltage-a-b
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-b-c:
    source: poll
    form:
      type: ParamCType
      address: 1055
      idx: voltage-b-c
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-c-a:
    source: poll
    form:
      type: ParamCType
      address: 1057
      idx: voltage-c-a
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-a-n:
    source: poll
    form:
      type: ParamCType
      address: 1059
      idx: voltage-a-n
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-b-n:
    source: poll
    form:
      type: ParamCType
      address: 1061
      idx: voltage-b-n
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-c-n:
    source: poll
    form:
      type: ParamCType
      address: 1063
      idx: voltage-c-n
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  total-active-power:
    source: poll
    form:
      type: ParamCTypeScale
      address: 1005
      idx: total-active-power
      data_type: float
      scale: 1000
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  total-apparent-power:
    source: poll
    form:
      type: ParamCTypeScale
      address: 1007
      idx: total-apparent-power
      data_type: float
      scale: 1000
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  total-power-factor:
    source: poll
    form:
      type: ParamCTypeScaleModulus
      address: 4047
      idx: total-power-factor
      data_type: ushort
      modulus: 32768
      scale: 0.001
      invert_on_overflow: true
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  total-positive-energy:
    source: poll
    form:
      type: ParamCTypeScale
      address: 999
      idx: total-positive-energy
      data_type: float
      scale: 1000
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  frequency:
    source: poll
    form:
      type: ParamCType
      address: 1019
      idx: frequency
      data_type: float
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-a-thd:
    source: poll
    form:
      type: Param
      address: 4044
      idx: current-a-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-b-thd:
    source: poll
    form:
      type: Param
      address: 4045
      idx: current-b-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  current-c-thd:
    source: poll
    form:
      type: Param
      address: 4046
      idx: current-c-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-a-n-thd:
    source: poll
    form:
      type: Param
      address: 4048
      idx: voltage-a-n-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-b-n-thd:
    source: poll
    form:
      type: Param
      address: 4049
      idx: voltage-b-n-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
  voltage-c-n-thd:
    source: poll
    form:
      type: Param
      address: 4050
      idx: voltage-c-n-thd
      scale: 0.1
    triggers:
      process:
        store:
          - [always]
        send:
          - [time, 60]
