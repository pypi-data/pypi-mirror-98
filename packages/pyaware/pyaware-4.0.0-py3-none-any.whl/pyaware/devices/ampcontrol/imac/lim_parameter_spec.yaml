parameters:
  dev_id:
    source: roll
    triggers:
      process:
        store:
          - [always]
        send:
          - [always]
  address-single:
    source: block
    form:
      type: ParamMask
      address: 1038
      idx: address-single
      block: 0
      mask: 0xFF
    triggers:
      process:
        store:
          - [always]
        send:
          - [always]
      write:
        validators:
          - trig_type: range
            min: 0
            max: 255
  mode:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: mode
      block: 0
      mask: 0xf000
      rshift: 12
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
      write:
        validators:
          - trig_type: range
            min: 0
            max: 2
  digital-no-bits-profile:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: digital-no-bits-profile
      block: 0
      mask: 0x0f00
      rshift: 8
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-1-bit:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: digital-priority-1-bit
      block: 0
      mask: 0x00f0
      rshift: 4
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-1-profile:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: digital-priority-1-profile
      block: 0
      mask: 0x000f
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-2-bit:
    source: block
    form:
      type: ParamMask
      address: 1040
      idx: digital-priority-2-bit
      block: 0
      mask: 0xf000
      rshift: 12
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-2-profile:
    source: block
    form:
      type: ParamMask
      address: 1040
      idx: digital-priority-2-profile
      block: 0
      mask: 0x0f00
      rshift: 8
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-3-bit:
    source: block
    form:
      type: ParamMask
      address: 1040
      idx: digital-priority-3-bit
      block: 0
      mask: 0x00f0
      rshift: 4
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-3-profile:
    source: block
    form:
      type: ParamMask
      address: 1040
      idx: digital-priority-3-profile
      block: 0
      mask: 0x000f
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-4-bit:
    source: block
    form:
      type: ParamMask
      address: 1041
      idx: digital-priority-4-bit
      block: 0
      mask: 0xf000
      rshift: 12
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-4-profile:
    source: block
    form:
      type: ParamMask
      address: 1041
      idx: digital-priority-4-profile
      block: 0
      mask: 0x0f00
      rshift: 8
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-5-bit:
    source: block
    form:
      type: ParamMask
      address: 1041
      idx: digital-priority-5-bit
      block: 0
      mask: 0x00f0
      rshift: 4
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  digital-priority-5-profile:
    source: block
    form:
      type: ParamMask
      address: 1041
      idx: digital-priority-5-profile
      block: 0
      mask: 0x000f
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 1
          - trig_type: range
            min: 0
            max: 15
  analog-high-profile:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: analog-high-profile
      block: 0
      mask: 0x0f00
      rshift: 8
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
          - trig_type: range
            min: 0
            max: 15
  analog-mid-profile:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: analog-mid-profile
      block: 0
      mask: 0x00f0
      rshift: 4
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
          - trig_type: range
            min: 0
            max: 15
  analog-low-profile:
    source: block
    form:
      type: ParamMask
      address: 1039
      idx: analog-low-profile
      block: 0
      mask: 0x000f
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
          - trig_type: range
            min: 0
            max: 15
  analog-high-set-point:
    source: block
    form:
      type: Param
      address: 1040
      idx: analog-high-set-point
      block: 0
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
          - trig_type: range
            min: 1500
            max: 30000
  analog-low-set-point:
    source: block
    form:
      type: Param
      address: 1041
      idx: analog-low-set-point
      block: 0
    triggers:
      process:
        send:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
      write:
        validators:
          - trig_type: comparison
            ref_name: current_state
            ref_key: mode
            comp_type: e
            comp_value: 2
          - trig_type: range
            min: 1500
            max: 30000
