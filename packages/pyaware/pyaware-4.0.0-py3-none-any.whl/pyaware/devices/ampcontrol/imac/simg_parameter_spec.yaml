parameters:
  dev_id:
    source: roll
    triggers:
      process:
        store:
          - [always]
        send:
          - [always]
  address-single:
    source: block
    form:
      type: ParamMask
      address: 1038
      idx: address-single
      block: 0
      mask: 0xFF
    triggers:
      process:
        store:
          - [always]
        send:
          - [always]
      write:
        validators:
          - trig_type: range
            min: 0
            max: 255
  modbus-slave-address:
    source: block
    form:
      type: Param
      address: 1039
      idx: modbus-slave-address
      block: 0
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
      write:
        validators:
          - trig_type: range
            min: 1
            max: 0x1f
  channel-1-alarm-set-point-1:
    source: block
    form:
      type: Param
      address: 1038
      idx: channel-1-alarm-set-point-1
      block: 1
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-1-alarm-set-point-2:
    source: block
    form:
      type: Param
      address: 1039
      idx: channel-1-alarm-set-point-2
      block: 1
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-1-alarm-set-point-3:
    source: block
    form:
      type: Param
      address: 1040
      idx: channel-1-alarm-set-point-3
      block: 1
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-2-alarm-set-point-1:
    source: block
    form:
      type: Param
      address: 1041
      idx: channel-2-alarm-set-point-1
      block: 1
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-2-alarm-set-point-2:
    source: block
    form:
      type: Param
      address: 1038
      idx: channel-2-alarm-set-point-2
      block: 2
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-2-alarm-set-point-3:
    source: block
    form:
      type: Param
      address: 1039
      idx: channel-2-alarm-set-point-3
      block: 2
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-3-alarm-set-point-1:
    source: block
    form:
      type: Param
      address: 1040
      idx: channel-3-alarm-set-point-1
      block: 2
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-3-alarm-set-point-2:
    source: block
    form:
      type: Param
      address: 1041
      idx: channel-3-alarm-set-point-2
      block: 2
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-3-alarm-set-point-3:
    source: block
    form:
      type: Param
      address: 1038
      idx: channel-3-alarm-set-point-3
      block: 3
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-4-alarm-set-point-1:
    source: block
    form:
      type: Param
      address: 1039
      idx: channel-4-alarm-set-point-1
      block: 3
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-4-alarm-set-point-2:
    source: block
    form:
      type: Param
      address: 1040
      idx: channel-4-alarm-set-point-2
      block: 3
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-4-alarm-set-point-3:
    source: block
    form:
      type: Param
      address: 1041
      idx: channel-4-alarm-set-point-3
      block: 3
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-1-display-format-value:
    source: block
    form:
      type: Param
      address: 1038
      idx: channel-1-display-format-value
      block: 4
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-2-display-format-value:
    source: block
    form:
      type: Param
      address: 1039
      idx: channel-2-display-format-value
      block: 4
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-3-display-format-value:
    source: block
    form:
      type: Param
      address: 1040
      idx: channel-3-display-format-value
      block: 4
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  channel-4-display-format-value:
    source: block
    form:
      type: Param
      address: 1041
      idx: channel-4-display-format-value
      block: 4
    triggers:
      collect:
        read:
          - [deadline, 86400]
      process:
        send:
          - [always]
  alarms-1:
    source: poll
    form:
      type: ParamBits
      address: {type: ref_param, param: address-single, null_ref: 0}
      idx: alarms-1
      bitmask:
        channel-1-low-fault: 0
        channel-1-alarm-1: 1
        channel-1-alarm-2: 2
        channel-1-alarm-3: 3
        channel-1-high-fault: 4
        channel-2-low-fault: 9
        channel-2-alarm-1: 10
        channel-2-alarm-2: 11
        channel-2-alarm-3: 12
        channel-2-high-fault: 13
  alarms-2:
    source: poll
    form:
      type: ParamBits
      address: {type: ref_param, param: address-single, offset: 1, null_ref: 0}
      idx: alarms-2
      bitmask:
        channel-3-low-fault: 0
        channel-3-alarm-1: 1
        channel-3-alarm-2: 2
        channel-3-alarm-3: 3
        channel-3-high-fault: 4
        channel-4-low-fault: 9
        channel-4-alarm-1: 10
        channel-4-alarm-2: 11
        channel-4-alarm-3: 12
        channel-4-high-fault: 13
  status:
    source: poll
    form:
      type: ParamBits
      address: {type: ref_param, param: address-single, offset: 3, null_ref: 0}
      idx: status
      bitmask:
        relay-1-active: 0
        relay-2-active: 1
        relay-3-active: 2
        relay-4-active: 3
        zone-1-active: 4
        zone-2-active: 5
        zone-3-active: 6
        zone-4-active: 7
        zone-5-active: 8
        zone-6-active: 9
        rs485-error: 15
  channel-1-analog-input:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 4, null_ref: 0}
      idx: channel-1-analog-input
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-analog-input:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 5, null_ref: 0}
      idx: channel-2-analog-input
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-analog-input:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 6, null_ref: 0}
      idx: channel-3-analog-input
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-analog-input:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 7, null_ref: 0}
      idx: channel-4-analog-input
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-1-display-format:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 8, null_ref: 0}
      idx: channel-1-display-format
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-display-format:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 9, null_ref: 0}
      idx: channel-2-display-format
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-display-format:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 10, null_ref: 0}
      idx: channel-3-display-format
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-display-format:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 11, null_ref: 0}
      idx: channel-4-display-format
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  rs485-error-count:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 14, null_ref: 0}
      idx: rs485-error-count
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  sim-g-serial-imac-line:
    source: poll
    form:
      type: Param
      address: {type: ref_param, param: address-single, offset: 15, null_ref: 0}
      idx: sim-g-serial-imac-line
  channel-1-low-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-1-alarm-1:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-1-alarm-2:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-1-alarm-3:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-1-high-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-low-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-alarm-1:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-alarm-2:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-alarm-3:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-2-high-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-low-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-alarm-1:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-alarm-2:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-alarm-3:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-3-high-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-low-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-alarm-1:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-alarm-2:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-alarm-3:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  channel-4-high-fault:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  relay-1-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  relay-2-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  relay-3-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  relay-4-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-1-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-2-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-3-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-4-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-5-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  zone-6-active:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
  rs485-error:
    triggers:
      process:
        send:
          - [state]
          - [time, 86400]
