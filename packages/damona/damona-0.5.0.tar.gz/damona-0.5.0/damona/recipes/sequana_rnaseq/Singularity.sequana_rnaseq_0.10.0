BootStrap: library
From: cokelaer/damona/sequana:0.9.1

%labels

    AUTHOR Thomas Cokelaer
    VERSION 1.0.0
    DAMONA_TYPE exe

%post

    # set anaconda path
    export PATH=$PATH:/usr/local/anaconda/bin

    conda install fastqc==0.11.9
    conda install cutadapt  fastp falco multiqc
    conda install bowtie bowtie2 star salmon kallisto
    conda install picard
    conda install fastq-screen subread gffread 
    conda install RNA-seQC==2.3.5
    conda install bioconductor-tximport bioconductor-tximportdata bioconductor-deseq2 bioconductor-genomeinfodb
    # deeptools could not be inslalled...

    conda clean --packages -y
    conda clean --all -y # next requires lots of space




    if [ ! -d /data ]; then mkdir /data; fi


    echo "backend:agg" > matplotlibrc


%environment
    export PATH=$PATH:/usr/local/anaconda/bin
    export LANG=C   # prevents perl for raising warnings
    export PERL5LIB=/usr/local/anaconda/lib/perl5/5.22.0
    export LANG=C.UTF-8
    export LC_ALL=C.UTF-8


