!function(){var t={3863:function(t,e,n){var i=n(4015),o=n(3645)(i);o.push([t.id,".clear-btn[data-v-6952d950],.search-btn[data-v-6952d950]{background-color:#1a252f !important;transition:none}.custom-input[data-v-6952d950]{background-color:#1a252f;border:none;box-shadow:none;cursor:pointer;-webkit-appearance:none}.dropdown.show .custom-input[data-v-6952d950],.dropdown.show .clear-btn[data-v-6952d950],.dropdown.show .search-btn[data-v-6952d950]{background-color:white !important}.dropdown-item[data-v-6952d950]{white-space:normal;word-break:break-all}.font-sm[data-v-6952d950]{font-size:90%}.input-group-append-content[data-v-6952d950]{background-color:white;border:none;color:#aab7b8;padding-left:0.75rem !important;padding-right:0.75rem !important}.reponsive-width[data-v-6952d950]{width:200px}@media (min-width: 1200px){.reponsive-width[data-v-6952d950]{width:300px}}\n","",{version:3,sources:["webpack://./kadi/assets/scripts/lib/components/BaseNavSearch.vue"],names:[],mappings:"AAuDA,yDACE,mCAAoC,CACpC,eAAgB,CACjB,+BAGC,wBAAyB,CACzB,WAAY,CACZ,eAAgB,CAChB,cAAe,CACf,uBAAwB,CACzB,qIAIG,iCAAkC,CACnC,gCAID,kBAAmB,CACnB,oBAAqB,CACtB,0BAGC,aAAc,CACf,6CAGC,sBAAuB,CACvB,WAAY,CACZ,aAAc,CACd,+BAAgC,CAChC,gCAAiC,CAClC,kCAGC,WAAY,CAEZ,2BAHF,kCAII,WAAY,CAEf",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.clear-btn, .search-btn {\n  background-color: #1a252f !important;\n  transition: none;\n}\n\n.custom-input {\n  background-color: #1a252f;\n  border: none;\n  box-shadow: none;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\n\n.dropdown.show {\n  .custom-input, .clear-btn, .search-btn {\n    background-color: white !important;\n  }\n}\n\n.dropdown-item {\n  white-space: normal;\n  word-break: break-all;\n}\n\n.font-sm {\n  font-size: 90%;\n}\n\n.input-group-append-content {\n  background-color: white;\n  border: none;\n  color: #aab7b8;\n  padding-left: 0.75rem !important;\n  padding-right: 0.75rem !important;\n}\n\n.reponsive-width {\n  width: 200px;\n\n  @media (min-width: 1200px) {\n    width: 300px;\n  }\n}\n"],sourceRoot:""}]),t.exports=o},3645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},4015:function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=function(t){var n,i,o=(i=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return n}}(n,i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],r=o[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),d="/*# ".concat(c," */"),l=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[a].concat(l).concat([d]).join("\n")}return[a].join("\n")}},3876:function(t,e,n){t.exports=n(6253)},9661:function(t){var e,n;e=-1,n={onVisible:function(t){var e=n.isSupported();if(!e||!n.hidden())return t(),e;var i=n.change((function(e,o){n.hidden()||(n.unbind(i),t())}));return i},change:function(t){if(!n.isSupported())return!1;var i=e+=1;return n._callbacks[i]=t,n._listen(),i},unbind:function(t){delete n._callbacks[t]},afterPrerendering:function(t){var e=n.isSupported(),i="prerender";if(!e||i!=n.state())return t(),e;var o=n.change((function(e,a){i!=a&&(n.unbind(o),t())}));return o},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==n._doc.hidden||void 0!==n._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(t){var e=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,t,e)},_listen:function(){if(!n._init){var t="visibilitychange";n._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(t,e):n._doc.attachEvent(t,e),n._init=!0}}},t.exports?t.exports=n:this.Visibility=n},6253:function(t,e,n){!function(e){var i=-1,o=function(t){return t.every=function(e,n,o){t._time(),o||(o=n,n=null);var a=i+=1;return t._timers[a]={visible:e,hidden:n,callback:o},t._run(a,!1),t.isSupported()&&t._listen(),a},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change((function(){t._stopRun(),t._wasHidden=t.hidden()})))},t._run=function(n,i){var o,a=t._timers[n];if(t.hidden()){if(null===a.hidden)return;o=a.hidden}else o=a.visible;var r=function(){a.last=new Date,a.callback.call(e)};if(i){var s=new Date-a.last;o>s?a.delay=setTimeout((function(){a.id=setInterval(r,o),r()}),o-s):(a.id=setInterval(r,o),r())}else a.id=setInterval(r,o)},t._stop=function(e){var n=t._timers[e];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},t._stopRun=function(e){var n=t.hidden(),i=t._wasHidden;if(n&&!i||!n&&i)for(var o in t._timers)t._stop(o),t._run(o,!n)},t};t.exports?t.exports=o(n(9661)):o(e.Visibility||n(9661))}(window)},1425:function(t,e,n){var i=n(3863);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(5346).Z)("797df1f8",i,!1,{})},5346:function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},o=0;o<e.length;o++){var a=e[o],r=a[0],s={id:t+":"+o,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):n.push(i[r]={id:r,parts:[s]})}return n}n.d(e,{Z:function(){return h}});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,l=function(){},u=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t,e,n,o){d=n,u=o||{};var r=i(t,e);return m(r),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o];(c=a[s.id]).refs--,n.push(c)}for(e?m(r=i(t,e)):r=[],o=0;o<n.length;o++){var c;if(0===(c=n[o]).refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete a[c.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(b(n.parts[o]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(b(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:r}}}}function v(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function b(t){var e,n,i=document.querySelector("style["+p+'~="'+t.id+'"]');if(i){if(d)return l;i.parentNode.removeChild(i)}if(f){var o=c++;i=s||(s=v()),e=C.bind(null,i,o,!1),n=C.bind(null,i,o,!0)}else i=v(),e=y.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var g,_=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function C(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var a=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function y(t,e){var n=e.css,i=e.media,o=e.sourceMap;if(i&&t.setAttribute("media",i),u.ssrId&&t.setAttribute(p,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={id:i,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(3876),e=n.n(t),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"dropdown",staticClass:"dropdown"},[n("div",{staticClass:"input-group input-group-sm reponsive-width",attrs:{"data-toggle":"dropdown"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"form-control custom-input",attrs:{placeholder:t.i18n.t("misc.quickSearch")},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t.query?n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-sm clear-btn input-group-append-content",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.clearQuery(e)}}},[n("i",{staticClass:"fas fa-times"})])]):n("div",{staticClass:"input-group-append"},[t._m(0)])]),t._v(" "),n("div",{staticClass:"dropdown-menu reponsive-width p-0"},[t.initialized?n("div",[0===t.items.length?n("div",{staticClass:"px-2 my-1"},[n("strong",{staticClass:"text-muted font-sm"},[t._v(t._s(t.i18n.t("misc.noResults")))])]):t._l(t.items,(function(e,i){return n("div",{key:e.endpoint},[n("a",{staticClass:"dropdown-item p-2",attrs:{href:e.endpoint}},[n("div",{staticClass:"d-flex justify-content-between"},[n("strong",{staticClass:"font-sm"},[t._v(t._s(e.identifier))]),t._v(" "),n("div",[n("span",{staticClass:"badge badge-light border border-muted font-weight-normal"},[t._v(t._s(e.type))])])]),t._v(" "),n("small",[t._v("\n            "+t._s(t.i18n.t("misc.lastModified"))+" "),n("from-now",{attrs:{timestamp:e.timestamp}})],1)]),t._v(" "),i<t.items.length-1?n("div",{staticClass:"dropdown-divider m-0"}):t._e()])}))],2):t._e(),t._v(" "),t.initialized?t._e():n("i",{staticClass:"fas fa-circle-notch fa-spin text-muted p-2"})])])};i._withStripped=!0;var o={data:()=>({query:"",items:[],timeoutHandle:null,initialized:!1}),props:{endpoint:String},methods:{clearQuery(){this.query="",this.$refs.input.focus()},search(){null!==this.timeoutHandle&&clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout((()=>{axios.get(`${this.endpoint}?query=${this.query}`).then((t=>{this.items=t.data,this.initialized=!0}))}),500)}},watch:{query(){this.search()}},mounted(){$(this.$refs.dropdown).on("show.bs.dropdown",(()=>this.search()))}};function a(t,e,n,i,o,a,r,s){var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=c):o&&(c=s?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,e){return c.call(e),l(t,e)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:d}}n(1425);var r=a(o,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"search-btn input-group-text input-group-append-content"},[e("i",{staticClass:"fas fa-sm fa-search"})])}],!1,null,"6952d950",null);r.options.__file="kadi/assets/scripts/lib/components/BaseNavSearch.vue";var s=r.exports,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.active?n("div",{staticClass:"mb-4"},[n("div",{staticClass:"alert fade show",class:"alert-"+t.type},[t.icon?n("i",{staticClass:"fa",class:"fa-"+t.icon}):t._e(),t._v(" "+t._s(t.message)+"\n  ")])]):t._e()};c._withStripped=!0;var d=a({data:()=>({icon:null,active:!0}),props:{message:String,type:{type:String,default:"info"},timeout:{type:Number,default:5e3}},mounted(){"info"===this.type?this.icon="exclamation-circle":"danger"===this.type?this.icon="times-circle":"warning"===this.type?this.icon="exclamation-triangle":"success"===this.type&&(this.icon="check-circle"),null!==this.timeout&&setTimeout((()=>this.active=!1),this.timeout)}},c,[],!1,null,null,null);d.options.__file="kadi/assets/scripts/lib/components/NotificationAlert.vue";var l=d.exports,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"notification",staticClass:"toast",staticStyle:{"min-width":"100%"},attrs:{"data-autohide":"false"}},[n("div",{staticClass:"toast-header bg-primary"},[n("span",{staticClass:"mr-auto"},[t._v(t._s(t.notification.data.title))]),t._v(" "),n("button",{staticClass:"ml-2 close text-white",attrs:{type:"button","data-dismiss":"toast"},on:{click:function(e){return t.dismiss(t.notification)}}},[n("i",{staticClass:"fas fa-xs fa-times"})])]),t._v(" "),n("div",{staticClass:"toast-body py-2"},[n("div",{domProps:{innerHTML:t._s(t.notification.data.body)}}),t._v(" "),n("div",{staticClass:"mt-1"},[n("small",{staticClass:"text-muted"},[n("from-now",{attrs:{timestamp:t.notification.created_at}})],1)])])])};u._withStripped=!0;var p=a({props:{notification:Object},methods:{dismiss(){axios.delete(this.notification._actions.dismiss).catch((t=>kadi.alert("Error dismissing notification.",{xhr:t.request})))}},mounted(){$(this.$refs.notification).toast("show")},beforeDestroy(){$(this.$refs.notification).toast("dispose")}},u,[],!1,null,null,null);p.options.__file="kadi/assets/scripts/lib/components/NotificationToast.vue";var f=p.exports;const h=()=>[].forEach.call(document.querySelectorAll(".kadi-logo"),(t=>{t.style.animation="none"}));[].forEach.call(document.querySelectorAll(".kadi-logo"),(t=>{t.addEventListener("animationiteration",h),t.addEventListener("webkitAnimationIteration",h)})),document.addEventListener("invalid",(t=>kadi.utils.scrollIntoView(t.target)),!0);const m=new Vue({el:"#notification-alerts",components:{NotificationAlert:l},data:{alerts:[]},methods:{alert(t,e){let n=t;const i={xhr:null,type:"danger",timeout:5e3,scrollTo:!0,...e};if(null!==i.xhr){if(0===i.xhr.status)return;n=`${t} (${i.xhr.status})`}this.alerts.push({id:kadi.utils.randomAlnum(),message:n,type:i.type,timeout:i.timeout}),i.scrollTo&&kadi.utils.scrollIntoView(this.$el,"bottom")}}});if(kadi.alert=m.alert,kadi.globals.user_active){document.addEventListener("keydown",(t=>{if(t.shiftKey)switch(t.keyCode){case 82:t.preventDefault(),document.location.href="/records";break;case 67:t.preventDefault(),document.location.href="/collections";break;case 71:t.preventDefault(),document.location.href="/groups";break;case 84:t.preventDefault(),document.location.href="/templates";break;case 85:t.preventDefault(),document.location.href="/users"}})),new Vue({el:"#base-nav-search",components:{BaseNavSearch:s}});const t=new Vue({el:"#notification-toasts",components:{NotificationToast:f},data:{notifications:[],title:null},methods:{getNotifications(t=!0){axios.get("/api/notifications").then((e=>{this.notifications=e.data;const n=this.notifications.length;t&&n>0&&this.$nextTick((()=>kadi.utils.scrollIntoView(this.$el,"bottom"))),document.title=n>0?`(${n}) ${this.title}`:this.title}))}},mounted(){this.title=document.title,e().every(5e3,(()=>this.getNotifications(!1))),this.getNotifications(!1)}});kadi.getNotifications=t.getNotifications}}()}();
//# sourceMappingURL=base.js.map