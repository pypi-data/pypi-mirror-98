(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[141],{2907:function(e,t,r){"use strict";r.r(t);var n=r(5),c=r.n(n),a=r(9),i=r.n(a),o=r(10),l=r.n(o),s=r(11),u=r.n(s),f=r(12),b=r.n(f),p=r(7),j=r.n(p),d=r(3),O=r(1),g=r.n(O),m=r(443),h=r(1912),y=r(2),v=r(222),w=r(6),S=r(35),C=r(439),I=r(161),k=r(2381),A=r(8),R=r.n(A),x=r(14),F=r.n(x),N=r(2062),P=r(2435),T=r(0);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){R()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var c=j()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var E=function(e){u()(r,e);var t=_(r);function r(){var e;i()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).handleSubmitSuccess=function(){var t=e.props.router,r=e.props.params.orgId;t.push("/organizations/".concat(r,"/alerts/rules/"))},e}return l()(r,[{key:"render",value:function(){var e=this.props,t=e.project,r=e.eventView,n=e.sessionId,a=F()(e,["project","eventView","sessionId"]),i=r?Object(N.f)(r):Object(N.d)();return Object(T.f)(P.a,c()({onSubmitSuccess:this.handleSubmitSuccess,rule:D(D({},i),{},{projects:[t.slug]}),sessionId:n,project:t},a))}}]),r}(g.a.Component);E.displayName="IncidentRulesCreate";var V=E,q=r(2436),M=r(154),H=r(715),J=r(173),K=r(160),L=r(716),W=r(31),B=r(727),G=function(e){var t=e.children;return Object(T.f)(W.a,{title:Object(y.b)("A metric is the value of an aggregate function like count() or avg()\n       applied to your events over time")},Object(T.f)("abbr",null,t))};G.displayName="MetricsTooltip";var Q=function(e){var t=e.children;return Object(T.f)(W.a,{title:Object(y.b)("Sentry groups similar events into an Issue based on their stack trace\n       and other factors.")},Object(T.f)("abbr",null,t))};Q.displayName="IssuesTooltip";var U=function(e){var t=e.onChange,r=e.organization,n=e.selected,c=function(e){Object(S.e)({eventKey:"alert_chooser_cards.select",eventName:"Alert Chooser Cards: Select",organization_id:r.id,type:e}),t(e)};return Object(T.f)(Z,null,Object(T.f)($,{interactive:!0,onClick:function(){return c("metric")}},Object(T.f)(X,null,Object(T.f)(L.a,{"aria-label":"metric",checked:"metric"===n,onChange:function(){return c("metric")}}),Object(y.b)("Metric Alert")),Object(T.f)(M.a,{requireAll:!0,features:["organizations:performance-view"]},(function(e){return e.hasFeature?Object(T.f)(g.a.Fragment,null,Object(T.f)("p",null,Object(y.c)("Notifies you when a [tooltip:metric] crosses a threshold.",{tooltip:Object(T.f)(G,null)})),!n&&Object(T.f)(g.a.Fragment,null,Object(T.f)(Y,null,Object(y.b)("For Example:")),Object(T.f)(J.a,{symbol:"bullet"},Object(T.f)(K.a,null,Object(y.b)("Performance metrics like latency and apdex")),Object(T.f)(K.a,null,Object(y.b)("Frequency of error events or users affected in the project"))))):Object(T.f)(g.a.Fragment,null,Object(T.f)("p",null,Object(y.c)("Notifies you when a [tooltip:metric] like frequency of events or users affected in\n                   the project crosses a threshold.",{tooltip:Object(T.f)(G,null)})),!n&&Object(T.f)(g.a.Fragment,null,Object(T.f)(Y,null,Object(y.b)("For Example:")),Object(T.f)(J.a,{symbol:"bullet"},Object(T.f)(K.a,null,Object(y.b)("Total events in the project exceed 1000/minute")),Object(T.f)(K.a,null,Object(y.c)('Events with tag [code:database] and "API" in the title exceed 100/minute',{code:Object(T.f)("code",null)})))))}))),Object(T.f)($,{interactive:!0,onClick:function(){return c("issue")}},Object(T.f)(X,null,Object(T.f)(L.a,{"aria-label":"issue",checked:"issue"===n,onChange:function(){return c("issue")}}),Object(y.b)("Issue Alert")),Object(T.f)("p",null,Object(y.c)("Notifies you when individual [tooltip:Sentry Issues] trigger your\n           alerting criteria.",{tooltip:Object(T.f)(Q,null)})),!n&&Object(T.f)(g.a.Fragment,null,Object(T.f)(Y,null,Object(y.b)("For Example:")),Object(T.f)(J.a,{symbol:"bullet"},Object(T.f)(K.a,null,Object(y.b)("New Issues or regressions")),Object(T.f)(K.a,null,Object(y.b)("Frequency of individual Issues exceeds 100/minute"))))))};U.displayName="TypeChooser";var X=Object(d.a)("label",{target:"ekdiyig0",label:"RadioLabel"})("cursor:pointer;margin-bottom:",Object(w.a)(3),";display:grid;grid-auto-flow:column;grid-auto-columns:max-content;align-items:center;grid-gap:",Object(w.a)(2),";"),Y=Object(d.a)("div",{target:"ekdiyig1",label:"ExampleHeading"})("text-transform:uppercase;font-size:",(function(e){return e.theme.fontSizeSmall}),";font-weight:bold;color:",(function(e){return e.theme.subText}),";margin-bottom:",Object(w.a)(2),";"),Z=Object(d.a)("div",{target:"ekdiyig2",label:"Container"})("display:grid;grid-template-columns:1fr 1fr;grid-gap:",Object(w.a)(3),";"),$=Object(d.a)(H.a,{target:"ekdiyig3",label:"TypeCard"})("cursor:pointer;padding:",Object(w.a)(4),";margin-bottom:",Object(w.a)(3),";",B.a,";"),ee=U;function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j()(e);if(t){var c=j()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var re=function(e){u()(r,e);var t=te(r);function r(){var e;i()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={eventView:void 0,alertType:e.props.location.pathname.includes("/alerts/rules/")?"issue":e.props.location.pathname.includes("/alerts/metric-rules/")?"metric":null},e.sessionId=Object(I.a)(),e.handleChangeAlertType=function(t){e.setState({alertType:t})},e}return l()(r,[{key:"componentDidMount",value:function(){var e,t=this.props,r=t.organization,n=t.location,c=t.project;if(Object(S.e)({eventKey:"new_alert_rule.viewed",eventName:"New Alert Rule: Viewed",organization_id:r.id,project_id:c.id,session_id:this.sessionId}),null!=n&&null!==(e=n.query)&&void 0!==e&&e.createFromDiscover){var a=C.a.fromLocation(n);this.setState({alertType:"metric",eventView:a})}}},{key:"render",value:function(){var e=this.props,t=e.hasMetricAlerts,r=e.organization,n=e.project,a=e.params.projectId,i=this.state,o=i.alertType,l=i.eventView,s=t,u=Object(y.b)("New Alert Rule");return Object(T.f)(g.a.Fragment,null,Object(T.f)(h.a,{title:u,projectSlug:a}),Object(T.f)(v.b,null,Object(T.f)(k.a,{hasMetricAlerts:t,orgSlug:r.slug,title:u}),Object(T.f)(ne,null,Object(T.f)(m.a,null,u)),s&&Object(T.f)(ee,{organization:r,selected:o,onChange:this.handleChangeAlertType}),(!t||"issue"===o)&&Object(T.f)(q.a,c()({},this.props,{project:n})),t&&"metric"===o&&Object(T.f)(V,c()({},this.props,{eventView:l,sessionId:this.sessionId,project:n}))))}}]),r}(g.a.Component);re.displayName="Create";var ne=Object(d.a)(v.c,{target:"e1j21w300",label:"StyledPageHeader"})("margin-bottom:",Object(w.a)(4),";");t.default=re}}]);
//# sourceMappingURL=ProjectAlertsCreate.js.map