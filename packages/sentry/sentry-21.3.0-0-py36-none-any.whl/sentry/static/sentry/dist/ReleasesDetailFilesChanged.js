(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[182],{1952:function(e,t,r){"use strict";var n=r(25),o=r.n(n);t.a=o.a.createActions(["resetRepositories","loadRepositories","loadRepositoriesError","loadRepositoriesSuccess"])},2010:function(e,t,r){"use strict";r(1);var n=r(327),o=r(96),i=r(0),a=function(e){var t=e.children;return Object(i.f)(o.a,null,Object(i.f)(o.c,null,Object(i.f)(n.a,null,Object(i.f)("p",null,t))))};a.displayName="EmptyState",t.a=a},2011:function(e,t,r){"use strict";r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return g})),r.d(t,"c",(function(){return v})),r.d(t,"e",(function(){return j})),r.d(t,"d",(function(){return y}));var n=r(24),o=r.n(n),i=r(8),a=r.n(i),s=r(296),c=r.n(s),u=r(93),l=r(2),p=r(49),f=r(439),d=r(240);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){return e.reduce((function(e,t){var r=t.filename,n=t.repoName,o=t.author,i=t.type;return e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(r)||(e[n][r]={authors:{},types:new Set}),o.email&&(e[n][r].authors[o.email]=o),e[n][r].types.add(i),e}),{})}function g(e){return e.reduce((function(e,t){var r,n,o=null!==(r=null===(n=t.repository)||void 0===n?void 0:n.name)&&void 0!==r?r:Object(l.b)("unknown");return e.hasOwnProperty(o)||(e[o]=[]),e[o].push(t),e}),{})}function v(e){var t=e.location,r=e.perPage,n=void 0===r?40:r,i=e.activeRepository,a=h(h({},c()(t.query,[].concat(o()(Object.values(u.e)),["cursor"]))),{},{per_page:n});return i?h(h({},a),{},{repo_name:i.name}):a}function j(e,t){return t?[t.name]:e}function y(e,t,r){var n=e.projects,o=e.environments,i=e.datetime,a=i.start,s=i.end,c=i.period,u={id:void 0,version:2,name:"".concat(Object(l.b)("Release Apdex")),fields:["apdex(".concat(r.apdexThreshold,")")],query:Object(d.b)(new d.a(["release:".concat(t),"event.type:transaction","count():>0"])),range:c,environment:o,projects:n,start:a?Object(p.j)(a):void 0,end:s?Object(p.j)(s):void 0};return f.a.fromSavedQuery(u)}},2083:function(e,t,r){"use strict";var n=r(5),o=r.n(n),i=r(8),a=r.n(i),s=(r(1),r(39)),c=r.n(s),u=r(25),l=r.n(u),p=r(50),f=r(380),d=r(1952);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={listenables:d.a,state:{orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},init:function(){this.resetRepositories()},resetRepositories:function(){this.state={orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},this.trigger(this.state)},loadRepositories:function(e){this.state={orgSlug:e,repositories:e===this.state.orgSlug?this.state.repositories:void 0,repositoriesLoading:!0,repositoriesError:void 0},this.trigger(this.state)},loadRepositoriesError:function(e){this.state=h(h({},this.state),{},{repositories:void 0,repositoriesLoading:!1,repositoriesError:e}),this.trigger(this.state)},loadRepositoriesSuccess:function(e){this.state=h(h({},this.state),{},{repositories:e,repositoriesLoading:!1,repositoriesError:void 0}),this.trigger(this.state)},get:function(){return h({},this.state)}},g=l.a.createStore(O);var v=r(97),j=r(0);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0};t.a=function(e){return c()({displayName:"withRepositories(".concat(Object(v.a)(e),")"),mixins:[l.a.listenTo(g,"onStoreUpdate")],getInitialState:function(){var e=this.props.organization.slug,t=g.get();return t.orgSlug!==e&&d.a.resetRepositories(),t.orgSlug===e?m(m({},R),t):m({},R)},componentDidMount:function(){this.fetchRepositories()},fetchRepositories:function(){var e=this.props,t=e.api,r=e.organization.slug,n=g.get();(!n.repositories&&!n.repositoriesLoading||n.repositoriesError)&&function(e,t){var r=t.orgSlug,n="/organizations/".concat(r,"/repos/");g.state.repositoriesLoading=!0,d.a.loadRepositories(r),e.requestPromise(n,{method:"GET"}).then((function(e){d.a.loadRepositoriesSuccess(e)})).catch((function(e){d.a.loadRepositoriesError(e),p.m((function(t){t.setLevel(f.a.Warning),t.setFingerprint(["getRepositories-action-creator"]),p.c(e)}))}))}(t,{orgSlug:r})},onStoreUpdate:function(){var e=g.get();this.setState(m({},e))},render:function(){return Object(j.f)(e,o()({},this.props,this.state))}})}},2281:function(e,t,r){"use strict";var n=r(8),o=r.n(n),i=r(9),a=r.n(i),s=r(10),c=r.n(s),u=r(11),l=r.n(u),p=r(12),f=r.n(p),d=r(7),b=r.n(d),h=r(3),O=r(1),g=r.n(O),v=r(381),j=r(2),y=r(46),m=r(6),R=r(0);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var o=b()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var D=function(e){l()(r,e);var t=S(r);function r(){var e;a()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e.dropdownButton=g.a.createRef(),e.handleRepoFilterChange=function(t){var r=e.props,n=r.router,o=r.location;n.push(P(P({},o),{},{query:P(P({},o.query),{},{cursor:void 0,activeRepo:t})}))},e}return c()(r,[{key:"componentDidMount",value:function(){this.setButtonDropDownWidth()}},{key:"setButtonDropDownWidth",value:function(){var e,t,r=null===(e=this.dropdownButton)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetWidth;r&&this.setState({dropdownButtonWidth:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.activeRepository,n=t.repositories,o=this.state.dropdownButtonWidth,i=null==r?void 0:r.name;return Object(R.f)(k,{minMenuWidth:o,label:Object(R.f)(g.a.Fragment,null,Object(R.f)(x,null,"".concat(Object(j.b)("Filter"),":")),i),buttonProps:{forwardRef:this.dropdownButton}},n.map((function(e){return e.name})).map((function(t){return Object(R.f)(v.b,{key:t,onSelect:e.handleRepoFilterChange,eventKey:t,isActive:t===i},Object(R.f)(L,null,t))})))}}]),r}(g.a.PureComponent);D.displayName="RepositorySwitcher",t.a=D;var k=Object(h.a)(v.c,{target:"ev1ou9t0",label:"StyledDropdownControl"})("margin-bottom:",Object(m.a)(1),";> *:nth-child(2){right:auto;width:auto;",(function(e){return e.minMenuWidth&&"min-width: calc(".concat(e.minMenuWidth,"px + 10px);")})," border-radius:",(function(e){return e.theme.borderRadius}),";border-top-left-radius:0px;border:1px solid ",(function(e){return e.theme.button.default.border}),";top:calc(100% - 1px);}"),x=Object(h.a)("em",{target:"ev1ou9t1",label:"FilterText"})("font-style:normal;color:",(function(e){return e.theme.gray300}),";margin-right:",Object(m.a)(.5),";"),L=Object(h.a)("div",{target:"ev1ou9t2",label:"RepoLabel"})(y.a)},2282:function(e,t,r){"use strict";var n=r(5),o=r.n(n),i=r(20),a=r.n(i),s=r(29),c=r.n(s),u=r(9),l=r.n(u),p=r(10),f=r.n(p),d=r(11),b=r.n(d),h=r(12),O=r.n(h),g=r(7),v=r.n(g),j=r(1),y=r.n(j),m=r(50),R=r(33),w=r(27),P=r(298),S=r(44),D=r(96),k=r(15),x=r(2),L=r(97),E=r(47),C=r(54),z=r(2083),F=r(440),N=r(2073),W=r(0);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O()(this,r)}}t.a=function(e){var t,r;return Object(E.a)(Object(C.a)(Object(z.a)((r=t=function(t){b()(i,t);var r,n=q(i);function i(){var e;l()(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={releaseRepos:[],isLoading:!0},e}return f()(i,[{key:"componentDidMount",value:function(){this.fetchReleaseRepos()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setActiveReleaseRepo(e)}},{key:"componentDidUpdate",value:function(e,t){!e.repositoriesLoading||this.props.repositoriesLoading?t.releaseRepos.length!==this.state.releaseRepos.length&&this.setActiveReleaseRepo(this.props):this.fetchReleaseRepos()}},{key:"setActiveReleaseRepo",value:function(e){var t,r=this.state,n=r.releaseRepos,o=r.activeReleaseRepo;if(n.length){var i,a=null===(t=e.location.query)||void 0===t?void 0:t.activeRepo;if(a){if(a!==(null==o?void 0:o.name)){var s=n.find((function(e){return e.name===a}));s?this.setState({activeReleaseRepo:s}):Object(R.a)(Object(x.b)("The repository you were looking for was not found."))}}else this.setState({activeReleaseRepo:null!==(i=n[0])&&void 0!==i?i:null})}}},{key:"fetchReleaseRepos",value:(r=c()(a.a.mark((function e(){var t,r,n,o,i,s,c,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.params,n=t.api,o=t.repositories,void 0!==(i=t.repositoriesLoading)&&!0!==i){e.next=3;break}return e.abrupt("return");case 3:if(null!=o&&o.length){e.next=6;break}return this.setState({isLoading:!1}),e.abrupt("return");case 6:return s=r.release,c=r.orgId,u=this.context.project,this.setState({isLoading:!0}),e.prev=9,e.next=12,n.requestPromise("/projects/".concat(c,"/").concat(u.slug,"/releases/").concat(encodeURIComponent(s),"/repositories/"));case 12:l=e.sent,this.setState({releaseRepos:l,isLoading:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),m.c(e.t0),Object(R.a)(Object(x.b)("An error occured while trying to fetch the repositories of the release: %s",s));case 20:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var t=this.state,r=t.isLoading,n=t.activeReleaseRepo,i=t.releaseRepos,a=this.props,s=a.repositoriesLoading,c=a.repositories,u=a.params,l=a.router,p=a.location,f=a.organization;if(r||s)return Object(W.f)(S.default,null);if(!(null!=c&&c.length)){var d=u.orgId;return Object(W.f)(P.a,null,Object(W.f)(P.f,{fullWidth:!0},Object(W.f)(D.a,{dashedBorder:!0},Object(W.f)(F.a,{icon:Object(W.f)(k.p,{size:"xl"}),title:Object(x.b)("Releases are better with commit data!"),description:Object(x.b)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:Object(W.f)(w.b,{priority:"primary",to:"/settings/".concat(d,"/repos/")},Object(x.b)("Connect a repository"))}))))}if(!i.length)return Object(W.f)(P.a,null,Object(W.f)(P.f,{fullWidth:!0},Object(W.f)(D.a,{dashedBorder:!0},Object(W.f)(F.a,{icon:Object(W.f)(k.p,{size:"xl"}),title:Object(x.b)("Releases are better with commit data!"),description:Object(x.b)("No commits associated with this release have been found.")}))));if(void 0===n)return Object(W.f)(S.default,null);var b=u.release,h=f.slug;return Object(W.f)(e,o()({},this.props,{orgSlug:h,projectSlug:this.context.project.slug,release:b,router:l,location:p,releaseRepos:i,activeReleaseRepo:n}))}}]),i}(y.a.Component),t.displayName="withReleaseRepos(".concat(Object(L.a)(e),")"),t.contextType=N.ReleaseContext,r))))}},2892:function(e,t,r){"use strict";r.r(t);var n=r(8),o=r.n(n),i=r(9),a=r.n(i),s=r(10),c=r.n(s),u=r(187),l=r.n(u),p=r(11),f=r.n(p),d=r(12),b=r.n(d),h=r(7),O=r.n(h),g=r(3),v=r(1),j=r.n(v),y=r(742),m=r(15),R=r(682),w=r(38),P=r(0),S=function(e){var t,n=e.fileName,o=e.size,i=void 0===o?"sm":o,a=e.className,s=Object(R.b)(n),c=s?Object(R.a)(s):null,u=null!==(t=w.c.iconSizes[i])&&void 0!==t?t:i;return c?Object(P.f)("img",{src:r(1139)("./".concat(c,".svg")),width:u,height:u,className:a}):Object(P.f)(m.y,{size:u,className:a})};S.displayName="FileIcon";var D=S,k=r(6),x=Object(g.a)("li",{target:"efieh460",label:"ListGroupItem"})("position:relative;display:block;min-height:36px;border:1px solid ",(function(e){return e.theme.border}),";padding:",Object(k.a)(.5)," ",Object(k.a)(1.5),";margin-bottom:-1px;",(function(e){return e.centered?"text-align: center;":""})," &:first-child{border-top-left-radius:",(function(e){return e.theme.borderRadius}),";border-top-right-radius:",(function(e){return e.theme.borderRadius}),";}&:last-child{border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";}"),L=r(297),E=function(e){var t=e.filename,r=e.authors,n=e.className;return Object(P.f)(C,{className:n},Object(P.f)(z,null,Object(P.f)(F,{fileName:t}),Object(P.f)(L.a,null,t)),Object(P.f)("div",null,Object(P.f)(y.a,{users:r,avatarSize:25,typeMembers:"authors"})))};E.displayName="FileChange";var C=Object(g.a)(x,{target:"e18i6q0j0",label:"FileItem"})({name:"1lekzkb",styles:"display:flex;align-items:center;justify-content:space-between;"}),z=Object(g.a)("div",{target:"e18i6q0j1",label:"Filename"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";display:grid;grid-gap:",Object(k.a)(1),";margin-right:",Object(k.a)(3),";align-items:center;grid-template-columns:max-content 1fr;"),F=Object(g.a)(D,{target:"e18i6q0j2",label:"StyledFileIcon"})("color:",(function(e){return e.theme.gray200}),";border-radius:3px;"),N=E,W=r(298),q=r(694),A=r(96),B=r(2),I=r(88),T=r(1911),M=r(1898),U=r(2010),_=r(2281),G=r(2011),J=r(2282);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O()(e);if(t){var o=O()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}var V=function(e){f()(r,e);var t=H(r);function r(){return a()(this,r),t.apply(this,arguments)}return c()(r,[{key:"getTitle",value:function(){var e=this.props,t=e.params,r=e.projectSlug,n=t.orgId;return Object(T.a)(Object(B.b)("Files Changed - Release %s",Object(I.i)(t.release)),n,!1,r)}},{key:"getDefaultState",value:function(){return Q(Q({},l()(O()(r.prototype),"getDefaultState",this).call(this)),{},{fileList:[]})}},{key:"getEndpoints",value:function(){var e=this.props,t=e.activeReleaseRepo,r=e.location,n=e.release,o=e.orgSlug,i=Object(G.c)({location:r,activeRepository:t});return[["fileList","/organizations/".concat(o,"/releases/").concat(encodeURIComponent(n),"/commitfiles/"),{query:i}]]}},{key:"renderContent",value:function(){var e=this.state,t=e.fileList,r=e.fileListPageLinks,n=this.props.activeReleaseRepo;if(!t.length)return Object(P.f)(U.a,null,n?Object(B.b)("There are no changed files associated with this release in the %s repository.",n.name):Object(B.b)("There are no changed files associated with this release."));var o=Object(G.b)(t),i=Object(G.e)(Object.keys(o));return Object(P.f)(j.a.Fragment,null,i.map((function(e){var t=o[e],r=Object.keys(t),n=r.length;return Object(P.f)(A.a,{key:e},Object(P.f)(A.e,null,Object(P.f)("span",null,e),Object(P.f)("span",null,Object(B.d)("%s file changed","%s files changed",n))),Object(P.f)(A.c,null,r.map((function(e){var r=t[e].authors;return Object(P.f)(X,{key:e,filename:e,authors:Object.values(r)})}))))})),Object(P.f)(q.a,{pageLinks:r}))}},{key:"renderBody",value:function(){var e=this.props,t=e.activeReleaseRepo,r=e.releaseRepos,n=e.router,o=e.location;return Object(P.f)(j.a.Fragment,null,r.length>1&&Object(P.f)(_.a,{repositories:r,activeRepository:t,location:o,router:n}),this.renderContent())}},{key:"renderComponent",value:function(){return Object(P.f)(W.a,null,Object(P.f)(W.f,{fullWidth:!0},l()(O()(r.prototype),"renderComponent",this).call(this)))}}]),r}(M.a),X=(t.default=Object(J.a)(V),Object(g.a)(N,{target:"edmhvtz0",label:"StyledFileChange"})({name:"d1zd91",styles:"border-radius:0;border-left:none;border-right:none;border-top:none;:last-child{border:none;border-radius:0;}"}))}}]);
//# sourceMappingURL=ReleasesDetailFilesChanged.js.map