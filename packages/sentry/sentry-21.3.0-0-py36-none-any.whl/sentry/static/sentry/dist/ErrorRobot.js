(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[83],{2238:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(14),i=r.n(o),c=r(20),s=r.n(c),u=r(9),p=r.n(u),l=r(10),d=r.n(l),f=r(11),b=r.n(f),g=r(12),h=r.n(g),v=r(7),m=r.n(v),j=r(29),x=r.n(j),y=r(1),O=r.n(y),k=r(22),w=r(50),S=r(380),I=r(33),R=r(27),C=r(2),D=r(35),z=r(47),E=r(54),P=r(0);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}function _(e,t){return F.apply(this,arguments)}function F(){return(F=x()(s.a.mark((function e(t,r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n>10)){e.next=4;break}return e.abrupt("return",{eventCreated:!1,retries:n-1});case 4:return e.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return e.prev=6,e.next=9,t.requestPromise("/issues/".concat(r,"/events/latest/"));case 9:return e.abrupt("return",{eventCreated:!0,retries:n});case 12:e.prev=12,e.t0=e.catch(6),++n;case 15:e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}var N=function(e){b()(r,e);var t=T(r);function r(){var e;p()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={creating:!1},e.createSampleGroup=x()(s.a.mark((function t(){var r,n,a,o,i,c,u,p,l,d,f,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,n=r.api,a=r.organization,o=r.project){t.next=3;break}return t.abrupt("return");case 3:return Object(I.b)(Object(C.b)("Processing sample event..."),{duration:1e4}),e.setState({creating:!0}),t.prev=5,c="/projects/".concat(a.slug,"/").concat(o.slug,"/create-sample/"),t.next=9,n.requestPromise(c,{method:"POST"});case 9:i=t.sent,t.next=19;break;case 12:return t.prev=12,t.t0=t.catch(5),w.m((function(e){e.setExtra("error",t.t0),w.c(new Error("Failed to create sample event"))})),e.setState({creating:!1}),Object(I.d)(),Object(I.a)(Object(C.b)("Failed to create a new sample event")),t.abrupt("return");case 19:return u=performance.now(),t.next=22,_(n,i.groupID);case 22:if(p=t.sent,l=p.eventCreated,d=p.retries,f=performance.now(),Object(I.d)(),e.setState({creating:!1}),b=Math.ceil(f-u),e.recordAnalytics({eventCreated:l,retries:d,duration:b}),l){t.next=34;break}return Object(I.a)(Object(C.b)("Failed to load sample event")),w.m((function(e){e.setTag("groupID",i.groupID),e.setTag("platform",o.platform||""),e.setTag("interval",1e3.toString()),e.setTag("retries",d.toString()),e.setTag("duration",b.toString()),e.setLevel(S.a.Warning),w.d("Failed to load sample event")})),t.abrupt("return");case 34:k.browserHistory.push("/organizations/".concat(a.slug,"/issues/").concat(i.groupID,"/"));case 35:case"end":return t.stop()}}),t,null,[[5,12]])}))),e}return d()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.organization,r=e.project,n=e.source;r&&Object(D.d)({eventKey:"sample_event.button_viewed",org_id:t.id,project_id:r.id,source:n})}},{key:"recordAnalytics",value:function(e){var t=e.eventCreated,r=e.retries,n=e.duration,a=this.props,o=a.organization,i=a.project,c=a.source;if(i){var s="sample_event.".concat(t?"created":"failed"),u="Sample Event ".concat(t?"Created":"Failed");Object(D.e)({eventKey:s,eventName:u,organization_id:o.id,project_id:i.id,platform:i.platform||"",interval:1e3,retries:r,duration:n,source:c})}}},{key:"render",value:function(){var e=this.props,t=(e.api,e.organization,e.project,e.source,i()(e,["api","organization","project","source"])),r=this.state.creating;return Object(P.f)(R.b,a()({},t,{"data-test-id":"create-sample-event",disabled:t.disabled||r,onClick:this.createSampleGroup}))}}]),r}(O.a.Component);N.displayName="CreateSampleEventButton",t.a=Object(z.a)(Object(E.a)(N))},2773:function(e,t,r){e.exports=r.p+"sentry-robot.f8ee35.png"},2858:function(e,t,r){"use strict";r.r(t),r.d(t,"ErrorRobot",(function(){return E}));var n=r(20),a=r.n(n),o=r(29),i=r.n(o),c=r(9),s=r.n(c),u=r(10),p=r.n(u),l=r(11),d=r.n(l),f=r(12),b=r.n(f),g=r(7),h=r.n(g),v=r(3),m=r(1),j=r.n(m),x=r(22),y=r(2773),O=r.n(y),k=r(27),w=r(2),S=r(6),I=r(18),R=r(47),C=r(2238),D=r(0);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var E=function(e){d()(n,e);var t,r=z(n);function n(){var e;s()(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={error:!1,loading:!1,sampleIssueId:e.props.sampleIssueId},e}return p()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(t=i()(a.a.mark((function e(){var t,r,n,o,i,c,s,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.org,n=t.project,o=this.state.sampleIssueId,n){e.next=4;break}return e.abrupt("return");case 4:if(!Object(I.d)(o)){e.next=6;break}return e.abrupt("return");case 6:return i="/projects/".concat(r.slug,"/").concat(n.slug,"/issues/"),this.setState({loading:!0}),e.prev=8,e.next=11,this.props.api.requestPromise(i,{method:"GET",data:{limit:1}});case 11:c=e.sent,this.setState({sampleIssueId:c.length>0&&c[0].id||""}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),p=null===(s=null===e.t0||void 0===e.t0||null===(u=e.t0.responseJSON)||void 0===u?void 0:u.detail)||void 0===s||s,this.setState({error:p});case 19:this.setState({loading:!1});case 20:case"end":return e.stop()}}),e,this,[[8,15]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.error,n=e.sampleIssueId,a=this.props,o=a.org,i=a.project,c=a.gradient,s=i&&!t&&!r&&n?Object(D.f)("p",null,Object(D.f)(x.Link,{to:"/".concat(o.slug,"/").concat(i.slug,"/issues/").concat(n,"/?sample")},Object(w.b)("Or see your sample event"))):Object(D.f)("p",null,Object(D.f)(C.a,{priority:"link",project:i,source:"issues_list",disabled:!i,title:i?void 0:Object(w.b)("Select a project to create a sample event")},Object(w.b)("Create a sample event")));return Object(D.f)(P,{"data-test-id":"awaiting-events",className:"awaiting-events",gradient:c},Object(D.f)(T,{"aria-hidden":!0},Object(D.f)(_,null)),Object(D.f)(F,null,Object(D.f)("h3",null,Object(w.b)("Waiting for eventsâ€¦")),Object(D.f)("p",null,Object(w.c)("Our error robot is waiting to [strike:devour] receive your first event.",{strike:Object(D.f)(N,null)})),Object(D.f)("p",null,i&&Object(D.f)(k.b,{"data-test-id":"install-instructions",priority:"primary",to:"/".concat(o.slug,"/").concat(i.slug,"/getting-started/").concat(i.platform||"")},Object(w.b)("Installation Instructions"))),s))}}]),n}(j.a.Component);E.displayName="ErrorRobot",t.default=Object(R.a)(E);var P=Object(v.a)("div",{target:"el1b5da0",label:"ErrorRobotWrapper"})("display:flex;justify-content:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";box-shadow:inset 0 1px 3px rgba(0,0,0,0.08);border-radius:0 0 3px 3px;padding:40px ",Object(S.a)(3)," ",Object(S.a)(3),";min-height:260px;",(function(e){return e.gradient?"\n          background-image: linear-gradient(to bottom, ".concat(e.theme.backgroundSecondary,", ").concat(e.theme.background,");\n         "):""}),";@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-direction:column;align-items:center;padding:",Object(S.a)(3),";text-align:center;}"),T=Object(v.a)("div",{target:"el1b5da1",label:"Robot"})("display:block;position:relative;width:220px;height:260px;background:url(",O.a,");background-size:cover;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){width:110px;height:130px;}"),_=Object(v.a)("span",{target:"el1b5da2",label:"Eye"})("width:12px;height:12px;border-radius:50%;position:absolute;top:70px;left:81px;transform:translateZ(0);animation:blink-eye 0.6s infinite;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){width:6px;height:6px;top:35px;left:41px;}@keyframes blink-eye{0%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}50%{background:#4a4d67;box-shadow:none;}100%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}}"),F=Object(v.a)("div",{target:"el1b5da3",label:"MessageContainer"})("align-self:center;max-width:480px;margin-left:40px;@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){margin:0;}"),N=Object(v.a)("span",{target:"el1b5da4",label:"Strikethrough"})({name:"4jky3p",styles:"text-decoration:line-through;"})}}]);
//# sourceMappingURL=ErrorRobot.js.map