(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[142],{2939:function(t,e,r){"use strict";r.r(e);var n=r(5),c=r.n(n),a=r(9),o=r.n(a),u=r(10),i=r.n(u),s=r(11),l=r.n(s),f=r(12),p=r.n(f),h=r(7),y=r.n(h),g=r(3),b=r(1),v=r.n(b),d=r(443),O=r(1912),j=r(2),m=r(222),S=r(6),w=r(2381),P=r(8),R=r.n(P),T=r(187),D=r.n(T),k=r(1898),C=r(2435),A=r(0);function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){R()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var c=y()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return p()(this,r)}}var z=function(t){l()(r,t);var e=N(r);function r(){var t;o()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).handleSubmitSuccess=function(){var e=t.props.router,r=t.props.params.orgId;e.push("/organizations/".concat(r,"/alerts/rules/"))},t}return i()(r,[{key:"getDefaultState",value:function(){return I(I({},D()(y()(r.prototype),"getDefaultState",this).call(this)),{},{actions:new Map})}},{key:"getEndpoints",value:function(){var t=this.props.params,e=t.orgId,r=t.ruleId;return[["rule","/organizations/".concat(e,"/alert-rules/").concat(r,"/")]]}},{key:"onRequestSuccess",value:function(t){var e=t.stateKey,r=t.data;"rule"===e&&r.name&&this.props.onChangeTitle(r.name)}},{key:"renderBody",value:function(){var t=this.props.params.ruleId,e=this.state.rule;return Object(A.f)(C.a,c()({},this.props,{ruleId:t,rule:e,onSubmitSuccess:this.handleSubmitSuccess}))}}]),r}(k.a),M=r(2436);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=y()(t);if(e){var c=y()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return p()(this,r)}}var J=function(t){l()(r,t);var e=x(r);function r(){var t;o()(this,r);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={alertType:"",ruleName:""},t.handleChangeTitle=function(e){t.setState({ruleName:e})},t}return i()(r,[{key:"getTitle",value:function(){var t=this.state.ruleName,e=Object(j.b)("Edit Alert Rule");return t?"".concat(e,": ").concat(t):e}},{key:"render",value:function(){var t=this.props,e=t.hasMetricAlerts,r=t.location,n=t.organization,a=t.project,o=r.pathname.includes("/alerts/metric-rules/")?"metric":"issue";return Object(A.f)(O.a,{title:this.getTitle(),orgSlug:n.slug,projectSlug:a.slug},Object(A.f)(m.b,null,Object(A.f)(w.a,{hasMetricAlerts:e,orgSlug:n.slug,title:this.getTitle()}),Object(A.f)(W,null,Object(A.f)(d.a,null,this.getTitle())),(!e||"issue"===o)&&Object(A.f)(M.a,c()({},this.props,{project:a,onChangeTitle:this.handleChangeTitle})),e&&"metric"===o&&Object(A.f)(z,c()({},this.props,{project:a,onChangeTitle:this.handleChangeTitle}))))}}]),r}(v.a.Component);J.displayName="ProjectAlertsEditor";var W=Object(g.a)(m.c,{target:"eofyd4t0",label:"StyledPageHeader"})("margin-bottom:",Object(S.a)(4),";");e.default=J}}]);
//# sourceMappingURL=ProjectAlertsEdit.js.map