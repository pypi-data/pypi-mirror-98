{"version":3,"sources":["webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/components/settingsPageHeader.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/components/alertLink.tsx","webpack:///./app/actionCreators/integrations.tsx","webpack:///./app/components/repositoryRow.tsx","webpack:///./app/views/settings/organizationRepositories/organizationRepositories.tsx","webpack:///./app/views/settings/organizationRepositories/index.tsx"],"names":["AsyncView","title","this","getTitle","renderComponent","AsyncComponent","UnstyledSettingsPageHeader","props","icon","subtitle","action","tabs","noTitleStyles","body","isNarrow","TitleAndActions","TitleWrapper","Icon","Title","styled","Subtitle","Action","BodyWrapper","TabsWrapper","React","Component","defaultProps","p","space","theme","gray400","fontSizeLarge","SettingsPageHeader","routeTitleGen","routeName","orgSlug","withSentry","projectSlug","tmplBase","tmpl","AlertLink","size","priority","children","onClick","withoutMarginBottom","openInNewTab","to","href","dataTestId","StyledLink","data-test-id","IconWrapper","AlertLinkText","IconLink","direction","linkProps","omit","alert","backgroundLight","textColor","border","Client","deleteRepository","client","orgId","repositoryId","addLoadingMessage","promise","requestPromise","method","then","clearIndicators","addErrorMessage","t","cancelDeleteRepository","data","status","applyRepositoryAddComplete","repo","message","tct","name","addSuccessMessage","errorData","text","responseJSON","errors","__all__","migrateRepository","integration","integrationId","id","addRepository","installation","identifier","provider","key","RepositoryRow","cancelDelete","api","repository","onRepositoryChange","deleteRepo","RepositoryStatus","PENDING_DELETION","DELETION_IN_PROGRESS","DISABLED","HIDDEN","showProvider","isActive","access","hasAccess","StyledPanelItem","RepositoryTitleAndUrl","RepositoryTitle","getStatusLabel","StyledButton","disabled","url","replace","onConfirm","label","ACTIVE","PanelItem","Button","OrganizationRepositories","itemList","params","hasItemList","length","className","link","map","description","OrganizationRepositoriesContainer","state","forEach","item","setState","query","itemListPageLinks","Fragment","pageLinks"],"mappings":"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","file":"OrganizationRepositories.js","sourcesContent":["import React from 'react';\nimport DocumentTitle from 'react-document-title';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent()}\n      </DocumentTitle>\n    );\n  }\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {HeaderTitle} from 'app/styles/organization';\nimport space from 'app/styles/space';\n\ntype Props = {\n  // Icon left of title\n  icon?: React.ReactNode;\n\n  // The title\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n\n  // Disables font styles in the title. Allows for more custom titles.\n  noTitleStyles?: boolean;\n  className?: string;\n\n  // CTA button\n  action?: React.ReactNode;\n\n  body?: React.ReactNode;\n\n  tabs?: React.ReactNode;\n};\n\nclass UnstyledSettingsPageHeader extends React.Component<Props> {\n  static defaultProps = {\n    noTitleStyles: false,\n  };\n\n  render() {\n    const {\n      icon,\n      title,\n      subtitle,\n      action,\n      tabs,\n      noTitleStyles,\n      body,\n      ...props\n    } = this.props;\n\n    // If Header is narrow, use align-items to center <Action>.\n    // Otherwise, use a fixed margin to prevent an odd alignment.\n    // This is needed as Actions could be a button or a dropdown.\n    const isNarrow = !subtitle;\n\n    return (\n      <div {...props}>\n        <TitleAndActions isNarrow={isNarrow}>\n          <TitleWrapper>\n            {icon && <Icon>{icon}</Icon>}\n            {title && (\n              <Title tabs={tabs} styled={noTitleStyles}>\n                <HeaderTitle>{title}</HeaderTitle>\n                {subtitle && <Subtitle>{subtitle}</Subtitle>}\n              </Title>\n            )}\n          </TitleWrapper>\n          {action && <Action isNarrow={isNarrow}>{action}</Action>}\n        </TitleAndActions>\n\n        {body && <BodyWrapper>{body}</BodyWrapper>}\n        {tabs && <TabsWrapper>{tabs}</TabsWrapper>}\n      </div>\n    );\n  }\n}\n\ntype TitleProps = {\n  styled?: boolean;\n  tabs?: React.ReactNode;\n};\n\nconst TitleAndActions = styled('div')<{isNarrow?: boolean}>`\n  display: flex;\n  align-items: ${p => (p.isNarrow ? 'center' : 'flex-start')};\n`;\nconst TitleWrapper = styled('div')`\n  flex: 1;\n`;\n\nconst Title = styled('div')<TitleProps & React.HTMLProps<HTMLDivElement>>`\n  ${p => !p.styled && `font-size: 20px; font-weight: 600;`};\n  margin: ${space(4)} ${space(2)} ${space(3)} 0;\n`;\nconst Subtitle = styled('div')`\n  color: ${p => p.theme.gray400};\n  font-weight: 400;\n  font-size: ${p => p.theme.fontSizeLarge};\n  padding: ${space(1.5)} 0 0;\n`;\n\nconst Icon = styled('div')`\n  margin-right: ${space(1)};\n`;\n\nconst Action = styled('div')<{isNarrow?: boolean}>`\n  margin-top: ${p => (p.isNarrow ? '0' : space(4))};\n`;\n\nconst SettingsPageHeader = styled(UnstyledSettingsPageHeader)<\n  Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props\n>`\n  font-size: 14px;\n  margin-top: -${space(4)};\n`;\n\nconst BodyWrapper = styled('div')`\n  flex: 1;\n  margin: 0 0 ${space(3)};\n`;\nconst TabsWrapper = styled('div')`\n  flex: 1;\n  margin: 0; /* sentry/components/navTabs has added margin */\n`;\n\nexport default SettingsPageHeader;\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\n\nimport ExternalLink from 'app/components/links/externalLink';\nimport Link from 'app/components/links/link';\nimport {IconChevron} from 'app/icons';\nimport space from 'app/styles/space';\n\ntype Size = 'small' | 'normal';\ntype Priority = 'info' | 'warning' | 'success' | 'error' | 'muted';\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\n\ntype OtherProps = {\n  ['data-test-id']?: string;\n  icon?: string | React.ReactNode;\n  onClick?: (e: React.MouseEvent) => void;\n};\n\ntype DefaultProps = {\n  size: Size;\n  priority: Priority;\n  withoutMarginBottom: boolean;\n  openInNewTab: boolean;\n  href?: string;\n};\n\ntype Props = OtherProps & DefaultProps & Partial<Pick<LinkProps, 'to'>>;\n\ntype StyledLinkProps = DefaultProps &\n  Partial<Pick<LinkProps, 'to'>> &\n  Omit<LinkProps, 'to' | 'size'>;\n\nclass AlertLink extends React.Component<Props> {\n  static defaultProps: DefaultProps = {\n    priority: 'warning',\n    size: 'normal',\n    withoutMarginBottom: false,\n    openInNewTab: false,\n  };\n\n  render() {\n    const {\n      size,\n      priority,\n      icon,\n      children,\n      onClick,\n      withoutMarginBottom,\n      openInNewTab,\n      to,\n      href,\n      ['data-test-id']: dataTestId,\n    } = this.props;\n\n    return (\n      <StyledLink\n        data-test-id={dataTestId}\n        to={to}\n        href={href}\n        onClick={onClick}\n        size={size}\n        priority={priority}\n        withoutMarginBottom={withoutMarginBottom}\n        openInNewTab={openInNewTab}\n      >\n        {icon && <IconWrapper>{icon}</IconWrapper>}\n        <AlertLinkText>{children}</AlertLinkText>\n        <IconLink>\n          <IconChevron direction=\"right\" />\n        </IconLink>\n      </StyledLink>\n    );\n  }\n}\n\nexport default AlertLink;\n\nconst StyledLink = styled(({openInNewTab, to, href, ...props}: StyledLinkProps) => {\n  const linkProps = omit(props, ['withoutMarginBottom', 'priority', 'size']);\n  if (href) {\n    return <ExternalLink {...linkProps} href={href} openInNewTab={openInNewTab} />;\n  }\n\n  return <Link {...linkProps} to={to || ''} />;\n})`\n  display: flex;\n  background-color: ${p => p.theme.alert[p.priority].backgroundLight};\n  color: ${p => p.theme.textColor};\n  border: 1px dashed ${p => p.theme.alert[p.priority].border};\n  padding: ${p => (p.size === 'small' ? `${space(1)} ${space(1.5)}` : space(2))};\n  margin-bottom: ${p => (p.withoutMarginBottom ? 0 : space(3))};\n  border-radius: 0.25em;\n  transition: 0.2s border-color;\n\n  &.focus-visible {\n    outline: none;\n    box-shadow: ${p => p.theme.alert[p.priority].border}7f 0 0 0 2px;\n  }\n`;\n\nconst IconWrapper = styled('span')`\n  display: flex;\n  margin: ${space(0.5)} ${space(1.5)} ${space(0.5)} 0;\n`;\n\nconst IconLink = styled(IconWrapper)`\n  margin: ${space(0.5)} 0;\n`;\n\nconst AlertLinkText = styled('div')`\n  line-height: 1.5;\n  flex-grow: 1;\n`;\n","import {\n  addErrorMessage,\n  addLoadingMessage,\n  addSuccessMessage,\n  clearIndicators,\n} from 'app/actionCreators/indicator';\nimport {Client} from 'app/api';\nimport {t, tct} from 'app/locale';\nimport {Integration, Repository} from 'app/types';\n\nconst api = new Client();\n\n/**\n * Removes an integration from a project.\n *\n * @param {String} orgId Organization Slug\n * @param {String} projectId Project Slug\n * @param {Object} integration The organization integration to remove\n */\nexport function removeIntegrationFromProject(\n  orgId: string,\n  projectId: string,\n  integration: Integration\n) {\n  const endpoint = `/projects/${orgId}/${projectId}/integrations/${integration.id}/`;\n  addLoadingMessage();\n\n  return api.requestPromise(endpoint, {method: 'DELETE'}).then(\n    () => {\n      addSuccessMessage(t('Disabled %s for %s', integration.name, projectId));\n    },\n    () => {\n      addErrorMessage(t('Failed to disable %s for %s', integration.name, projectId));\n    }\n  );\n}\n\n/**\n * Add an integration to a project\n *\n * @param {String} orgId Organization Slug\n * @param {String} projectId Project Slug\n * @param {Object} integration The organization integration to add\n */\nexport function addIntegrationToProject(\n  orgId: string,\n  projectId: string,\n  integration: Integration\n) {\n  const endpoint = `/projects/${orgId}/${projectId}/integrations/${integration.id}/`;\n  addLoadingMessage();\n\n  return api.requestPromise(endpoint, {method: 'PUT'}).then(\n    () => {\n      addSuccessMessage(t('Enabled %s for %s', integration.name, projectId));\n    },\n    () => {\n      addErrorMessage(t('Failed to enabled %s for %s', integration.name, projectId));\n    }\n  );\n}\n\n/**\n * Delete a respository\n *\n * @param {Object} client ApiClient\n * @param {String} orgId Organization Slug\n * @param {String} repositoryId Repository ID\n */\nexport function deleteRepository(client: Client, orgId: string, repositoryId: string) {\n  addLoadingMessage();\n  const promise = client.requestPromise(\n    `/organizations/${orgId}/repos/${repositoryId}/`,\n    {\n      method: 'DELETE',\n    }\n  );\n  promise.then(\n    () => clearIndicators(),\n    () => addErrorMessage(t('Unable to delete repository.'))\n  );\n  return promise;\n}\n\n/**\n * Cancel the deletion of a respository\n *\n * @param {Object} client ApiClient\n * @param {String} orgId Organization Slug\n * @param {String} repositoryId Repository ID\n */\nexport function cancelDeleteRepository(\n  client: Client,\n  orgId: string,\n  repositoryId: string\n) {\n  addLoadingMessage();\n  const promise = client.requestPromise(\n    `/organizations/${orgId}/repos/${repositoryId}/`,\n    {\n      method: 'PUT',\n      data: {status: 'visible'},\n    }\n  );\n  promise.then(\n    () => clearIndicators(),\n    () => addErrorMessage(t('Unable to cancel deletion.'))\n  );\n  return promise;\n}\n\nfunction applyRepositoryAddComplete(promise: Promise<Repository>) {\n  promise.then(\n    (repo: Repository) => {\n      const message = tct('[repo] has been successfully added.', {\n        repo: repo.name,\n      });\n      addSuccessMessage(message);\n    },\n    errorData => {\n      const text = errorData.responseJSON.errors\n        ? errorData.responseJSON.errors.__all__\n        : t('Unable to add repository.');\n      addErrorMessage(text);\n    }\n  );\n  return promise;\n}\n\n/**\n * Migrate a repository to a new integration.\n *\n * @param {Object} client ApiClient\n * @param {String} orgId Organization Slug\n * @param {String} repositoryId Repository ID\n * @param {Object} integration Integration provider data.\n */\nexport function migrateRepository(\n  client: Client,\n  orgId: string,\n  repositoryId: string,\n  integration: Integration\n) {\n  const data = {integrationId: integration.id};\n  addLoadingMessage();\n  const promise = client.requestPromise(\n    `/organizations/${orgId}/repos/${repositoryId}/`,\n    {\n      data,\n      method: 'PUT',\n    }\n  );\n  return applyRepositoryAddComplete(promise);\n}\n\n/**\n * Add a repository\n *\n * @param {Object} client ApiClient\n * @param {String} orgId Organization Slug\n * @param {String} name Repository identifier/name to add\n * @param {Object} integration Integration provider data.\n */\nexport function addRepository(\n  client: Client,\n  orgId: string,\n  name: string,\n  integration: Integration\n) {\n  const data = {\n    installation: integration.id,\n    identifier: name,\n    provider: `integrations:${integration.provider.key}`,\n  };\n  addLoadingMessage();\n  const promise = client.requestPromise(`/organizations/${orgId}/repos/`, {\n    method: 'POST',\n    data,\n  });\n  return applyRepositoryAddComplete(promise);\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {cancelDeleteRepository, deleteRepository} from 'app/actionCreators/integrations';\nimport {Client} from 'app/api';\nimport Access from 'app/components/acl/access';\nimport Button from 'app/components/button';\nimport Confirm from 'app/components/confirm';\nimport {PanelItem} from 'app/components/panels';\nimport Tooltip from 'app/components/tooltip';\nimport {IconDelete} from 'app/icons';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Repository, RepositoryStatus} from 'app/types';\n\ntype DefaultProps = {\n  showProvider?: boolean;\n};\n\ntype Props = DefaultProps & {\n  repository: Repository;\n  api: Client;\n  orgId: string;\n  onRepositoryChange?: (data: {id: string; status: RepositoryStatus}) => void;\n};\n\nclass RepositoryRow extends React.Component<Props> {\n  static defaultProps: DefaultProps = {\n    showProvider: false,\n  };\n\n  getStatusLabel(repo: Repository) {\n    switch (repo.status) {\n      case RepositoryStatus.PENDING_DELETION:\n        return 'Deletion Queued';\n      case RepositoryStatus.DELETION_IN_PROGRESS:\n        return 'Deletion in Progress';\n      case RepositoryStatus.DISABLED:\n        return 'Disabled';\n      case RepositoryStatus.HIDDEN:\n        return 'Disabled';\n      default:\n        return null;\n    }\n  }\n\n  cancelDelete = () => {\n    const {api, orgId, repository, onRepositoryChange} = this.props;\n    cancelDeleteRepository(api, orgId, repository.id).then(\n      data => {\n        if (onRepositoryChange) {\n          onRepositoryChange(data);\n        }\n      },\n      () => {}\n    );\n  };\n\n  deleteRepo = () => {\n    const {api, orgId, repository, onRepositoryChange} = this.props;\n    deleteRepository(api, orgId, repository.id).then(\n      data => {\n        if (onRepositoryChange) {\n          onRepositoryChange(data);\n        }\n      },\n      () => {}\n    );\n  };\n\n  get isActive() {\n    return this.props.repository.status === RepositoryStatus.ACTIVE;\n  }\n\n  render() {\n    const {repository, showProvider} = this.props;\n    const isActive = this.isActive;\n\n    return (\n      <Access access={['org:integrations']}>\n        {({hasAccess}) => (\n          <StyledPanelItem status={repository.status}>\n            <RepositoryTitleAndUrl>\n              <RepositoryTitle>\n                <strong>{repository.name}</strong>\n                {!isActive && <small> &mdash; {this.getStatusLabel(repository)}</small>}\n                {repository.status === RepositoryStatus.PENDING_DELETION && (\n                  <StyledButton\n                    size=\"xsmall\"\n                    onClick={this.cancelDelete}\n                    disabled={!hasAccess}\n                    data-test-id=\"repo-cancel\"\n                  >\n                    {t('Cancel')}\n                  </StyledButton>\n                )}\n              </RepositoryTitle>\n              <div>\n                {showProvider && <small>{repository.provider.name}</small>}\n                {showProvider && repository.url && <span>&nbsp;&mdash;&nbsp;</span>}\n                {repository.url && (\n                  <small>\n                    <a href={repository.url}>{repository.url.replace('https://', '')}</a>\n                  </small>\n                )}\n              </div>\n            </RepositoryTitleAndUrl>\n\n            <Tooltip\n              title={t(\n                'You must be an organization owner, manager or admin to remove a repository.'\n              )}\n              disabled={hasAccess}\n            >\n              <Confirm\n                disabled={\n                  !hasAccess ||\n                  (!isActive && repository.status !== RepositoryStatus.DISABLED)\n                }\n                onConfirm={this.deleteRepo}\n                message={t(\n                  'Are you sure you want to remove this repository? All associated commit data will be removed in addition to the repository.'\n                )}\n              >\n                <Button\n                  size=\"xsmall\"\n                  icon={<IconDelete size=\"xs\" />}\n                  label={t('delete')}\n                  disabled={!hasAccess}\n                />\n              </Confirm>\n            </Tooltip>\n          </StyledPanelItem>\n        )}\n      </Access>\n    );\n  }\n}\n\nconst StyledPanelItem = styled(PanelItem)<{status: RepositoryStatus}>`\n  /* shorter top padding because of title lineheight */\n  padding: ${space(1)} ${space(2)} ${space(2)};\n  justify-content: space-between;\n  align-items: center;\n  flex: 1;\n\n  ${p =>\n    p.status === RepositoryStatus.DISABLED &&\n    `\n    filter: grayscale(1);\n    opacity: 0.4;\n  `};\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst StyledButton = styled(Button)`\n  margin-left: ${space(1)};\n`;\n\nconst RepositoryTitleAndUrl = styled('div')`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst RepositoryTitle = styled('div')`\n  margin-bottom: ${space(1)};\n  /* accommodate cancel button height */\n  line-height: 26px;\n`;\n\nexport default RepositoryRow;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport {Client} from 'app/api';\nimport AlertLink from 'app/components/alertLink';\nimport Button from 'app/components/button';\nimport {Panel, PanelBody, PanelHeader} from 'app/components/panels';\nimport RepositoryRow from 'app/components/repositoryRow';\nimport {IconCommit} from 'app/icons';\nimport {t, tct} from 'app/locale';\nimport {Repository, RepositoryStatus} from 'app/types';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\n\ntype Props = RouteComponentProps<{orgId: string}, {}> & {\n  itemList: Repository[];\n  onRepositoryChange: (data: {id: string; status: RepositoryStatus}) => void;\n  api: Client;\n};\n\nconst OrganizationRepositories = ({itemList, onRepositoryChange, api, params}: Props) => {\n  const {orgId} = params;\n  const hasItemList = itemList && itemList.length > 0;\n\n  return (\n    <div>\n      <SettingsPageHeader title={t('Repositories')} />\n      <AlertLink to={`/settings/${orgId}/integrations/`}>\n        {t(\n          'Want to add a repository to start tracking commits? Install or configure your version control integration here.'\n        )}\n      </AlertLink>\n      {!hasItemList && (\n        <div className=\"m-b-2\">\n          <TextBlock>\n            {t(\n              'Connecting a repository allows Sentry to capture commit data via webhooks. ' +\n                'This enables features like suggested assignees and resolving issues via commit message. ' +\n                \"Once you've connected a repository, you can associate commits with releases via the API.\"\n            )}\n            &nbsp;\n            {tct('See our [link:documentation] for more details.', {\n              link: <a href=\"https://docs.sentry.io/learn/releases/\" />,\n            })}\n          </TextBlock>\n        </div>\n      )}\n\n      {hasItemList ? (\n        <Panel>\n          <PanelHeader>{t('Added Repositories')}</PanelHeader>\n          <PanelBody>\n            <div>\n              {itemList.map(repo => (\n                <RepositoryRow\n                  key={repo.id}\n                  repository={repo}\n                  api={api}\n                  showProvider\n                  orgId={orgId}\n                  onRepositoryChange={onRepositoryChange}\n                />\n              ))}\n            </div>\n          </PanelBody>\n        </Panel>\n      ) : (\n        <Panel>\n          <EmptyMessage\n            icon={<IconCommit size=\"xl\" />}\n            title={t('Sentry is better with commit data')}\n            description={t(\n              'Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message.'\n            )}\n            action={\n              <Button href=\"https://docs.sentry.io/learn/releases/\">\n                {t('Learn more')}\n              </Button>\n            }\n          />\n        </Panel>\n      )}\n    </div>\n  );\n};\n\nexport default OrganizationRepositories;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport Pagination from 'app/components/pagination';\nimport {t} from 'app/locale';\nimport {Repository} from 'app/types';\nimport routeTitleGen from 'app/utils/routeTitle';\nimport AsyncView from 'app/views/asyncView';\n\nimport OrganizationRepositories from './organizationRepositories';\n\ntype Props = RouteComponentProps<{orgId: string}, {}> & AsyncView['props'];\n\ntype State = AsyncView['state'] & {\n  itemList: Repository[] | null;\n};\n\nexport default class OrganizationRepositoriesContainer extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {orgId} = this.props.params;\n    return [['itemList', `/organizations/${orgId}/repos/`, {query: {status: ''}}]];\n  }\n\n  // Callback used by child component to signal state change\n  onRepositoryChange = (data: Pick<Repository, 'id' | 'status'>) => {\n    const itemList = this.state.itemList;\n    itemList?.forEach(item => {\n      if (item.id === data.id) {\n        item.status = data.status;\n      }\n    });\n    this.setState({itemList});\n  };\n\n  getTitle() {\n    const {orgId} = this.props.params;\n    return routeTitleGen(t('Repositories'), orgId, false);\n  }\n\n  renderBody() {\n    const {itemList, itemListPageLinks} = this.state;\n\n    return (\n      <React.Fragment>\n        <OrganizationRepositories\n          {...this.props}\n          itemList={itemList!}\n          api={this.api}\n          onRepositoryChange={this.onRepositoryChange}\n        />\n        {itemListPageLinks && (\n          <Pagination pageLinks={itemListPageLinks} {...this.props} />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n"],"sourceRoot":""}