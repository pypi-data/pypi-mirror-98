(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[85],{2069:function(e,t,r){"use strict";r(1);var n=r(27),s=r(43),a=r(15),i=r(2),o=r(18),c=r(0),u=[{icon:Object(c.f)(a.E,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(a.e,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commits/").concat(r)}},{icon:Object(c.f)(a.Ib,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}},{icon:Object(c.f)(a.F,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:function(e){var t=e.baseUrl,r=e.commitId;return"".concat(t,"/commit/").concat(r)}}];t.a=function(e){var t=e.inline,r=e.commitId,a=e.repository;if(!r||!a)return Object(c.f)("span",null,Object(i.b)("Unknown Commit"));var d=Object(o.l)(r),l=u.find((function(e){return!!a.provider&&e.providerIds.includes(a.provider.id)}));if(void 0===l)return Object(c.f)("span",null,d);var b=a.url&&l.commitUrl({commitId:r,baseUrl:a.url});return t?Object(c.f)(s.a,{className:"inline-commit",href:b},l.icon," "+d):Object(c.f)(n.b,{external:!0,href:b,size:"small",icon:l.icon},d)}},2269:function(e,t,r){"use strict";var n=r(9),s=r.n(n),a=r(10),i=r.n(a),o=r(11),c=r.n(o),u=r(12),d=r.n(u),l=r(7),b=r.n(l),p=r(3),h=r(1),f=r.n(h),O=r(708),v=r(62),m=r(15),g=r(2),j=r(6),y=r(112),E=r(0);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var s=b()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return d()(this,r)}}var I=function(e){c()(r,e);var t=S(r);function r(){var e;s()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isBannerHidden:"true"===y.a.getItem(e.getBannerUniqueId())},e.handleBannerDismiss=function(){y.a.setItem(e.getBannerUniqueId(),"true"),e.setState({isBannerHidden:!0})},e}return i()(r,[{key:"getBannerUniqueId",value:function(){var e=this.props.reprocessActivity.id;return"reprocessed-activity-".concat(e,"-banner-dismissed")}},{key:"renderMessage",value:function(){var e=this.props,t=e.orgSlug,r=e.reprocessActivity,n=e.groupCount,s=e.groupId,a=r.data,i=a.eventCount,o=a.oldGroupId,c=a.newGroupId,u="/organizations/".concat(t,"/issues/?query=reprocessing.original_issue_id:").concat(o);return 0===n?Object(g.c)("All events in this issue were moved during reprocessing. [link]",{link:Object(E.f)(v.a,{to:u},Object(g.d)("See %s new event","See %s new events",i))}):Object(g.c)("Events in this issue were successfully reprocessed. [link]",{link:Object(E.f)(v.a,{to:u},c===Number(s)?Object(g.d)("See %s reprocessed event","See %s reprocessed events",i):Object(g.d)("See %s new event","See %s new events",i))})}},{key:"render",value:function(){if(this.state.isBannerHidden)return null;var e=this.props.className;return Object(E.f)(O.a,{priority:"success",className:e},Object(E.f)(N,null,Object(E.f)(m.i,{color:"green300",isCircled:!0}),Object(E.f)("span",null,this.renderMessage()),Object(E.f)(R,{color:"green300","aria-label":Object(g.b)("Dismiss"),isCircled:!0,onClick:this.handleBannerDismiss})))}}]),r}(f.a.Component);I.displayName="ReprocessedBox",t.a=I;var N=Object(p.a)(O.b,{target:"e2r0jxr0",label:"StyledBannerSummary"})("& > svg:last-child{margin-right:0;margin-left:",Object(j.a)(1),";}"),R=Object(p.a)(m.n,{target:"e2r0jxr1",label:"StyledIconClose"})({name:"4g6ai3",styles:"cursor:pointer;"})},2270:function(e,t,r){"use strict";r(1);var n=r(43),s=r(15),a=r(0);t.a=function(e){var t=e.pullRequest,r=e.repository,i=e.inline,o="".concat(r.name," #").concat(t.id,": ").concat(t.title);return t.externalUrl?Object(a.f)(n.a,{className:i?"inline-commit":"btn btn-default btn-sm",href:t.externalUrl},function(e){if(!e.provider)return null;var t=e.provider.id;switch(t.includes(":")?t.split(":").pop():t){case"github":return Object(a.f)(s.E,{size:"xs"});case"gitlab":return Object(a.f)(s.F,{size:"xs"});case"bitbucket":return Object(a.f)(s.e,{size:"xs"});default:return null}}(r),i?"":" ",o):Object(a.f)("span",null,o)}},2937:function(e,t,r){"use strict";r.r(t),r.d(t,"GroupActivity",(function(){return te}));var n=r(5),s=r.n(n),a=r(20),i=r.n(a),o=r(29),c=r.n(o),u=r(9),d=r.n(u),l=r(10),b=r.n(l),p=r(11),h=r.n(p),f=r(12),O=r.n(f),v=r(7),m=r.n(v),g=r(3),j=r(1),y=r.n(j),E=r(136),S=r(33),I=r(2087),N=r(2059),R=r(2439),w=r(2378),U=r(156),_=r(2269),k=r(32),C=r(2),x=r(36),D=r(6),T=r(51),A=r(161),B=r(47),$=r(54),G=r(8),z=r.n(G),V=r(121),L=r.n(V),J=r(2069),M=r(449),P=r(43),q=r(62),W=r(2270),F=r(442),H=r(177),K=r(227),Q=r(0);function Y(e){var t=e.activity,r=e.orgSlug,n=e.projectId,s=e.author,a="/organizations/".concat(r,"/issues/");return Object(Q.f)(y.a.Fragment,null,function(){switch(t.type){case T.b.NOTE:return Object(C.c)("[author] left a comment",{author:s});case T.b.SET_RESOLVED:return Object(C.c)("[author] marked this issue as resolved",{author:s});case T.b.SET_RESOLVED_BY_AGE:return Object(C.c)("[author] marked this issue as resolved due to inactivity",{author:s});case T.b.SET_RESOLVED_IN_RELEASE:return t.data.version?Object(C.c)("[author] marked this issue as resolved in [version]",{author:s,version:Object(Q.f)(F.a,{version:t.data.version,projectId:n,tooltipRawVersion:!0})}):Object(C.c)("[author] marked this issue as resolved in the upcoming release",{author:s});case T.b.SET_RESOLVED_IN_COMMIT:return Object(C.c)("[author] marked this issue as resolved in [version]",{author:s,version:Object(Q.f)(J.a,{inline:!0,commitId:t.data.commit.id,repository:t.data.commit.repository})});case T.b.SET_RESOLVED_IN_PULL_REQUEST:var e=t.data.pullRequest;return Object(C.c)("[author] marked this issue as resolved in [version]",{author:s,version:Object(Q.f)(W.a,{inline:!0,pullRequest:e,repository:e.repository})});case T.b.SET_UNRESOLVED:return Object(C.c)("[author] marked this issue as unresolved",{author:s});case T.b.SET_IGNORED:return function(e){return e.ignoreDuration?Object(C.c)("[author] ignored this issue for [duration]",{author:s,duration:Object(Q.f)(M.a,{seconds:60*e.ignoreDuration})}):e.ignoreCount&&e.ignoreWindow?Object(C.c)("[author] ignored this issue until it happens [count] time(s) in [duration]",{author:s,count:e.ignoreCount,duration:Object(Q.f)(M.a,{seconds:60*e.ignoreWindow})}):e.ignoreCount?Object(C.c)("[author] ignored this issue until it happens [count] time(s)",{author:s,count:e.ignoreCount}):e.ignoreUserCount&&e.ignoreUserWindow?Object(C.c)("[author] ignored this issue until it affects [count] user(s) in [duration]",{author:s,count:e.ignoreUserCount,duration:Object(Q.f)(M.a,{seconds:60*e.ignoreUserWindow})}):e.ignoreUserCount?Object(C.c)("[author] ignored this issue until it affects [count] user(s)",{author:s,count:e.ignoreUserCount}):Object(C.c)("[author] ignored this issue",{author:s})}(t.data);case T.b.SET_PUBLIC:return Object(C.c)("[author] made this issue public",{author:s});case T.b.SET_PRIVATE:return Object(C.c)("[author] made this issue private",{author:s});case T.b.SET_REGRESSION:var i=t.data;return i.version?Object(C.c)("[author] marked this issue as a regression in [version]",{author:s,version:Object(Q.f)(F.a,{version:i.version,projectId:n,tooltipRawVersion:!0})}):Object(C.c)("[author] marked this issue as a regression",{author:s});case T.b.CREATE_ISSUE:var o=t.data;return Object(C.c)("[author] created an issue on [provider] titled [title]",{author:s,provider:o.provider,title:Object(Q.f)(P.a,{href:o.location},o.title)});case T.b.UNMERGE_SOURCE:var c=t.data,u=c.destination,d=c.fingerprints;return Object(C.d)("%2$s migrated %1$s fingerprint to %3$s","%2$s migrated %1$s fingerprints to %3$s",d.length,s,u?Object(Q.f)(q.a,{to:"".concat(a).concat(u.id)},u.shortId):Object(C.b)("a group"));case T.b.UNMERGE_DESTINATION:var l=t.data,b=l.source,p=l.fingerprints;return Object(C.d)("%2$s migrated %1$s fingerprint from %3$s","%2$s migrated %1$s fingerprints from %3$s",p.length,s,b?Object(Q.f)(q.a,{to:"".concat(a).concat(b.id)},b.shortId):Object(C.b)("a group"));case T.b.FIRST_SEEN:return Object(C.c)("[author] first saw this issue",{author:s});case T.b.ASSIGNED:return function(e){var r,n=void 0;if("team"===e.assigneeType){var a=K.a.getById(e.assignee);return n=a?a.slug:"<unknown-team>",Object(C.c)("[author] assigned this issue to #[assignee]",{author:s,assignee:n})}return t.user&&t.assignee===t.user.id?Object(C.c)("[author] assigned this issue to themselves",{author:s}):(n=H.a.getById(e.assignee),"object"===L()(n)&&null!==(r=n)&&void 0!==r&&r.email?Object(C.c)("[author] assigned this issue to [assignee]",{author:s,assignee:n.email}):Object(C.c)("[author] assigned this issue to an unknown user",{author:s}))}(t.data);case T.b.UNASSIGNED:return Object(C.c)("[author] unassigned this issue",{author:s});case T.b.MERGE:return Object(C.d)("%2$s merged %1$s issue into this issue","%2$s merged %1$s issues into this issue",t.data.issues.length,s);case T.b.REPROCESS:var h=t.data,f=h.oldGroupId,O=h.eventCount;return Object(C.c)("[author] reprocessed the events in this issue. [new-events]",z()({author:s},"new-events",Object(Q.f)(q.a,{to:"/organizations/".concat(r,"/issues/?query=reprocessing.original_issue_id:").concat(f)},Object(C.d)("See %s new event","See %s new events",O))));case T.b.MARK_REVIEWED:return Object(C.c)("[author] marked this issue as reviewed",{author:s});default:return""}}())}Y.displayName="GroupActivityItem";var X=Y,Z=r(356);function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var s=m()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return O()(this,r)}}var te=function(e){h()(r,e);var t=ee(r);function r(){var e;d()(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={createBusy:!1,error:!1,errorJSON:null,inputId:Object(A.a)()},e.handleNoteDelete=function(){var t=c()(i.a.mark((function t(r){var n,s,a,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.modelId,s=r.text,a=e.props,o=a.api,c=a.group,Object(S.b)(Object(C.b)("Removing comment...")),t.prev=3,t.next=6,Object(E.g)(o,c,n,s);case 6:Object(S.d)(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),Object(S.a)(Object(C.b)("Failed to delete comment"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteCreate=function(){var t=c()(i.a.mark((function t(r){var n,s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.api,a=n.group,e.setState({createBusy:!0}),Object(S.b)(Object(C.b)("Posting comment...")),t.prev=3,t.next=6,Object(E.f)(s,a,r);case 6:e.setState({createBusy:!1,inputId:Object(A.a)()}),Object(S.d)(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),e.setState({createBusy:!1,error:!0,errorJSON:t.t0.responseJSON||k.h}),Object(S.a)(Object(C.b)("Unable to post comment"));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleNoteUpdate=function(){var t=c()(i.a.mark((function t(r,n){var s,a,o,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.modelId,a=n.text,o=e.props,c=o.api,u=o.group,Object(S.b)(Object(C.b)("Updating comment...")),t.prev=3,t.next=6,Object(E.i)(c,u,r,s,a);case 6:Object(S.d)(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({error:!0,errorJSON:t.t0.responseJSON||k.h}),Object(S.a)(Object(C.b)("Unable to update comment"));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,r){return t.apply(this,arguments)}}(),e}return b()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.group,n=t.organization,a=r.activity,i=r.count,o=r.id,c=Number(i),u=Object(Z.e)(a),d=Object(Z.f)(r,u),l=x.default.get("user"),b=r&&r.project?[r.project.slug]:[],p={minHeight:140,group:r,projectSlugs:b,placeholder:Object(C.b)("Add details or updates to this event. \nTag users with @, or teams with #")};return Object(Q.f)(y.a.Fragment,null,(d===Z.a.REPROCESSED_AND_HASNT_EVENT||d===Z.a.REPROCESSED_AND_HAS_EVENT)&&Object(Q.f)(re,{reprocessActivity:u,groupCount:c,orgSlug:n.slug,groupId:o}),Object(Q.f)("div",{className:"row"},Object(Q.f)("div",{className:"col-md-9"},Object(Q.f)("div",null,Object(Q.f)(N.a,{author:{type:"user",user:l}},(function(){return Object(Q.f)(w.a,s()({key:e.state.inputId,storageKey:"groupinput:latest",itemKey:r.id,onCreate:e.handleNoteCreate,busy:e.state.createBusy,error:e.state.error,errorJSON:e.state.errorJSON},p))})),r.activity.map((function(t){var a,i,o=t.user?t.user.name:"Sentry";return t.type===T.b.NOTE?Object(Q.f)(U.a,{mini:!0,key:"note-".concat(t.id)},Object(Q.f)(R.a,s()({showTime:!1,text:t.data.text,modelId:t.id,user:t.user,dateCreated:t.dateCreated,authorName:o,onDelete:e.handleNoteDelete,onUpdate:e.handleNoteUpdate},p))):t.type!==T.b.MARK_REVIEWED||null!=n&&null!==(a=n.features)&&void 0!==a&&a.includes("inbox")?Object(Q.f)(U.a,{mini:!0,key:"item-".concat(t.id)},Object(Q.f)(N.a,{author:{type:t.user?"user":"system",user:null!==(i=t.user)&&void 0!==i?i:void 0},date:t.dateCreated,header:Object(Q.f)(X,{author:Object(Q.f)(I.a,null,o),activity:t,orgSlug:e.props.params.orgId,projectId:r.project.id})})):null}))))))}}]),r}(y.a.Component);te.displayName="GroupActivity";t.default=Object(B.a)(Object($.a)(te));var re=Object(g.a)(_.a,{target:"ergnc8n0",label:"StyledReprocessedBox"})("margin:-",Object(D.a)(3)," -",Object(D.a)(4)," ",Object(D.a)(4)," -",Object(D.a)(4),";z-index:1;")}}]);
//# sourceMappingURL=GroupActivity.js.map