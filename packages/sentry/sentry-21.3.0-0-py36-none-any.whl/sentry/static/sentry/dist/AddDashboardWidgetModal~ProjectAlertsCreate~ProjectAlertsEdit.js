(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[12],{1932:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(71),u=n.n(i),c=n(9),o=n.n(c),l=n(10),s=n.n(l),f=n(11),d=n.n(f),p=n(12),m=n.n(p),v=n(7),h=n.n(v),g=n(1),b=n.n(g),y=n(0),O=n(580),k=n.n(O),j=n(575),w=n.n(j),T=n(59),F=n.n(T),C=n(382),E=n.n(C),P=n(114),S=n.n(P),V=n(573),N=n(719),D=n(32),I=n(51),x=n(18),R=n(61),U=n(2008),M=n(47),A=n(2009);function q(){var e=u()(["\n                    max-height: 300px;\n                    overflow-y: auto;\n                  "]);return q=function(){return e},e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}var z=new RegExp("^".concat(D.A,"|\\").concat(D.D),"g"),G=function(e){d()(n,e);var t=L(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getEventFieldValues=E()((function(t,n,a){var r=e.props,i=r.api,u=r.organization,c=r.projectIds,o=null==c?void 0:c.map(String);return Object(R.q)(t.key)||Object(R.r)(t.key)?Promise.resolve([]):Object(V.b)(i,u.slug,t.key,n,o,a,!0).then((function(e){return w()(e.filter((function(e){var t=e.name;return Object(x.d)(t)})).map((function(e){return e.name})))}),(function(){throw new Error("Unable to fetch event field values")}))}),(function(e,t){var n=e.key;return"".concat(n,"-").concat(t)})),e.prepareQuery=function(e){return e.replace(z,"")},e}return s()(n,[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.getEventFieldValues.cache).clear)||void 0===e||e.call(t)}},{key:"componentDidUpdate",value:function(e){var t,n;F()(this.props.projectIds,e.projectIds)||(null===(t=(n=this.getEventFieldValues.cache).clear)||void 0===t||t.call(n))}},{key:"getTagList",value:function(e){var t=this.props,n=t.fields,a=t.organization,r=t.tags,i=t.omitTags,u=n?Object.fromEntries(n.filter((function(e){return!Object.keys(R.c).includes(e.field)})).map((function(e){return[e.field,{key:e.field,name:e.field}]}))):{},c=a.features.includes("performance-view")?Object.assign({},e,R.c,u):S()(R.c,R.d),o=k()({},r,c);return o.has={key:"has",name:"Has property",values:Object.keys(o),predefined:!0},S()(o,null!=i?i:[])}},{key:"render",value:function(){var e=this;return Object(y.f)(U.a,null,(function(t){var n=t.measurements,a=e.getTagList(n);return Object(y.f)(y.b,null,(function(t){var n=t.css;return Object(y.f)(N.a,r()({},e.props,{hasRecentSearches:!0,savedSearchType:I.g.EVENT,onGetTagValues:e.getEventFieldValues,supportedTags:a,prepareQuery:e.prepareQuery,excludeEnvironment:!0,dropdownClassName:n(q())}))}))}))}}]),n}(b.a.PureComponent);G.displayName="SearchBar",t.a=Object(M.a)(Object(A.a)(G))},2008:function(e,t,n){"use strict";var a=n(30),r=n.n(a),i=n(1),u=n.n(i),c=n(1917),o=n(0),l=Object.fromEntries(Object.entries(c.a).map((function(e){var t=r()(e,2),n=t[0];return[n,{name:t[1].name,key:n}]})));function s(e){return Object(o.f)(u.a.Fragment,null,e.children({measurements:l}))}s.displayName="Measurements",t.a=s},2009:function(e,t,n){"use strict";var a=n(8),r=n.n(a),i=n(14),u=n.n(i),c=(n(1),n(39)),o=n.n(c),l=n(25),s=n.n(l),f=n(230),d=n(97),p=n(0);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e){return o()({displayName:"withTags(".concat(Object(d.a)(e),")"),mixins:[s.a.listenTo(f.a,"onTagsUpdate")],getInitialState:function(){return{tags:f.a.getAllTags()}},onTagsUpdate:function(e){this.setState({tags:e})},render:function(){var t=this.props,n=t.tags,a=u()(t,["tags"]);return Object(p.f)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tags:null!=n?n:this.state.tags},a))}})}},2175:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(14),r=n.n(a),i=n(8),u=n.n(i),c=n(5),o=n.n(c),l=n(9),s=n.n(l),f=n(10),d=n.n(f),p=n(11),m=n.n(p),v=n(12),h=n.n(v),g=n(7),b=n.n(g),y=n(3),O=n(1),k=n.n(O),j=n(64),w=n(751),T=n.n(w),F=n(120),C=n(330),E=n(2),P=n(6),S=n(223),V=n(426),N=n(0);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var R=function(e){m()(n,e);var t=x(n);function n(){var e;s()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleFieldChange=function(t){if(t){var n=t.value,a=e.props.fieldValue,r=T()(e.props.fieldValue);switch(n.kind){case V.a.TAG:case V.a.MEASUREMENT:case V.a.FIELD:r={kind:"field",field:n.meta.name};break;case V.a.FUNCTION:"field"===a.kind?r={kind:"function",function:[n.meta.name,"",void 0]}:"function"===a.kind&&(r={kind:"function",function:[n.meta.name,a.function[1],a.function[2]]});break;default:throw new Error("Invalid field type found in column picker")}n.kind===V.a.FUNCTION&&(n.meta.parameters.forEach((function(t,n){if("function"===r.kind)if("column"===t.kind){var a=e.getFieldOrTagOrMeasurementValue(r.function[n+1]);null===a?r.function[n+1]=t.defaultValue||"":a.kind!==V.a.FIELD&&a.kind!==V.a.TAG&&a.kind!==V.a.MEASUREMENT||!U(t.columnTypes,a)?(r.function[n+1]=t.defaultValue||"",r.function[n+2]=void 0):r.function[n+1]=a.meta.name}else"value"===t.kind&&(r.function[n+1]=t.defaultValue||"")})),"function"===r.kind&&(0===n.meta.parameters.length?r.function=[r.function[0],"",void 0]:1===n.meta.parameters.length&&(r.function[2]=void 0))),e.triggerChange(r)}},e.handleFieldParameterChange=function(t){var n=t.value,a=T()(e.props.fieldValue);"function"===a.kind&&(a.function[1]=n.meta.name),e.triggerChange(a)},e.handleScalarParameterChange=function(t){var n=T()(e.props.fieldValue);"function"===n.kind&&(n.function[1]=t),e.triggerChange(n)},e.handleRefinementChange=function(t){var n=T()(e.props.fieldValue);"function"===n.kind&&(n.function[2]=t),e.triggerChange(n)},e}return d()(n,[{key:"triggerChange",value:function(e){this.props.onChange(e)}},{key:"getFieldOrTagOrMeasurementValue",value:function(e){var t=this.props.fieldOptions;if(void 0===e)return null;var n="field:".concat(e);if(t[n])return t[n].value;var a="measurement:".concat(e);if(t[a])return t[a].value;var r=0===e.indexOf("tags[")?"tag:".concat(e.replace(/tags\[(.*?)\]/,"$1")):"tag:".concat(e);return t[r]?t[r].value:e.length>0?{kind:V.a.TAG,meta:{name:e,dataType:"string",unknown:!0}}:null}},{key:"getFieldData",value:function(){var e=this,t=null,n=this.props.fieldValue,a=this.props.fieldOptions;if("function"===n.kind){var r="function:".concat(n.function[0]);void 0!==a[r]&&(t=a[r].value)}"field"===n.kind&&(t=this.getFieldOrTagOrMeasurementValue(n.field),a=this.appendFieldIfUnknown(a,t));var i=[];return t&&t.kind===V.a.FUNCTION&&t.meta.parameters.length>0&&n.kind===V.a.FUNCTION&&(i=t.meta.parameters.map((function(t,r){if("column"===t.kind){var i=e.getFieldOrTagOrMeasurementValue(n.function[1]);return a=e.appendFieldIfUnknown(a,i),{kind:"column",value:i,required:t.required,options:Object.values(a).filter((function(e){var n=e.value;return(n.kind===V.a.FIELD||n.kind===V.a.TAG||n.kind===V.a.MEASUREMENT)&&U(t.columnTypes,n)}))}}return{kind:"value",value:"function"===n.kind&&n.function[r+1]||t.defaultValue||"",dataType:t.dataType,required:t.required}}))),{field:t,fieldOptions:a,parameterDescriptions:i}}},{key:"appendFieldIfUnknown",value:function(e,t){return t?(t&&t.kind===V.a.TAG&&t.meta.unknown&&((e=Object.assign({},e))[t.meta.name]={label:t.meta.name,value:t}),e):e}},{key:"renderParameterInputs",value:function(e){var t=this,n=this.props,a=n.disabled,r=n.inFieldLabels,i=e.map((function(e,n){if("column"===e.kind&&e.options.length>0)return Object(N.f)(F.a,{key:"select",name:"parameter",placeholder:Object(E.b)("Select value"),options:e.options,value:e.value,required:e.required,onChange:t.handleFieldParameterChange,inFieldLabel:r?Object(E.b)("Parameter: "):void 0,disabled:a});if("value"===e.kind){var i=0===n?t.handleScalarParameterChange:t.handleRefinementChange,u={required:e.required,value:e.value,onUpdate:i,disabled:a};switch(e.dataType){case"number":return Object(N.f)(A,o()({name:"refinement",key:"parameter:number",type:"text",inputMode:"numeric",pattern:"[0-9]*(\\.[0-9]*)?"},u));case"integer":return Object(N.f)(A,o()({name:"refinement",key:"parameter:integer",type:"text",inputMode:"numeric",pattern:"[0-9]*"},u));default:return Object(N.f)(A,o()({name:"refinement",key:"parameter:text",type:"text"},u))}}throw new Error("Unknown parameter type encountered for ".concat(t.props.fieldValue))})),u=this.props.gridColumns,c=(null!=u?u:i.length+1)-i.length-1;if(void 0!==u&&c>0)for(var l=0;l<c;l++)i.push(Object(N.f)(L,{key:l}));return i}},{key:"renderTag",value:function(e){var t,n;if(!1===this.props.shouldRenderTag)return null;switch(e){case V.a.FUNCTION:t="f(x)",n="success";break;case V.a.MEASUREMENT:t="measure",n="info";break;case V.a.TAG:t=e,n="warning";break;case V.a.FIELD:t=e,n="highlight";break;default:t=e}return Object(N.f)(C.b,{type:n},t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.takeFocus,i=t.filterPrimaryOptions,u=t.inFieldLabels,c=t.disabled,l=this.getFieldData(),s=l.field,f=l.fieldOptions,d=l.parameterDescriptions,p=i?Object.values(f).filter(i):Object.values(f),m={name:"field",options:Object.values(p),placeholder:Object(E.b)("(Required)"),value:s,onChange:this.handleFieldChange,inFieldLabel:u?Object(E.b)("Function: "):void 0,disabled:c};a&&null===s&&(m.autoFocus=!0);var v={singleValue:function(e){return I(I({},e),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"calc(100% - 10px)"})},option:function(e){return I(I({},e),{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"})}},h=this.renderParameterInputs(d);return Object(N.f)(M,{className:n,gridColumns:h.length+1},Object(N.f)(F.a,o()({},m,{styles:u?void 0:v,components:{Option:function(t){var n=t.label,a=t.data,i=r()(t,["label","data"]);return Object(N.f)(j.z.Option,o()({label:n,data:a},i),Object(N.f)("span",{"data-test-id":"label"},n),e.renderTag(a.value.kind))},SingleValue:function(t){var n=t.data,a=r()(t,["data"]);return Object(N.f)(j.z.SingleValue,o()({data:n},a),Object(N.f)("span",{"data-test-id":"label"},n.label),e.renderTag(n.value.kind))}}})),h)}}]),n}(k.a.Component);function U(e,t){return"function"==typeof e?e({name:t.meta.name,dataType:t.meta.dataType}):e.includes(t.meta.dataType)}R.displayName="QueryField";var M=Object(y.a)("div",{target:"e12adzhr0",label:"Container"})("display:grid;grid-template-columns:repeat(",(function(e){return e.gridColumns}),",1fr);grid-column-gap:",Object(P.a)(1),";align-items:center;flex-grow:1;"),A=function(e){m()(n,e);var t=x(n);function n(e){var a;return s()(this,n),(a=t.call(this,e)).state={value:a.props.value},a.input=void 0,a.handleBlur=function(){a.isValid?a.props.onUpdate(a.state.value):a.setState({value:a.props.value})},a.handleChange=function(e){a.isValid&&a.setState({value:e.target.value})},a.input=k.a.createRef(),a}return d()(n,[{key:"render",value:function(){var e=this.props,t=(e.onUpdate,r()(e,["onUpdate"]));return Object(N.f)(q,o()({},t,{ref:this.input,className:"form-control",value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur}))}},{key:"isValid",get:function(){return!this.input.current||this.input.current.validity.valid}}]),n}(k.a.Component);A.displayName="BufferedInput";var q=Object(y.a)(S.a,{target:"e12adzhr1",label:"StyledInput"})({name:"141chpg",styles:"height:41px;min-width:50px;"}),L=Object(y.a)("div",{target:"e12adzhr2",label:"BlankSpace"})("height:41px;min-width:50px;background:",(function(e){return e.theme.backgroundSecondary}),";border-radius:",(function(e){return e.theme.borderRadius}),";display:flex;align-items:center;justify-content:center;&:after{font-size:",(function(e){return e.theme.fontSizeMedium}),";content:'",Object(E.b)("No parameter"),"';color:",(function(e){return e.theme.gray300}),";}")}}]);
//# sourceMappingURL=AddDashboardWidgetModal~ProjectAlertsCreate~ProjectAlertsEdit.js.map