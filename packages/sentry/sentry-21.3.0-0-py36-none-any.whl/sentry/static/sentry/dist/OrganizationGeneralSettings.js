(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[116],{1912:function(e,t,n){"use strict";n(1);var a=n(264),r=n.n(a),i=n(0);function o(e){var t=e.title,n=e.orgSlug,a=e.projectSlug,o=e.children;var c=n||a?n&&a?"".concat(t," - ").concat(n," - ").concat(a):n?"".concat(t," - ").concat(n):"".concat(t," - ").concat(a):t;return Object(i.f)(r.a,{title:"".concat(c," - Sentry")},o)}o.displayName="SentryDocumentTitle",t.a=o},2053:function(e,t,n){"use strict";function a(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return a}))},2074:function(e,t,n){"use strict";var a=n(5),r=n.n(a),i=n(14),o=n.n(i),c=(n(1),n(326)),l=n(70),s=n(15),u=n(2),b=n(0),d=function(e){var t=e.access,n=void 0===t?["org:write"]:t,a=o()(e,["access"]);return Object(b.f)(c.a,{access:n},(function(e){return!e.hasAccess&&Object(b.f)(l.b,r()({type:"warning",icon:Object(b.f)(s.Jb,{size:"sm"})},a),Object(u.b)("These settings can only be edited by users with the organization owner or manager role."))}))};d.displayName="PermissionAlert",t.a=d},2239:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return i}));var a=n(2),r=n(2053),i="/settings/:orgId/",o=[{title:Object(a.b)("General"),fields:[{name:"slug",type:"string",required:!0,label:Object(a.b)("Organization Slug"),help:Object(a.b)("A unique ID used to identify this organization"),transformInput:r.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(a.b)("You will be redirected to the new organization slug after saving")},{name:"name",type:"string",required:!0,label:Object(a.b)("Display Name"),help:Object(a.b)("A human-friendly name for the organization")},{name:"isEarlyAdopter",type:"boolean",label:Object(a.b)("Early Adopter"),help:Object(a.b)("Opt-in to new features before they're released to the public")}]},{title:"Membership",fields:[{name:"defaultRole",type:"select",deprecatedSelectControl:!1,required:!0,label:Object(a.b)("Default Role"),choices:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.initialData;return null!==(e=null==a||null===(t=a.availableRoles)||void 0===t?void 0:t.map((function(e){return[e.id,e.name]})))&&void 0!==e?e:[]},help:Object(a.b)("The default role new members will receive"),disabled:function(e){return!e.access.has("org:admin")}},{name:"openMembership",type:"boolean",required:!0,label:Object(a.b)("Open Membership"),help:Object(a.b)("Allow organization members to freely join or leave any team")},{name:"eventsMemberAdmin",type:"boolean",label:Object(a.b)("Let Members Delete Events"),help:Object(a.b)("Allow members to delete events (including the delete & discard action) by granting them the `event:admin` scope.")},{name:"alertsMemberWrite",type:"boolean",label:Object(a.b)("Let Members Create and Edit Alerts"),help:Object(a.b)("Allow members to create, edit, and delete alert rules by granting them the `alerts:write` scope.")},{name:"attachmentsRole",type:"select",deprecatedSelectControl:!1,choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r||null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(a.b)("Attachments Access"),help:Object(a.b)("Role required to download event attachments, such as native crash reports or log files."),visible:function(e){return e.features.has("event-attachments")}},{name:"debugFilesRole",type:"select",deprecatedSelectControl:!1,choices:function(e){var t,n,a=e.initialData,r=void 0===a?{}:a;return null!==(t=null==r||null===(n=r.availableRoles)||void 0===n?void 0:n.map((function(e){return[e.id,e.name]})))&&void 0!==t?t:[]},label:Object(a.b)("Debug Files Access"),help:Object(a.b)("Role required to download debug information files, proguard mappings and source maps.")}]}];t.default=o},2918:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),i=n(9),o=n.n(i),c=n(10),l=n.n(c),s=n(11),u=n.n(s),b=n(12),d=n.n(b),f=n(7),p=n.n(f),g=n(1),m=n.n(g),h=n(22),v=n(33),O=n(456),j=n(27),y=n(137),w=n(96),z=n(1912),R=n(2),S=n(47),D=n(54),A=n(698),M=n(1899),E=n(696),q=n(2074),C=n(693),P=n(2440),T=n(2239),I=n(329),N=n(699),F=n(0);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var G=function(e){u()(n,e);var t=k(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getEndpoints",value:function(){var e=this.props.organization;return[["authProvider","/organizations/".concat(e.slug,"/auth-provider/")]]}},{key:"render",value:function(){var e=this.props,t=e.initialData,n=e.organization,a=e.onSave,i=e.access,o=this.state.authProvider,c="/organizations/".concat(n.slug,"/"),l={additionalFieldProps:{hasSsoEnabled:!!o},features:new Set(n.features),access:i,location:this.props.location,disabled:!i.has("org:write")};return Object(F.f)(I.a,{"data-test-id":"organization-settings",apiMethod:"PUT",apiEndpoint:c,saveOnBlur:!0,allowUndo:!0,initialData:t,onSubmitSuccess:function(e,n){"function"==typeof a&&a(t,n.initialData)},onSubmitError:function(){return Object(v.a)("Unable to save change")}},Object(F.f)(N.a,r()({},l,{forms:T.default})),Object(F.f)(P.a,{type:"organization",allowGravatar:!1,endpoint:"".concat(c,"avatar/"),model:t,onSave:O.h,disabled:!i.has("org:write")}))}}]),n}(C.a);G.displayName="OrganizationSettingsForm";var x=Object(D.a)(G);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var L=function(e){u()(n,e);var t=J(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleRemoveOrganization=function(){var t=e.props,n=t.api,a=t.organization,r=t.params;a&&(Object(v.b)(),Object(O.e)(n,{orgId:r.orgId,successMessage:"".concat(a.name," is queued for deletion."),errorMessage:"Error removing the ".concat(a.name," organization")}))},e.handleSave=function(e,t){t.slug&&t.slug!==e.slug?(Object(O.a)(e,t),h.browserHistory.replace("/settings/".concat(t.slug,"/"))):Object(O.h)(t)},e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.params.orgId,a=new Set(t.access),i=t.projects&&!!t.projects.length;return Object(F.f)(m.a.Fragment,null,Object(F.f)(z.a,{title:Object(R.b)("General Settings"),orgSlug:n}),Object(F.f)("div",null,Object(F.f)(M.a,{title:Object(R.b)("Organization Settings")}),Object(F.f)(q.a,null),Object(F.f)(x,r()({},this.props,{initialData:t,access:a,onSave:this.handleSave})),a.has("org:admin")&&!t.isDefault&&Object(F.f)(w.a,null,Object(F.f)(w.e,null,Object(R.b)("Remove Organization")),Object(F.f)(A.a,{label:Object(R.b)("Remove Organization"),help:Object(R.b)("Removing this organization will delete all data including projects and their associated events.")},Object(F.f)("div",null,Object(F.f)(y.a,{priority:"danger",confirmText:Object(R.b)("Remove Organization"),message:Object(F.f)("div",null,Object(F.f)(E.a,null,Object(R.c)("Removing the organization, [name] is permanent and cannot be undone! Are you sure you want to continue?",{name:t&&Object(F.f)("strong",null,t.name)})),i&&Object(F.f)("div",null,Object(F.f)(E.a,{noMargin:!0},Object(R.b)("This will also remove the following associated projects:")),Object(F.f)("ul",{className:"ref-projects"},t.projects.map((function(e){return Object(F.f)("li",{key:e.slug},e.slug)}))))),onConfirm:this.handleRemoveOrganization},Object(F.f)(j.b,{priority:"danger",title:Object(R.b)("Remove %s organization",t&&t.name)},Object(R.b)("Remove Organization"))))))))}}]),n}(m.a.Component);L.displayName="OrganizationGeneralSettings";t.default=Object(S.a)(Object(D.a)(L))}}]);
//# sourceMappingURL=OrganizationGeneralSettings.js.map