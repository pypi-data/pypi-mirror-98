(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[119],{1898:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(9),a=r.n(n),i=r(10),o=r.n(i),c=r(11),u=r.n(c),s=r(12),l=r.n(s),b=r(7),f=r.n(b),d=(r(1),r(264)),m=r.n(d),p=r(693),v=r(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var O=function(e){u()(r,e);var t=g(r);function r(){return a()(this,r),t.apply(this,arguments)}return o()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(v.f)(m.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),r}(p.a);O.displayName="AsyncView"},1911:function(e,t,r){"use strict";t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,a="".concat(e," - ").concat(t),i=n?"".concat(a," - ").concat(n):a;return r?"".concat(i," - Sentry"):i}},1925:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(706),a=r.n(n),i=r(572);function o(e,t){var r,n,o,c,u=t.routes,s=t.params,l=t.location,b=t.stepBack,f=u.map((function(e){return e.path||""}));"string"!=typeof e?(c=u.indexOf(e)+1,o=a()(f.slice(0,c),(function(e){return"/"===e[0]}))):o=a()(f,(function(e){return"/"===e[0]}));var d=f.slice(o,c);void 0!==b&&(d=d.slice(0,b));var m=null!==(r=null==l?void 0:l.search)&&void 0!==r?r:"",p=null!==(n=null==l?void 0:l.hash)&&void 0!==n?n:"",v="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(m).concat(p);return Object(i.a)(v,s)}},2901:function(e,t,r){"use strict";r.r(t);var n=r(71),a=r.n(n),i=r(5),o=r.n(i),c=r(8),u=r.n(c),s=r(20),l=r.n(s),b=r(29),f=r.n(b),d=r(9),m=r.n(d),p=r(10),v=r.n(p),g=r(187),O=r.n(g),h=r(11),j=r.n(h),y=r(12),x=r.n(y),w=r(7),S=r.n(w),k=r(3),z=r(1),R=r.n(z),N=r(0),L=r(33),C=r(389),I=r(456),P=r(27),M=r(134),E=r(694),q=r(96),A=r(32),D=r(15),F=r(2),T=r(36),V=r(6),B=r(1911),U=r(38),W=r(54),Y=r(1898),H=r(440),J=r(24),_=r.n(J),G=r(336),K=r(301),Q=r(240),X=function(e){return Array.isArray(e)&&e.length?e&&e.map((function(e){return e.toLowerCase()})).includes("true"):null},Z=function(e){var t=e.className,r=e.roles,n=e.query,a=e.onChange,i=Object(Q.c)(n),o={roles:i.getTagValues("role")||[],isInvited:X(i.getTagValues("isInvited")),ssoLinked:X(i.getTagValues("ssoLinked")),has2fa:X(i.getTagValues("has2fa"))},c=function(e){return function(){var t=new Set(i.getTagValues("role")?_()(i.getTagValues("role")):[]);t.has(e)?t.delete(e):t.add(e);var r=i.copy();r.setTagValues("role",_()(t)),a(Object(Q.b)(r))}},u=function(e){return function(t){var r=i.copy();r.removeTag(e),null!==t&&r.setTagValues(e,[Boolean(t).toString()]),a(Object(Q.b)(r))}};return Object(N.f)(ee,{className:t},Object(N.f)(te,null,Object(F.b)("Filter By")),Object(N.f)(re,null,Object(N.f)(ne,null,Object(N.f)("h3",null,Object(F.b)("User Role")),r.map((function(e){var t=e.id,r=e.name;return Object(N.f)("label",{key:t},Object(N.f)(G.a,{"data-test-id":"filter-role-".concat(t),checked:o.roles.includes(t),onChange:c(t)}),r)}))),Object(N.f)(ne,null,Object(N.f)("h3",null,Object(F.b)("Status")),Object(N.f)($,{"data-test-id":"filter-isInvited",onChange:u("isInvited"),value:o.isInvited},Object(F.b)("Invited")),Object(N.f)($,{"data-test-id":"filter-has2fa",onChange:u("has2fa"),value:o.has2fa},Object(F.b)("2FA")),Object(N.f)($,{"data-test-id":"filter-ssoLinked",onChange:u("ssoLinked"),value:o.ssoLinked},Object(F.b)("SSO Linked")))))};Z.displayName="MembersFilter";var $=function(e){var t=e.onChange,r=e.value,n=e.children;return Object(N.f)("label",null,Object(N.f)(G.a,{checked:null!==r,onChange:function(){return t(null===r||null)}}),n,Object(N.f)(K.a,{isDisabled:null===r,isActive:!0===r,toggle:function(){return t(!r)}}))};$.displayName="BooleanFilter";var ee=Object(k.a)("div",{target:"ehjw1av0",label:"FilterContainer"})("border-radius:4px;background:",(function(e){return e.theme.background}),";box-shadow:",(function(e){return e.theme.dropShadowLight}),";border:1px solid ",(function(e){return e.theme.border}),";"),te=Object(k.a)("h2",{target:"ehjw1av1",label:"FilterHeader"})("border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid ",(function(e){return e.theme.border}),";background:",(function(e){return e.theme.backgroundSecondary}),";color:",(function(e){return e.theme.subText}),";text-transform:uppercase;font-size:",(function(e){return e.theme.fontSizeExtraSmall}),";padding:",Object(V.a)(1),";margin:0;"),re=Object(k.a)("div",{target:"ehjw1av2",label:"FilterLists"})("display:grid;grid-template-columns:100px max-content;grid-gap:",Object(V.a)(3),";margin:",Object(V.a)(1.5),";margin-top:",Object(V.a)(.75),";"),ne=Object(k.a)("div",{target:"ehjw1av3",label:"Filters"})("display:grid;grid-template-rows:repeat(auto-fit,minmax(0,max-content));grid-gap:",Object(V.a)(1),";font-size:",(function(e){return e.theme.fontSizeMedium}),";h3{color:#000;font-size:",(function(e){return e.theme.fontSizeSmall}),";text-transform:uppercase;margin:",Object(V.a)(1)," 0;}label{display:grid;grid-template-columns:max-content 1fr max-content;grid-gap:",Object(V.a)(.75),";align-items:center;font-weight:normal;white-space:nowrap;height:",Object(V.a)(2),";}input,label{margin:0;}"),ae=Z,ie=r(202),oe=r(137),ce=r(62),ue=r(44),se=r(1925);function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x()(this,r)}}var be=function(e){j()(r,e);var t=le(r);function r(){var e;m()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={busy:!1},e.handleRemove=function(){var t=e.props.onRemove;"function"==typeof t&&(e.setState({busy:!0}),t(e.props.member))},e.handleLeave=function(){var t=e.props.onLeave;"function"==typeof t&&(e.setState({busy:!0}),t(e.props.member))},e.handleSendInvite=function(){var t=e.props,r=t.onSendInvite,n=t.member;"function"==typeof r&&r(n)},e}return v()(r,[{key:"render",value:function(){var e=this.props,t=e.params,r=e.routes,n=e.member,a=e.orgName,i=e.status,o=e.requireLink,c=e.memberCanLeave,u=e.currentUser,s=e.canRemoveMembers,l=e.canAddMembers,b=n.id,f=n.flags,d=n.email,m=n.name,p=n.roleName,v=n.pending,g=n.expired,O=n.user,h=!f["sso:linked"]&&o,j=u.email===d,y=!j,x=j,w=s&&!j,S=O&&O.has2fa,k=Object(se.a)(b,{routes:r,params:t}),z="success"===i,L="loading"===i,C=v||h;return Object(N.f)(fe,{"data-test-id":d},Object(N.f)(me,null,Object(N.f)(ie.a,{size:32,user:null!=O?O:{id:d,email:d}}),Object(N.f)(pe,{to:k},Object(N.f)("h5",{style:{margin:"0 0 3px"}},Object(N.f)(ve,null,m)),Object(N.f)(ge,null,d))),Object(N.f)("div",{"data-test-id":"member-role"},v?Object(N.f)(Oe,null,Object(N.f)(D.T,{size:"md"}),g?Object(F.b)("Expired Invite"):Object(F.c)("Invited [roleName]",{roleName:p})):p),Object(N.f)("div",{"data-test-id":"member-status"},C?Object(N.f)(R.a.Fragment,null,L&&Object(N.f)(he,null,Object(N.f)(ue.default,{mini:!0})),z&&Object(N.f)("span",null,"Sent!"),!L&&!z&&Object(N.f)(P.b,{disabled:!l,priority:"primary",size:"small",onClick:this.handleSendInvite},v?Object(F.b)("Resend invite"):Object(F.b)("Resend SSO link"))):Object(N.f)(je,null,S?Object(N.f)(D.i,{isCircled:!0,color:"success"}):Object(N.f)(D.C,{color:"error"}),S?Object(F.b)("2FA Enabled"):Object(F.b)("2FA Not Enabled"))),y||x?Object(N.f)("div",null,y&&w&&Object(N.f)(oe.a,{message:Object(F.c)("Are you sure you want to remove [name] from [orgName]?",{name:m,orgName:a}),onConfirm:this.handleRemove},Object(N.f)(P.b,{"data-test-id":"remove",icon:Object(N.f)(D.xb,{isCircled:!0,size:"xs"}),size:"small",busy:this.state.busy},Object(F.b)("Remove"))),y&&!w&&Object(N.f)(P.b,{disabled:!0,size:"small",title:Object(F.b)("You do not have access to remove members"),icon:Object(N.f)(D.xb,{isCircled:!0,size:"xs"})},Object(F.b)("Remove")),x&&c&&Object(N.f)(oe.a,{message:Object(F.c)("Are you sure you want to leave [orgName]?",{orgName:a}),onConfirm:this.handleLeave},Object(N.f)(P.b,{priority:"danger",size:"small",icon:Object(N.f)(D.n,{size:"xs"})},Object(F.b)("Leave"))),x&&!c&&Object(N.f)(P.b,{size:"small",icon:Object(N.f)(D.n,{size:"xs"}),disabled:!0,title:Object(F.b)("You cannot leave this organization as you are the only organization owner.")},Object(F.b)("Leave"))):null)}}]),r}(R.a.PureComponent);be.displayName="OrganizationMemberRow";var fe=Object(k.a)(q.f,{target:"ec4wqui0",label:"StyledPanelItem"})("display:grid;grid-template-columns:minmax(150px,2fr) minmax(90px,1fr) minmax(120px,1fr) 90px;grid-gap:",Object(V.a)(2),";align-items:center;"),de=Object(k.a)("div",{target:"ec4wqui1",label:"Section"})("display:inline-grid;grid-template-columns:max-content auto;grid-gap:",Object(V.a)(1),";align-items:center;"),me=Object(k.a)(de,{target:"ec4wqui2",label:"MemberHeading"})(),pe=Object(k.a)(ce.a,{target:"ec4wqui3",label:"MemberDescription"})({name:"i6bazn",styles:"overflow:hidden;"}),ve=Object(k.a)("div",{target:"ec4wqui4",label:"UserName"})("display:block;font-size:",(function(e){return e.theme.fontSizeLarge}),";overflow:hidden;text-overflow:ellipsis;"),ge=Object(k.a)("div",{target:"ec4wqui5",label:"Email"})("color:",(function(e){return e.theme.textColor}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";overflow:hidden;text-overflow:ellipsis;"),Oe=Object(k.a)(de,{target:"ec4wqui6",label:"InvitedRole"})(),he=Object(k.a)("div",{target:"ec4wqui7",label:"LoadingContainer"})("margin-top:0;margin-bottom:",Object(V.a)(1.5),";"),je=Object(k.a)(de,{target:"ec4wqui8",label:"AuthStatus"})();function ye(){var e=a()(["\n                font-size: ",";\n              "]);return ye=function(){return e},e}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return x()(this,r)}}var ke=function(e){j()(r,e);var t=Se(r);function r(){var e;m()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).removeMember=function(){var t=f()(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.params.orgId,t.next=3,e.api.requestPromise("/organizations/".concat(n,"/members/").concat(r,"/"),{method:"DELETE",data:{}});case 3:e.setState((function(e){return{members:e.members.filter((function(e){return e.id!==r}))}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleRemove=function(){var t=f()(l.a.mark((function t(r){var n,a,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.name,i=e.props.organization,o=i.slug,t.prev=3,t.next=6,e.removeMember(n);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),Object(L.a)(Object(F.c)("Error removing [name] from [orgName]",{name:a,orgName:o})),t.abrupt("return");case 12:Object(L.c)(Object(F.c)("Removed [name] from [orgName]",{name:a,orgName:o}));case 13:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLeave=function(){var t=f()(l.a.mark((function t(r){var n,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=e.props.organization,i=a.slug,t.prev=3,t.next=6,e.removeMember(n);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),Object(L.a)(Object(F.c)("Error leaving [orgName]",{orgName:i})),t.abrupt("return");case 12:Object(I.d)({orgId:i,removeOrg:!0}),Object(L.c)(Object(F.c)("You left [orgName]",{orgName:i}));case 14:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleSendInvite=function(){var t=f()(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.expired,e.setState((function(e){return{invited:we(we({},e.invited),{},u()({},n,"loading"))}})),t.prev=2,t.next=5,Object(C.c)(e.api,{orgId:e.props.params.orgId,memberId:n,regenerate:a});case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(2),e.setState((function(e){return{invited:we(we({},e.invited),{},u()({},n,null))}})),Object(L.a)(Object(F.b)("Error sending invite")),t.abrupt("return");case 12:e.setState((function(e){return{invited:we(we({},e.invited),{},u()({},n,"success"))}}));case 13:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return v()(r,[{key:"getDefaultState",value:function(){return we(we({},O()(S()(r.prototype),"getDefaultState",this).call(this)),{},{members:[],invited:{}})}},{key:"getEndpoints",value:function(){var e=this.props.params.orgId;return[["members","/organizations/".concat(e,"/members/"),{},{paginate:!0}],["member","/organizations/".concat(e,"/members/me/"),{},{allowError:function(e){return 404===e.status}}],["authProvider","/organizations/".concat(e,"/auth-provider/"),{},{allowError:function(e){return 403===e.status}}]]}},{key:"getTitle",value:function(){var e=this.props.organization.slug;return Object(B.a)(Object(F.b)("Members"),e,!1)}},{key:"renderBody",value:function(){var e=this,t=this.props,r=t.params,n=t.organization,a=t.routes,i=this.state,c=i.membersPageLinks,u=i.members,s=i.member,l=n.name,b=n.access,f=b.includes("member:write"),d=b.includes("member:admin"),m=T.default.get("user"),p=!u.find((function(e){var t=e.role,r=e.email,n=e.pending;return"owner"===t&&r!==m.email&&!n})),v=!!this.state.authProvider&&this.state.authProvider.require_link,g=function(e){var t=e.defaultSearchBar,r=e.value,n=e.handleChange;return Object(N.f)(ze,null,t,Object(N.f)(M.a,{closeOnEscape:!0},(function(e){var t,a=e.getActorProps,i=e.isOpen;return Object(N.f)(Re,null,Object(N.f)(P.b,o()({icon:Object(N.f)(D.rb,{size:"xs"})},a({})),Object(F.b)("Search Filters")),i&&Object(N.f)(Ne,{roles:null!==(t=null==s?void 0:s.roles)&&void 0!==t?t:A.y,query:r,onChange:function(e){return n(e)}}))})))};return Object(N.f)(R.a.Fragment,null,Object(N.f)(N.b,null,(function(t){var r=t.css;return e.renderSearchInput({updateRoute:!0,placeholder:Object(F.b)("Search Members"),children:g,className:r(ye(),U.c.fontSizeMedium)})})),Object(N.f)(q.a,{"data-test-id":"org-member-list"},Object(N.f)(q.e,null,Object(F.b)("Members")),Object(N.f)(q.c,null,u.map((function(t){return Object(N.f)(be,{routes:a,params:r,key:t.id,member:t,status:e.state.invited[t.id],orgName:l,memberCanLeave:!p,currentUser:m,canRemoveMembers:d,canAddMembers:f,requireLink:v,onSendInvite:e.handleSendInvite,onRemove:e.handleRemove,onLeave:e.handleLeave})})),0===u.length&&Object(N.f)(H.a,null,Object(F.b)("No members found.")))),Object(N.f)(E.a,{pageLinks:c}))}}]),r}(Y.a),ze=Object(k.a)("div",{target:"e1aebs7b0",label:"SearchWrapper"})("display:grid;grid-template-columns:1fr max-content;grid-gap:",Object(V.a)(1.5),";margin-bottom:",Object(V.a)(3),";position:relative;"),Re=Object(k.a)("div",{target:"e1aebs7b1",label:"FilterWrapper"})({name:"79elbk",styles:"position:relative;"}),Ne=Object(k.a)(ae,{target:"e1aebs7b2",label:"StyledMembersFilter"})("position:absolute;right:0;top:42px;z-index:",(function(e){return e.theme.zIndex.dropdown}),";&:before,&:after{position:absolute;top:-16px;right:32px;content:'';height:16px;width:16px;border:8px solid transparent;border-bottom-color:",(function(e){return e.theme.backgroundSecondary}),";}&:before{margin-top:-1px;border-bottom-color:",(function(e){return e.theme.border}),";}");t.default=Object(W.a)(ke)}}]);
//# sourceMappingURL=OrganizationMembersList.js.map