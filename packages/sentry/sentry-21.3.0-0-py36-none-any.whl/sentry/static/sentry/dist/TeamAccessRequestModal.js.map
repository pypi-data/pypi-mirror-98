{"version":3,"sources":["webpack:///./app/components/modals/teamAccessRequestModal.tsx"],"names":["CreateTeamAccessRequest","state","createBusy","handleClick","a","props","api","memberId","orgId","teamId","closeModal","setState","requestPromise","method","addSuccessMessage","t","addErrorMessage","this","Body","Footer","Fragment","tct","team","ButtonGroup","onClick","priority","busy","autoFocus","React","Component","space","withApi"],"mappings":"6sBAuBMA,E,kLACJC,MAAe,CACbC,YAAY,G,EAGdC,Y,cAAc,sCAAAC,EAAA,+DACuC,EAAKC,MAAjDC,EADK,EACLA,IAAKC,EADA,EACAA,SAAUC,EADV,EACUA,MAAOC,EADjB,EACiBA,OAAQC,EADzB,EACyBA,WAErC,EAAKC,SAAS,CAACT,YAAY,IAHf,kBAMJI,EAAIM,eAAJ,yBACcJ,EADd,oBAC+BD,EAD/B,kBACiDE,EADjD,KAEJ,CACEI,OAAQ,SATF,OAYVC,YAAkBC,YAAE,mCAZV,gDAcVC,YAAgBD,YAAE,gCAdR,QAgBZ,EAAKJ,SAAS,CAACT,YAAY,IAC3BQ,IAjBY,yD,+CAoBL,MACoCO,KAAKZ,MAAzCa,EADA,EACAA,KAAMC,EADN,EACMA,OAAQT,EADd,EACcA,WAAYD,EAD1B,EAC0BA,OAEjC,OACE,YAAC,IAAMW,SAAP,KACE,YAACF,EAAD,KACGG,YACC,sIACA,CAACC,KAAMb,KAGX,YAACU,EAAD,KACE,YAACI,EAAD,KACE,YAAC,IAAD,CAAQC,QAASd,GAAaK,YAAE,WAChC,YAAC,IAAD,CACEU,SAAS,UACTD,QAASP,KAAKd,YACduB,KAAMT,KAAKhB,MAAMC,WACjByB,WAAS,GAERZ,YAAE,oB,GA7CqBa,IAAMC,WAAtC7B,E,sCAsDN,IAAMuB,EAAc,YAAO,MAAP,0CAAH,uEAGHO,YAAM,GAHH,KAMFC,sBAAQ/B","file":"TeamAccessRequestModal.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'app/actionCreators/indicator';\nimport {ModalRenderProps, TeamAccessRequestModalOptions} from 'app/actionCreators/modal';\nimport {Client} from 'app/api';\nimport Button from 'app/components/button';\nimport {t, tct} from 'app/locale';\nimport space from 'app/styles/space';\nimport withApi from 'app/utils/withApi';\n\ntype Props = ModalRenderProps &\n  TeamAccessRequestModalOptions & {\n    api: Client;\n    memberId: string;\n    teamId: string;\n    orgId: string;\n  };\n\ntype State = {\n  createBusy: boolean;\n};\n\nclass CreateTeamAccessRequest extends React.Component<Props, State> {\n  state: State = {\n    createBusy: false,\n  };\n\n  handleClick = async () => {\n    const {api, memberId, orgId, teamId, closeModal} = this.props;\n\n    this.setState({createBusy: true});\n\n    try {\n      await api.requestPromise(\n        `/organizations/${orgId}/members/${memberId}/teams/${teamId}/`,\n        {\n          method: 'POST',\n        }\n      );\n      addSuccessMessage(t('Team request sent for approval'));\n    } catch (err) {\n      addErrorMessage(t('Unable to send team request'));\n    }\n    this.setState({createBusy: false});\n    closeModal();\n  };\n\n  render() {\n    const {Body, Footer, closeModal, teamId} = this.props;\n\n    return (\n      <React.Fragment>\n        <Body>\n          {tct(\n            'You do not have permission to add members to the #[team] team, but we will send a request to your organization admins for approval.',\n            {team: teamId}\n          )}\n        </Body>\n        <Footer>\n          <ButtonGroup>\n            <Button onClick={closeModal}>{t('Cancel')}</Button>\n            <Button\n              priority=\"primary\"\n              onClick={this.handleClick}\n              busy={this.state.createBusy}\n              autoFocus\n            >\n              {t('Continue')}\n            </Button>\n          </ButtonGroup>\n        </Footer>\n      </React.Fragment>\n    );\n  }\n}\n\nconst ButtonGroup = styled('div')`\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-gap: ${space(1)};\n`;\n\nexport default withApi(CreateTeamAccessRequest);\n"],"sourceRoot":""}