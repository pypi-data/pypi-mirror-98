(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[34],{1898:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(9),a=n.n(i),r=n(10),o=n.n(r),c=n(11),l=n.n(c),s=n(12),u=n.n(s),f=n(7),b=n.n(f),p=(n(1),n(264)),d=n.n(p),y=n(693),O=n(0);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u()(this,n)}}var m=function(e){l()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(O.f)(d.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(y.a);m.displayName="AsyncView"},1899:function(e,t,n){"use strict";var i=n(14),a=n.n(i),r=n(9),o=n.n(r),c=n(10),l=n.n(c),s=n(11),u=n.n(s),f=n(12),b=n.n(f),p=n(7),d=n.n(p),y=n(3),O=n(1),j=n.n(O),m=n(222),h=n(6),v=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return b()(this,n)}}var w=function(e){u()(n,e);var t=g(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,i=e.subtitle,r=e.action,o=e.tabs,c=e.noTitleStyles,l=e.body,s=a()(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!i;return Object(v.f)("div",s,Object(v.f)(N,{isNarrow:u},Object(v.f)(k,null,t&&Object(v.f)(P,null,t),n&&Object(v.f)(R,{tabs:o,styled:c},Object(v.f)(m.a,null,n),i&&Object(v.f)(D,null,i))),r&&Object(v.f)(A,{isNarrow:u},r)),l&&Object(v.f)(T,null,l),o&&Object(v.f)(z,null,o))}}]),n}(j.a.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var N=Object(y.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),k=Object(y.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),R=Object(y.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",Object(h.a)(4)," ",Object(h.a)(2)," ",Object(h.a)(3)," 0;"),D=Object(y.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(h.a)(1.5)," 0 0;"),P=Object(y.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(h.a)(1),";"),A=Object(y.a)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":Object(h.a)(4)}),";"),S=Object(y.a)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(h.a)(4),";"),T=Object(y.a)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",Object(h.a)(3),";"),z=Object(y.a)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});t.a=S},2146:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return a})),n.d(t,"fields",(function(){return r}));var i=n(2),a="/settings/account/notifications/",r={subscribeByDefault:{name:"subscribeByDefault",type:"boolean",label:Object(i.b)("Send Me Alerts"),help:Object(i.b)("Enable this to receive notifications for Alerts sent to your teams. You will always receive alerts configured to be sent directly to you.")},workflowNotifications:{name:"workflowNotifications",type:"radio",label:Object(i.b)("Send Me Workflow Notifications"),choices:[[0,Object(i.b)("Always")],[1,Object(i.b)("Only On Issues I Subscribe To")],[2,Object(i.b)("Never")]],help:Object(i.b)("E.g. changes in issue assignment, resolution status, and comments.")},weeklyReports:{name:"weeklyReports",type:"boolean",label:Object(i.b)("Send Me Weekly Reports"),help:Object(i.b)("Reports contain a summary of what's happened within your organization."),disabled:!0},deployNotifications:{name:"deployNotifications",type:"radio",label:Object(i.b)("Send Me Deploy Notifications"),choices:[[2,Object(i.b)("Always")],[3,Object(i.b)("Only On Deploys With My Commits")],[4,Object(i.b)("Never")]],help:Object(i.b)("Deploy emails include release, environment and commit overviews.")},personalActivityNotifications:{name:"personalActivityNotifications",type:"boolean",label:Object(i.b)("Notify Me About My Own Activity"),help:Object(i.b)("Enable this to receive notifications about your own actions on Sentry.")},selfAssignOnResolve:{name:"selfAssignOnResolve",type:"boolean",label:Object(i.b)("Claim Unassigned Issues I've Resolved"),help:Object(i.b)("You'll receive notifications about any changes that happen afterwards.")}},o=[{title:Object(i.b)("Alerts"),fields:[r.subscribeByDefault]},{title:Object(i.b)("Workflow Notifications"),fields:[r.workflowNotifications]},{title:Object(i.b)("Email Routing"),fields:[]},{title:Object(i.b)("Weekly Reports"),fields:[]},{title:Object(i.b)("Deploy Notifications"),fields:[r.deployNotifications]},{title:Object(i.b)("My Activity"),fields:[r.personalActivityNotifications,r.selfAssignOnResolve]}];t.default=o},2780:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var i=n(5),a=n.n(i),r=n(30),o=n.n(r),c=n(9),l=n.n(c),s=n(10),u=n.n(s),f=n(11),b=n.n(f),p=n(12),d=n.n(p),y=n(7),O=n.n(y),j=n(8),m=n.n(j),h=n(14),v=n.n(h),g=n(3),w=n(1),N=n.n(w),k=n(694),R=n(96),D=n(2146),P=n(2),A=n(361),S=n(1898),T=n(440),z=n(329),x=n(699),B=n(333),W=n(1899),E=n(696),M=n(0);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return d()(this,n)}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={alerts:{title:"Project Alerts",description:Object(P.b)("Control alerts that you receive per project."),type:"select",choices:[[-1,Object(P.b)("Default")],[1,Object(P.b)("On")],[0,Object(P.b)("Off")]],defaultValue:-1,defaultFieldName:"subscribeByDefault"},workflow:{title:"Workflow Notifications",description:Object(P.b)("Control workflow notifications, e.g. changes in issue assignment, resolution status, and comments."),type:"select",choices:[[-1,Object(P.b)("Default")],[0,Object(P.b)("Always")],[1,Object(P.b)("Only on issues I subscribe to")],[2,Object(P.b)("Never")]],defaultValue:-1,defaultFieldName:"workflowNotifications"},deploy:{title:Object(P.b)("Deploy Notifications"),description:Object(P.b)("Control deploy notifications that include release, environment, and commit overviews."),type:"select",choices:[[-1,Object(P.b)("Default")],[2,Object(P.b)("Always")],[3,Object(P.b)("Only on deploys with my commits")],[4,Object(P.b)("Never")]],defaultValue:-1,defaultFieldName:"deployNotifications"},reports:{title:Object(P.b)("Weekly Reports"),description:Object(P.b)("Reports contain a summary of what's happened within the organization."),type:"select",defaultValue:1,choices:[[1,Object(P.b)("On")],[0,Object(P.b)("Off")]],defaultFieldName:"weeklyReports"},email:{title:Object(P.b)("Email Routing"),description:Object(P.b)("On a per project basis, route emails to an alternative email address."),type:"select"}},q=Object(g.a)(R.c,{target:"ev1ws1e0",label:"PanelBodyLineItem"})("font-size:1.4rem;&:not(:last-child){border-bottom:1px solid ",(function(e){return e.theme.innerBorder}),";}"),L=function(e){return["alerts","workflow","email"].indexOf(e)>-1};var U=function(e){var t=e.projects,n=e.field,i=function(e){return e.reduce((function(e,t){var n=t.organization.slug;return e.hasOwnProperty(n)?e[n].projects.push(t):e[n]={organization:t.organization,projects:[t]},e}),{})}(t),a=(n.title,n.description,v()(n,["title","description"])),r=Object.values(i).map((function(e){return{name:e.organization.name,projects:e.projects.map((function(e){return F(F({},a),{},{name:e.id,label:e.slug})}))}}));return Object(M.f)(N.a.Fragment,null,r.map((function(e){var t=e.name,n=e.projects;return Object(M.f)("div",{key:t},Object(M.f)(R.e,null,t),n.map((function(e){return Object(M.f)(q,{key:e.name},Object(M.f)(B.a,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))})))};U.displayName="AccountNotificationsByProject";var H=function(e){var t=e.organizations,n=e.field,i=(n.title,n.description,v()(n,["title","description"])),a=t.map((function(e){return F(F({},i),{},{name:e.id,label:e.slug})}));return Object(M.f)(N.a.Fragment,null,a.map((function(e){return Object(M.f)(q,{key:e.name},Object(M.f)(B.a,{defaultValue:e.defaultValue,name:e.name,choices:e.choices,label:e.label}))})))};H.displayName="AccountNotificationsByOrganization";var J=Object(A.a)(H),Y=function(e){b()(n,e);var t=V(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"getEndpoints",value:function(){var e=this.props.params.fineTuneType,t=[["notifications","/users/me/notifications/"],["fineTuneData","/users/me/notifications/".concat(e,"/")]];return L(e)&&t.push(["projects","/projects/"]),t.push(["emails","/users/me/emails/"]),"email"===e&&t.push(["emails","/users/me/emails/"]),t}},{key:"renderBody",value:function(){var e=this.props.params.fineTuneType,t=this.state,n=t.notifications,i=t.projects,r=t.fineTuneData,c=t.projectsPageLinks,l=L(e),s=I[e],u=s.title,f=s.description,b=l?this.getEndpoints()[2]:[],p=o()(b,2),d=p[0],y=p[1],O=!(null==i||!i.length);return"email"===e&&(s.choices=this.emailChoices.map((function(e){var t=e.email;return[t,t]}))),n&&r?Object(M.f)("div",null,Object(M.f)(W.a,{title:u}),f&&Object(M.f)(E.a,null,f),s&&s.defaultFieldName&&"weeklyReports"!==s.defaultFieldName&&Object(M.f)(z.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/",initialData:n},Object(M.f)(x.a,{title:"Default ".concat(u),fields:[D.fields[s.defaultFieldName]]})),Object(M.f)(R.a,null,Object(M.f)(R.c,null,Object(M.f)(R.e,{hasButtons:l},Object(M.f)(K,null,l?Object(P.b)("Projects"):Object(P.b)("Organizations")),Object(M.f)("div",null,l&&this.renderSearchInput({placeholder:Object(P.b)("Search Projects"),url:y,stateKey:d}))),Object(M.f)(z.a,{saveOnBlur:!0,apiMethod:"PUT",apiEndpoint:"/users/me/notifications/".concat(e,"/"),initialData:r},l&&O&&Object(M.f)(U,{projects:i,field:s}),l&&!O&&Object(M.f)(T.a,null,Object(P.b)("No projects found")),!l&&Object(M.f)(J,{field:s})))),i&&Object(M.f)(k.a,a()({pageLinks:c},this.props))):null}},{key:"emailChoices",get:function(){var e,t,n;return null!==(e=null===(t=this.state.emails)||void 0===t||null===(n=t.filter((function(e){return e.isVerified})))||void 0===n?void 0:n.sort((function(e,t){return e.isPrimary?-1:t.isPrimary?1:e.email<t.email?-1:1})))&&void 0!==e?e:[]}}]),n}(S.a),K=Object(g.a)("div",{target:"ev1ws1e1",label:"Heading"})({name:"1rr4qq7",styles:"flex:1;"})}}]);
//# sourceMappingURL=AccountNotificationsFineTuning.js.map