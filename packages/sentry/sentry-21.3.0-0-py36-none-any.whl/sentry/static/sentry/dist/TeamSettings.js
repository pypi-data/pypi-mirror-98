(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[198],{1898:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(9),a=n.n(r),c=n(10),o=n.n(c),u=n(11),i=n.n(u),s=n(12),d=n.n(s),f=n(7),m=n.n(f),l=(n(1),n(264)),p=n.n(l),g=n(693),h=n(0);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var v=function(t){i()(n,t);var e=b(n);function n(){return a()(this,n),e.apply(this,arguments)}return o()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var t=this.getTitle();return Object(h.f)(p.a,{title:"".concat(t?"".concat(t," - "):"","Sentry")},this.renderComponent())}}]),n}(g.a);v.displayName="AsyncView"},2053:function(t,e,n){"use strict";function r(t){return"string"==typeof t?t.toLowerCase().replace(" ","-"):""}n.d(e,"a",(function(){return r}))},2060:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return g}));var r=n(33),a=n(165),c=n(2),o=n(63),u=n(161),i=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];o.a.apply(void 0,[t[e]].concat(r))};function s(t,e,n){return a.a.fetchDetails(e.teamId),t.request("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{success:function(t){a.a.fetchDetailsSuccess(e.teamId,t),i(n,"success",t)},error:function(t){a.a.fetchDetailsError(e.teamId,t),i(n,"error",t)}})}function d(t,e){a.a.updateSuccess(t,e)}function f(t,e,n){var r="/teams/".concat(e.orgId,"/").concat(e.teamId,"/");return a.a.update(e.teamId,e.data),t.request(r,{method:"PUT",data:e.data,success:function(t){d(e.teamId,t),i(n,"success",t)},error:function(t){a.a.updateError(e.teamId,t),i(n,"error",t)}})}function m(t,e,n){var r,c="/organizations/".concat(e.orgId,"/members/").concat(null!==(r=e.memberId)&&void 0!==r?r:"me","/teams/").concat(e.teamId,"/"),o=Object(u.a)();return a.a.update(o,e.teamId),t.request(c,{method:"POST",success:function(t){a.a.updateSuccess(e.teamId,t),i(n,"success",t)},error:function(t){a.a.updateError(o,e.teamId,t),i(n,"error",t)}})}function l(t,e,n){var r="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),c=Object(u.a)();return a.a.update(c,e.teamId),t.request(r,{method:"DELETE",success:function(t){a.a.updateSuccess(e.teamId,t),i(n,"success",t)},error:function(t){a.a.updateError(c,e.teamId,t),i(n,"error",t)}})}function p(t,e,n){return a.a.createTeam(e),t.requestPromise("/organizations/".concat(n.orgId,"/teams/"),{method:"POST",data:e}).then((function(t){return a.a.createTeamSuccess(t),Object(r.c)(Object(c.c)("[team] has been added to the [organization] organization",{team:"#".concat(t.slug),organization:n.orgId})),t}),(function(t){throw a.a.createTeamError(e.slug,t),Object(r.a)(Object(c.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(e.slug),organization:n.orgId})),t}))}function g(t,e){return a.a.removeTeam(e.teamId),t.requestPromise("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{method:"DELETE"}).then((function(t){return a.a.removeTeamSuccess(e.teamId,t),Object(r.c)(Object(c.c)("[team] has been removed from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}),(function(t){throw a.a.removeTeamError(e.teamId,t),Object(r.a)(Object(c.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}))}},2244:function(t,e,n){"use strict";n.r(e),n.d(e,"route",(function(){return c}));var r=n(2),a=n(2053),c="/settings/:orgId/teams/:teamId/settings/",o=[{title:"Team Settings",fields:[{name:"slug",type:"string",required:!0,label:Object(r.b)("Name"),placeholder:"e.g. api-team",help:Object(r.b)("A unique ID used to identify the team"),disabled:function(t){return!t.access.has("team:write")},transformInput:a.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(r.b)("You will be redirected to the new team slug after saving")}]}];e.default=o},2925:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return L}));var r=n(20),a=n.n(r),c=n(29),o=n.n(c),u=n(9),i=n.n(u),s=n(10),d=n.n(s),f=n(11),m=n.n(f),l=n(12),p=n.n(l),g=n(7),h=n.n(g),b=n(1),v=n.n(b),I=n(4),y=n.n(I),O=n(33),j=n(2060),T=n(27),S=n(137),w=n(96),R=n(2244),z=n(15),E=n(2),D=n(176),P=n(1898),q=n(698),k=n(329),x=n(699);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var U=function(t){m()(n,t);var e=A(n);function n(t,r){var a;return i()(this,n),(a=e.call(this)).orgId=void 0,a.teamId=void 0,a.orgId=t,a.teamId=r,a}return d()(n,[{key:"doApiRequest",value:function(t){var e=this,n=t.data;return new Promise((function(t,r){return Object(j.f)(e.api,{orgId:e.orgId,teamId:e.teamId,data:n},{success:t,error:r})}))}}]),n}(n(269).b),B=n(0);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(t){m()(n,t);var e=C(n);function n(){var t;i()(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(t=e.call.apply(e,[this].concat(c))).model=new U(t.props.params.orgId,t.props.params.teamId),t.handleSubmitSuccess=function(e,n,r){Object(j.g)(e.slug,e),"slug"===r&&(Object(O.c)(Object(E.b)("Team name changed")),t.props.router.replace("/settings/".concat(t.props.params.orgId,"/teams/").concat(n.getValue(r),"/settings/")),t.setState({loading:!0}))},t.handleRemoveTeam=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.e)(t.api,t.props.params);case 2:t.props.router.replace("/settings/".concat(t.props.params.orgId,"/teams/"));case 3:case"end":return e.stop()}}),e)}))),t}return d()(n,[{key:"getTitle",value:function(){return"Team Settings"}},{key:"getEndpoints",value:function(){return[]}},{key:"renderBody",value:function(){var t=this.context,e=t.location,n=t.organization,r=this.props.team,a=new Set(n.access);return Object(B.f)(v.a.Fragment,null,Object(B.f)(k.a,{model:this.model,apiMethod:"PUT",saveOnBlur:!0,allowUndo:!0,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:function(){return Object(O.a)(Object(E.b)("Unable to save change"))},initialData:{name:r.name,slug:r.slug}},Object(B.f)(x.a,{access:a,location:e,forms:R.default})),Object(B.f)(w.a,null,Object(B.f)(w.e,null,Object(E.b)("Remove Team")),Object(B.f)(q.a,{help:Object(E.b)("This may affect team members' access to projects and associated alert delivery.")},Object(B.f)("div",null,Object(B.f)(S.a,{disabled:!a.has("team:admin"),onConfirm:this.handleRemoveTeam,priority:"danger",message:Object(E.c)("Are you sure you want to remove the team [team]?",{team:"#".concat(r.slug)})},Object(B.f)(T.b,{icon:Object(B.f)(z.r,null),priority:"danger",disabled:!a.has("team:admin")},Object(E.b)("Remove Team")))))))}}]),n}(P.a);L.contextTypes={router:y.a.object,location:y.a.object,organization:D.a.Organization}}}]);
//# sourceMappingURL=TeamSettings.js.map