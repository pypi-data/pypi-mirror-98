(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[195],{1912:function(t,e,a){"use strict";a(1);var n=a(264),r=a.n(n),c=a(0);function o(t){var e=t.title,a=t.orgSlug,n=t.projectSlug,o=t.children;var s=a||n?a&&n?"".concat(e," - ").concat(a," - ").concat(n):a?"".concat(e," - ").concat(a):"".concat(e," - ").concat(n):e;return Object(c.f)(r.a,{title:"".concat(s," - Sentry")},o)}o.displayName="SentryDocumentTitle",e.a=o},1925:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a(706),r=a.n(n),c=a(572);function o(t,e){var a,n,o,s,i=e.routes,u=e.params,d=e.location,m=e.stepBack,l=i.map((function(t){return t.path||""}));"string"!=typeof t?(s=i.indexOf(t)+1,o=r()(l.slice(0,s),(function(t){return"/"===t[0]}))):o=r()(l,(function(t){return"/"===t[0]}));var f=l.slice(o,s);void 0!==m&&(f=f.slice(0,m));var p=null!==(a=null==d?void 0:d.search)&&void 0!==a?a:"",g=null!==(n=null==d?void 0:d.hash)&&void 0!==n?n:"",b="".concat(f.join("")).concat("string"!=typeof t?"":t).concat(p).concat(g);return Object(c.a)(b,u)}},2049:function(t,e,a){"use strict";var n=a(5),r=a.n(n),c=(a(1),a(39)),o=a.n(c),s=a(25),i=a.n(s),u=a(227),d=a(97),m=a(0);e.a=function(t){return o()({displayName:"withTeams(".concat(Object(d.a)(t),")"),mixins:[i.a.listenTo(u.a,"onTeamUpdate")],getInitialState:function(){return{teams:u.a.getAll()}},onTeamUpdate:function(){this.setState({teams:u.a.getAll()})},render:function(){return Object(m.f)(t,r()({},this.props,{teams:this.state.teams}))}})}},2060:function(t,e,a){"use strict";a.d(e,"b",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return m})),a.d(e,"c",(function(){return l})),a.d(e,"d",(function(){return f})),a.d(e,"a",(function(){return p})),a.d(e,"e",(function(){return g}));var n=a(33),r=a(165),c=a(2),o=a(63),s=a(161),i=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];o.a.apply(void 0,[t[e]].concat(n))};function u(t,e,a){return r.a.fetchDetails(e.teamId),t.request("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{success:function(t){r.a.fetchDetailsSuccess(e.teamId,t),i(a,"success",t)},error:function(t){r.a.fetchDetailsError(e.teamId,t),i(a,"error",t)}})}function d(t,e){r.a.updateSuccess(t,e)}function m(t,e,a){var n="/teams/".concat(e.orgId,"/").concat(e.teamId,"/");return r.a.update(e.teamId,e.data),t.request(n,{method:"PUT",data:e.data,success:function(t){d(e.teamId,t),i(a,"success",t)},error:function(t){r.a.updateError(e.teamId,t),i(a,"error",t)}})}function l(t,e,a){var n,c="/organizations/".concat(e.orgId,"/members/").concat(null!==(n=e.memberId)&&void 0!==n?n:"me","/teams/").concat(e.teamId,"/"),o=Object(s.a)();return r.a.update(o,e.teamId),t.request(c,{method:"POST",success:function(t){r.a.updateSuccess(e.teamId,t),i(a,"success",t)},error:function(t){r.a.updateError(o,e.teamId,t),i(a,"error",t)}})}function f(t,e,a){var n="/organizations/".concat(e.orgId,"/members/").concat(e.memberId||"me","/teams/").concat(e.teamId,"/"),c=Object(s.a)();return r.a.update(c,e.teamId),t.request(n,{method:"DELETE",success:function(t){r.a.updateSuccess(e.teamId,t),i(a,"success",t)},error:function(t){r.a.updateError(c,e.teamId,t),i(a,"error",t)}})}function p(t,e,a){return r.a.createTeam(e),t.requestPromise("/organizations/".concat(a.orgId,"/teams/"),{method:"POST",data:e}).then((function(t){return r.a.createTeamSuccess(t),Object(n.c)(Object(c.c)("[team] has been added to the [organization] organization",{team:"#".concat(t.slug),organization:a.orgId})),t}),(function(t){throw r.a.createTeamError(e.slug,t),Object(n.a)(Object(c.c)("Unable to create [team] in the [organization] organization",{team:"#".concat(e.slug),organization:a.orgId})),t}))}function g(t,e){return r.a.removeTeam(e.teamId),t.requestPromise("/teams/".concat(e.orgId,"/").concat(e.teamId,"/"),{method:"DELETE"}).then((function(t){return r.a.removeTeamSuccess(e.teamId,t),Object(n.c)(Object(c.c)("[team] has been removed from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}),(function(t){throw r.a.removeTeamError(e.teamId,t),Object(n.a)(Object(c.c)("Unable to remove [team] from the [organization] organization",{team:"#".concat(e.teamId),organization:e.orgId})),t}))}},2815:function(t,e,a){"use strict";a.r(e);var n=a(8),r=a.n(n),c=a(9),o=a.n(c),s=a(10),i=a.n(s),u=a(11),d=a.n(u),m=a(12),l=a.n(m),f=a(7),p=a.n(f),g=a(3),b=a(1),h=a.n(b),v=a(22),O=a(59),j=a.n(O),I=a(33),y=a(2060),S=a(70),T=a(27),z=a(189),q=a(246),w=a(131),D=a(44),P=a(447),E=a(1912),A=a(2),R=a(227),k=a(1925),U=a(47),C=a(2049),x=a(0);function B(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?B(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=p()(t);if(e){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return l()(this,a)}}var Y=function(t){d()(a,t);var e=W(a);function a(){var t;o()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state=t.getInitialState(),t.handleRequestAccess=function(){var e=t.props,a=e.api,n=e.params,r=t.state.team;r&&(t.setState({requesting:!0}),Object(y.c)(a,{orgId:n.orgId,teamId:r.slug},{success:function(){Object(I.c)(Object(A.c)("You have requested access to [team]",{team:"#".concat(r.slug)})),t.setState({requesting:!1})},error:function(){Object(I.a)(Object(A.c)("Unable to request access to [team]",{team:"#".concat(r.slug)})),t.setState({requesting:!1})}}))},t.fetchData=function(){t.setState({loading:!0,error:!1}),Object(y.b)(t.props.api,t.props.params)},t.onTeamChange=function(e){var a=t.state.team;if(e.slug!==(null==a?void 0:a.slug)){var n=t.props.params.orgId;v.browserHistory.replace("/organizations/".concat(n,"/teams/").concat(e.slug,"/settings/"))}else t.setState({team:N(N({},a),e)})},t}return i()(a,[{key:"getInitialState",value:function(){var t=R.a.getBySlug(this.props.params.teamId);return{loading:!R.a.initialized,error:!1,requesting:!1,team:t}}},{key:"componentDidUpdate",value:function(t){var e=this.props.params;t.params.teamId===e.teamId&&t.params.orgId===e.orgId||this.fetchData(),j()(this.props.teams,t.teams)||this.setActiveTeam()}},{key:"setActiveTeam",value:function(){var t,e,a=this.props.params.teamId,n=null!==(t=null===(e=this.props.teams)||void 0===e?void 0:e.find((function(t){return t.id===a})))&&void 0!==t?t:null,r=!R.a.initialized,c=!r&&!n;this.setState({team:n,loading:r,error:c})}},{key:"render",value:function(){var t=this.props,e=t.params,a=t.routes,n=t.children,r=this.state,c=r.team,o=r.loading,s=r.requesting,i=r.error;if(o)return Object(x.f)(D.default,null);if(!c||!c.hasAccess)return Object(x.f)(S.b,{type:"warning"},c?Object(x.f)(J,null,Object(A.c)("You do not have access to the [teamSlug] team.",{teamSlug:Object(x.f)("strong",null,"#".concat(c.slug))}),Object(x.f)(T.b,{disabled:s||c.isPending,size:"small",onClick:this.handleRequestAccess},c.isPending?Object(A.b)("Request Pending"):Object(A.b)("Request Access"))):Object(x.f)("div",null,Object(A.b)("You do not have access to this team.")));if(i)return Object(x.f)(w.a,{onRetry:this.fetchData});var u=Object(k.a)("",{routes:a,params:e,stepBack:-1});return Object(x.f)("div",null,Object(x.f)(E.a,{title:Object(A.b)("Team Details"),orgSlug:e.orgId}),Object(x.f)("h3",null,Object(x.f)(z.a,{hideAvatar:!0,team:c,avatarSize:36})),Object(x.f)(P.a,{underlined:!0},Object(x.f)(q.a,{to:"".concat(u,"members/")},Object(A.b)("Members")),Object(x.f)(q.a,{to:"".concat(u,"projects/")},Object(A.b)("Projects")),Object(x.f)(q.a,{to:"".concat(u,"settings/")},Object(A.b)("Settings"))),h.a.isValidElement(n)&&h.a.cloneElement(n,{team:c,onTeamChange:this.onTeamChange}))}}]),a}(h.a.Component);Y.displayName="TeamDetails",e.default=Object(U.a)(Object(C.a)(Y));var J=Object(g.a)("div",{target:"e18l81d50",label:"RequestAccessWrapper"})({name:"69i1ev",styles:"display:flex;justify-content:space-between;align-items:center;"})}}]);
//# sourceMappingURL=TeamDetails.js.map