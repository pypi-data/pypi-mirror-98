{"version":3,"sources":["webpack:///./app/views/asyncView.tsx","webpack:///./app/views/organizationCreate.tsx"],"names":["AsyncView","title","this","getTitle","renderComponent","AsyncComponent","OrganizationCreate","onSubmitSuccess","data","window","location","href","slug","t","termsUrl","ConfigStore","get","privacyUrl","showLogout","initialData","defaultTeam","submitLabel","apiEndpoint","apiMethod","requireChanges","name","label","placeholder","required","tct","termsLink","privacyLink"],"mappings":"2qBAQqBA,E,uIAKjB,MAAO,K,+BAIP,IAAMC,EAAQC,KAAKC,WACnB,OACE,YAAC,IAAD,CAAeF,MAAK,UAAKA,EAAQ,GAAH,OAAMA,EAAN,OAAmB,GAA7B,WACjBC,KAAKE,uB,GATJC,KAHWL,E,qqBCAAM,E,kLACnBC,gBAAkB,SAAAC,GAGhBC,OAAOC,SAASC,KAAhB,yBAAyCH,EAAKI,KAA9C,mB,qDAIA,MAAO,K,iCAIP,OAAOC,YAAE,yB,mCAIT,IAAMC,EAAWC,UAAYC,IAAI,YAC3BC,EAAaF,UAAYC,IAAI,cAEnC,OACE,YAAC,IAAD,CAAcE,YAAU,GACtB,sBAAKL,YAAE,8BAEP,qBACGA,YACC,2LAIJ,YAAC,UAAD,CACEM,YAAa,CAACC,aAAa,GAC3BC,YAAaR,YAAE,uBACfS,YAAY,kBACZC,UAAU,OACVhB,gBAAiBL,KAAKK,gBACtBiB,gBAAc,GAEd,YAAC,YAAD,CACEC,KAAK,OACLC,MAAOb,YAAE,qBACTc,YAAad,YAAE,mBACfe,UAAQ,IAGTd,GAAYG,GACX,YAAC,eAAD,CACEQ,KAAK,aACLC,MAAOG,YACL,mFACA,CACEC,UAAW,iBAAGnB,KAAMG,IACpBiB,YAAa,iBAAGpB,KAAMM,MAG1BW,UAAQ,U,GAtD0B5B","file":"OrganizationCreate.js","sourcesContent":["import React from 'react';\nimport DocumentTitle from 'react-document-title';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent()}\n      </DocumentTitle>\n    );\n  }\n}\n","import React from 'react';\n\nimport {ApiForm, BooleanField, TextField} from 'app/components/forms';\nimport NarrowLayout from 'app/components/narrowLayout';\nimport {t, tct} from 'app/locale';\nimport ConfigStore from 'app/stores/configStore';\nimport AsyncView from 'app/views/asyncView';\n\nexport default class OrganizationCreate extends AsyncView {\n  onSubmitSuccess = data => {\n    // redirect to project creation *(BYPASS REACT ROUTER AND FORCE PAGE REFRESH TO GRAB CSRF TOKEN)*\n    // browserHistory.pushState(null, `/organizations/${data.slug}/projects/new/`);\n    window.location.href = `/organizations/${data.slug}/projects/new/`;\n  };\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    return [];\n  }\n\n  getTitle() {\n    return t('Create Organization');\n  }\n\n  renderBody() {\n    const termsUrl = ConfigStore.get('termsUrl');\n    const privacyUrl = ConfigStore.get('privacyUrl');\n\n    return (\n      <NarrowLayout showLogout>\n        <h3>{t('Create a New Organization')}</h3>\n\n        <p>\n          {t(\n            \"Organizations represent the top level in your hierarchy. You'll be able to bundle a collection of teams within an organization as well as give organization-wide permissions to users.\"\n          )}\n        </p>\n\n        <ApiForm\n          initialData={{defaultTeam: true}}\n          submitLabel={t('Create Organization')}\n          apiEndpoint=\"/organizations/\"\n          apiMethod=\"POST\"\n          onSubmitSuccess={this.onSubmitSuccess}\n          requireChanges\n        >\n          <TextField\n            name=\"name\"\n            label={t('Organization Name')}\n            placeholder={t('e.g. My Company')}\n            required\n          />\n\n          {termsUrl && privacyUrl && (\n            <BooleanField\n              name=\"agreeTerms\"\n              label={tct(\n                'I agree to the [termsLink:Terms of Service] and the [privacyLink:Privacy Policy]',\n                {\n                  termsLink: <a href={termsUrl} />,\n                  privacyLink: <a href={privacyUrl} />,\n                }\n              )}\n              required\n            />\n          )}\n        </ApiForm>\n      </NarrowLayout>\n    );\n  }\n}\n"],"sourceRoot":""}