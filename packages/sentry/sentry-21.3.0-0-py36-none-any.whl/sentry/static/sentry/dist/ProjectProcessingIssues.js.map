{"version":3,"sources":["webpack:///./app/views/settings/components/settingsPageHeader.tsx","webpack:///./app/components/sentryDocumentTitle.tsx","webpack:///./app/components/alertLink.tsx","webpack:///./app/data/forms/processingIssues.tsx","webpack:///./app/views/settings/project/projectProcessingIssues.tsx"],"names":["UnstyledSettingsPageHeader","this","props","icon","title","subtitle","action","tabs","noTitleStyles","body","isNarrow","TitleAndActions","TitleWrapper","Icon","Title","styled","Subtitle","Action","BodyWrapper","TabsWrapper","React","Component","defaultProps","p","space","theme","gray400","fontSizeLarge","SettingsPageHeader","SentryDocumentTitle","orgSlug","projectSlug","children","docTitle","AlertLink","size","priority","onClick","withoutMarginBottom","openInNewTab","to","href","dataTestId","StyledLink","data-test-id","IconWrapper","AlertLinkText","IconLink","direction","linkProps","omit","alert","backgroundLight","textColor","border","route","formGroups","fields","name","type","label","t","disabled","access","has","disabledReason","help","saveOnBlur","saveMessage","value","getData","form","options","projectProcessingIssuesMessages","native_no_crashed_thread","native_internal_failure","native_bad_dsym","native_missing_optionally_bundled_dsym","native_missing_dsym","native_missing_system_dsym","native_missing_symbol","native_simulator_frame","native_unknown_image","proguard_missing_mapping","proguard_missing_lineno","HELP_LINKS","ProjectProcessingIssues","state","formData","loading","reprocessing","expected","error","processingIssues","pageLinks","fetchData","params","orgId","projectId","setState","api","request","success","data","_","jqXHR","getResponseHeader","sendReprocessing","e","preventDefault","addLoadingMessage","method","complete","clearIndicators","discardEvents","window","location","reload","deleteProcessingIssues","renderLoading","onRetry","hasIssues","resolveableIssues","issuesProcessing","renderResults","renderEmpty","item","path","pathSegments","split","test","length","description","getProblemDescription","helpLink","dsymUUID","dsymName","dsymArch","_scope","image_uuid","className","image_path","getImageName","image_arch","issues","fixButton","tn","fixLink","signedLink","fixLinkBlock","withPadding","AutoSelectTextInput","readOnly","processingRow","StyledPanelAlert","Fragment","hasAccess","headers","map","idx","key","renderProblem","renderDetails","numEvents","date","lastSeen","Set","organization","onSubmitSuccess","apiEndpoint","apiMethod","initialData","forms","renderHeader","noMargin","renderDebugTable","renderResolveButton","renderReprocessingSettings","PanelAlert","AutoSelectText","text","familyMono","inputStyles","withApi","withOrganization"],"mappings":"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","file":"ProjectProcessingIssues.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {HeaderTitle} from 'app/styles/organization';\nimport space from 'app/styles/space';\n\ntype Props = {\n  // Icon left of title\n  icon?: React.ReactNode;\n\n  // The title\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n\n  // Disables font styles in the title. Allows for more custom titles.\n  noTitleStyles?: boolean;\n  className?: string;\n\n  // CTA button\n  action?: React.ReactNode;\n\n  body?: React.ReactNode;\n\n  tabs?: React.ReactNode;\n};\n\nclass UnstyledSettingsPageHeader extends React.Component<Props> {\n  static defaultProps = {\n    noTitleStyles: false,\n  };\n\n  render() {\n    const {\n      icon,\n      title,\n      subtitle,\n      action,\n      tabs,\n      noTitleStyles,\n      body,\n      ...props\n    } = this.props;\n\n    // If Header is narrow, use align-items to center <Action>.\n    // Otherwise, use a fixed margin to prevent an odd alignment.\n    // This is needed as Actions could be a button or a dropdown.\n    const isNarrow = !subtitle;\n\n    return (\n      <div {...props}>\n        <TitleAndActions isNarrow={isNarrow}>\n          <TitleWrapper>\n            {icon && <Icon>{icon}</Icon>}\n            {title && (\n              <Title tabs={tabs} styled={noTitleStyles}>\n                <HeaderTitle>{title}</HeaderTitle>\n                {subtitle && <Subtitle>{subtitle}</Subtitle>}\n              </Title>\n            )}\n          </TitleWrapper>\n          {action && <Action isNarrow={isNarrow}>{action}</Action>}\n        </TitleAndActions>\n\n        {body && <BodyWrapper>{body}</BodyWrapper>}\n        {tabs && <TabsWrapper>{tabs}</TabsWrapper>}\n      </div>\n    );\n  }\n}\n\ntype TitleProps = {\n  styled?: boolean;\n  tabs?: React.ReactNode;\n};\n\nconst TitleAndActions = styled('div')<{isNarrow?: boolean}>`\n  display: flex;\n  align-items: ${p => (p.isNarrow ? 'center' : 'flex-start')};\n`;\nconst TitleWrapper = styled('div')`\n  flex: 1;\n`;\n\nconst Title = styled('div')<TitleProps & React.HTMLProps<HTMLDivElement>>`\n  ${p => !p.styled && `font-size: 20px; font-weight: 600;`};\n  margin: ${space(4)} ${space(2)} ${space(3)} 0;\n`;\nconst Subtitle = styled('div')`\n  color: ${p => p.theme.gray400};\n  font-weight: 400;\n  font-size: ${p => p.theme.fontSizeLarge};\n  padding: ${space(1.5)} 0 0;\n`;\n\nconst Icon = styled('div')`\n  margin-right: ${space(1)};\n`;\n\nconst Action = styled('div')<{isNarrow?: boolean}>`\n  margin-top: ${p => (p.isNarrow ? '0' : space(4))};\n`;\n\nconst SettingsPageHeader = styled(UnstyledSettingsPageHeader)<\n  Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props\n>`\n  font-size: 14px;\n  margin-top: -${space(4)};\n`;\n\nconst BodyWrapper = styled('div')`\n  flex: 1;\n  margin: 0 0 ${space(3)};\n`;\nconst TabsWrapper = styled('div')`\n  flex: 1;\n  margin: 0; /* sentry/components/navTabs has added margin */\n`;\n\nexport default SettingsPageHeader;\n","import React from 'react';\nimport DocumentTitle from 'react-document-title';\n\ntype Props = {\n  // Main page title\n  title: string;\n  orgSlug?: string;\n  projectSlug?: string;\n  children?: React.ReactNode;\n};\n\nfunction SentryDocumentTitle({title, orgSlug, projectSlug, children}: Props) {\n  function getDocTitle() {\n    if (!orgSlug && !projectSlug) {\n      return title;\n    }\n\n    if (orgSlug && projectSlug) {\n      return `${title} - ${orgSlug} - ${projectSlug}`;\n    }\n\n    if (orgSlug) {\n      return `${title} - ${orgSlug}`;\n    }\n\n    return `${title} - ${projectSlug}`;\n  }\n\n  const docTitle = getDocTitle();\n\n  return <DocumentTitle title={`${docTitle} - Sentry`}>{children}</DocumentTitle>;\n}\n\nexport default SentryDocumentTitle;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport omit from 'lodash/omit';\n\nimport ExternalLink from 'app/components/links/externalLink';\nimport Link from 'app/components/links/link';\nimport {IconChevron} from 'app/icons';\nimport space from 'app/styles/space';\n\ntype Size = 'small' | 'normal';\ntype Priority = 'info' | 'warning' | 'success' | 'error' | 'muted';\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\n\ntype OtherProps = {\n  ['data-test-id']?: string;\n  icon?: string | React.ReactNode;\n  onClick?: (e: React.MouseEvent) => void;\n};\n\ntype DefaultProps = {\n  size: Size;\n  priority: Priority;\n  withoutMarginBottom: boolean;\n  openInNewTab: boolean;\n  href?: string;\n};\n\ntype Props = OtherProps & DefaultProps & Partial<Pick<LinkProps, 'to'>>;\n\ntype StyledLinkProps = DefaultProps &\n  Partial<Pick<LinkProps, 'to'>> &\n  Omit<LinkProps, 'to' | 'size'>;\n\nclass AlertLink extends React.Component<Props> {\n  static defaultProps: DefaultProps = {\n    priority: 'warning',\n    size: 'normal',\n    withoutMarginBottom: false,\n    openInNewTab: false,\n  };\n\n  render() {\n    const {\n      size,\n      priority,\n      icon,\n      children,\n      onClick,\n      withoutMarginBottom,\n      openInNewTab,\n      to,\n      href,\n      ['data-test-id']: dataTestId,\n    } = this.props;\n\n    return (\n      <StyledLink\n        data-test-id={dataTestId}\n        to={to}\n        href={href}\n        onClick={onClick}\n        size={size}\n        priority={priority}\n        withoutMarginBottom={withoutMarginBottom}\n        openInNewTab={openInNewTab}\n      >\n        {icon && <IconWrapper>{icon}</IconWrapper>}\n        <AlertLinkText>{children}</AlertLinkText>\n        <IconLink>\n          <IconChevron direction=\"right\" />\n        </IconLink>\n      </StyledLink>\n    );\n  }\n}\n\nexport default AlertLink;\n\nconst StyledLink = styled(({openInNewTab, to, href, ...props}: StyledLinkProps) => {\n  const linkProps = omit(props, ['withoutMarginBottom', 'priority', 'size']);\n  if (href) {\n    return <ExternalLink {...linkProps} href={href} openInNewTab={openInNewTab} />;\n  }\n\n  return <Link {...linkProps} to={to || ''} />;\n})`\n  display: flex;\n  background-color: ${p => p.theme.alert[p.priority].backgroundLight};\n  color: ${p => p.theme.textColor};\n  border: 1px dashed ${p => p.theme.alert[p.priority].border};\n  padding: ${p => (p.size === 'small' ? `${space(1)} ${space(1.5)}` : space(2))};\n  margin-bottom: ${p => (p.withoutMarginBottom ? 0 : space(3))};\n  border-radius: 0.25em;\n  transition: 0.2s border-color;\n\n  &.focus-visible {\n    outline: none;\n    box-shadow: ${p => p.theme.alert[p.priority].border}7f 0 0 0 2px;\n  }\n`;\n\nconst IconWrapper = styled('span')`\n  display: flex;\n  margin: ${space(0.5)} ${space(1.5)} ${space(0.5)} 0;\n`;\n\nconst IconLink = styled(IconWrapper)`\n  margin: ${space(0.5)} 0;\n`;\n\nconst AlertLinkText = styled('div')`\n  line-height: 1.5;\n  flex-grow: 1;\n`;\n","// Export route to make these forms searchable by label/help\nimport {t} from 'app/locale';\nimport {JsonFormObject} from 'app/views/settings/components/forms/type';\n\nexport const route = '/settings/:orgId/projects/:projectId/processing-issues/';\n\nconst formGroups: JsonFormObject[] = [\n  {\n    // Form \"section\"/\"panel\"\n    title: 'Settings',\n    fields: [\n      {\n        name: 'sentry:reprocessing_active',\n        type: 'boolean',\n        label: t('Reprocessing active'),\n        disabled: ({access}) => !access.has('project:write'),\n        disabledReason: t('Only admins may change reprocessing settings'),\n        help: t(`If reprocessing is enabled, Events with fixable issues will be\n                held back until you resolve them. Processing issues will then\n                show up in the list above with hints how to fix them.\n                If reprocessing is disabled, Events with unresolved issues will\n                also show up in the stream.\n                `),\n        saveOnBlur: false,\n        saveMessage: ({value}) =>\n          value\n            ? t('Reprocessing applies to future events only.')\n            : t(`All events with errors will be flushed into your issues stream.\n                Beware that this process may take some time and cannot be undone.`),\n        getData: form => ({options: form}),\n      },\n    ],\n  },\n];\n\nexport default formGroups;\n","import React from 'react';\nimport {WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {addLoadingMessage, clearIndicators} from 'app/actionCreators/indicator';\nimport {Client} from 'app/api';\nimport Access from 'app/components/acl/access';\nimport AlertLink from 'app/components/alertLink';\nimport AutoSelectText from 'app/components/autoSelectText';\nimport Button from 'app/components/button';\nimport EmptyStateWarning from 'app/components/emptyStateWarning';\nimport ExternalLink from 'app/components/links/externalLink';\nimport LoadingError from 'app/components/loadingError';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport {\n  Panel,\n  PanelAlert,\n  PanelBody,\n  PanelHeader,\n  PanelTable,\n} from 'app/components/panels';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport TimeSince from 'app/components/timeSince';\nimport formGroups from 'app/data/forms/processingIssues';\nimport {IconQuestion, IconSettings} from 'app/icons';\nimport {t, tn} from 'app/locale';\nimport {inputStyles} from 'app/styles/input';\nimport {Organization, ProcessingIssue, ProcessingIssueItem} from 'app/types';\nimport withApi from 'app/utils/withApi';\nimport withOrganization from 'app/utils/withOrganization';\nimport Form from 'app/views/settings/components/forms/form';\nimport JsonForm from 'app/views/settings/components/forms/jsonForm';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\n\nexport const projectProcessingIssuesMessages = {\n  native_no_crashed_thread: t('No crashed thread found in crash report'),\n  native_internal_failure: t('Internal failure when attempting to symbolicate: {error}'),\n  native_bad_dsym: t('The debug information file used was broken.'),\n  native_missing_optionally_bundled_dsym: t(\n    'An optional debug information file was missing.'\n  ),\n  native_missing_dsym: t('A required debug information file was missing.'),\n  native_missing_system_dsym: t('A system debug information file was missing.'),\n  native_missing_symbol: t(\n    'Could not resolve one or more frames in debug information file.'\n  ),\n  native_simulator_frame: t('Encountered an unprocessable simulator frame.'),\n  native_unknown_image: t('A binary image is referenced that is unknown.'),\n  proguard_missing_mapping: t('A proguard mapping file was missing.'),\n  proguard_missing_lineno: t('A proguard mapping file does not contain line info.'),\n};\n\nconst HELP_LINKS = {\n  native_missing_dsym: 'https://docs.sentry.io/platforms/apple/dsym/',\n  native_bad_dsym: 'https://docs.sentry.io/platforms/apple/dsym/',\n  native_missing_system_dsym: 'https://develop.sentry.dev/self-hosted/',\n  native_missing_symbol: 'https://develop.sentry.dev/self-hosted/',\n};\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n} & WithRouterProps<{orgId: string; projectId: string}, {}>;\n\ntype State = {\n  formData: object;\n  loading: boolean;\n  reprocessing: boolean;\n  expected: number;\n  error: boolean;\n  processingIssues: null | ProcessingIssue;\n  pageLinks: null | string;\n};\n\nclass ProjectProcessingIssues extends React.Component<Props, State> {\n  state: State = {\n    formData: {},\n    loading: true,\n    reprocessing: false,\n    expected: 0,\n    error: false,\n    processingIssues: null,\n    pageLinks: null,\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    const {orgId, projectId} = this.props.params;\n    this.setState({\n      expected: this.state.expected + 2,\n    });\n    this.props.api.request(`/projects/${orgId}/${projectId}/`, {\n      success: data => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          loading: expected > 0,\n          formData: data.options,\n        });\n      },\n      error: () => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          error: true,\n          loading: expected > 0,\n        });\n      },\n    });\n\n    this.props.api.request(\n      `/projects/${orgId}/${projectId}/processingissues/?detailed=1`,\n      {\n        success: (data, _, jqXHR) => {\n          const expected = this.state.expected - 1;\n          this.setState({\n            expected,\n            error: false,\n            loading: expected > 0,\n            processingIssues: data,\n            pageLinks: jqXHR?.getResponseHeader('Link') ?? null,\n          });\n        },\n        error: () => {\n          const expected = this.state.expected - 1;\n          this.setState({\n            expected,\n            error: true,\n            loading: expected > 0,\n          });\n        },\n      }\n    );\n  };\n\n  sendReprocessing = (e: React.MouseEvent<Element>) => {\n    e.preventDefault();\n\n    this.setState({\n      loading: true,\n      reprocessing: true,\n    });\n\n    addLoadingMessage(t('Started reprocessing\\u2026'));\n\n    const {orgId, projectId} = this.props.params;\n    this.props.api.request(`/projects/${orgId}/${projectId}/reprocessing/`, {\n      method: 'POST',\n      success: () => {\n        this.fetchData();\n        this.setState({\n          reprocessing: false,\n        });\n      },\n      error: () => {\n        this.setState({\n          reprocessing: false,\n        });\n      },\n      complete: () => {\n        clearIndicators();\n      },\n    });\n  };\n\n  discardEvents = () => {\n    const {orgId, projectId} = this.props.params;\n    this.setState({\n      expected: this.state.expected + 1,\n    });\n    this.props.api.request(`/projects/${orgId}/${projectId}/processingissues/discard/`, {\n      method: 'DELETE',\n      success: () => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          error: false,\n          loading: expected > 0,\n        });\n        // TODO (billyvg): Need to fix this\n        // we reload to get rid of the badge in the sidebar\n        window.location.reload();\n      },\n      error: () => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          error: true,\n          loading: expected > 0,\n        });\n      },\n    });\n  };\n\n  deleteProcessingIssues = () => {\n    const {orgId, projectId} = this.props.params;\n    this.setState({\n      expected: this.state.expected + 1,\n    });\n    this.props.api.request(`/projects/${orgId}/${projectId}/processingissues/`, {\n      method: 'DELETE',\n      success: () => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          error: false,\n          loading: expected > 0,\n        });\n        // TODO (billyvg): Need to fix this\n        // we reload to get rid of the badge in the sidebar\n        window.location.reload();\n      },\n      error: () => {\n        const expected = this.state.expected - 1;\n        this.setState({\n          expected,\n          error: true,\n          loading: expected > 0,\n        });\n      },\n    });\n  };\n\n  renderDebugTable() {\n    let body: React.ReactNode;\n    const {loading, error, processingIssues} = this.state;\n    if (loading) {\n      body = this.renderLoading();\n    } else if (error) {\n      body = <LoadingError onRetry={this.fetchData} />;\n    } else if (\n      processingIssues?.hasIssues ||\n      processingIssues?.resolveableIssues ||\n      processingIssues?.issuesProcessing\n    ) {\n      body = this.renderResults();\n    } else {\n      body = this.renderEmpty();\n    }\n\n    return body;\n  }\n\n  renderLoading() {\n    return (\n      <Panel>\n        <LoadingIndicator />\n      </Panel>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <Panel>\n        <EmptyStateWarning>\n          <p>{t('Good news! There are no processing issues.')}</p>\n        </EmptyStateWarning>\n      </Panel>\n    );\n  }\n\n  getProblemDescription(item: ProcessingIssueItem) {\n    const msg = projectProcessingIssuesMessages[item.type];\n    return msg || t('Unknown Error');\n  }\n\n  getImageName(path: string) {\n    const pathSegments = path.split(/^([a-z]:\\\\|\\\\\\\\)/i.test(path) ? '\\\\' : '/');\n    return pathSegments[pathSegments.length - 1];\n  }\n\n  renderProblem(item: ProcessingIssueItem) {\n    const description = this.getProblemDescription(item);\n    const helpLink = HELP_LINKS[item.type];\n\n    return (\n      <div>\n        <span>{description}</span>{' '}\n        {helpLink && (\n          <ExternalLink href={helpLink}>\n            <IconQuestion size=\"xs\" />\n          </ExternalLink>\n        )}\n      </div>\n    );\n  }\n\n  renderDetails(item: ProcessingIssueItem) {\n    let dsymUUID: React.ReactNode = null;\n    let dsymName: React.ReactNode = null;\n    let dsymArch: React.ReactNode = null;\n\n    if (item.data._scope === 'native') {\n      if (item.data.image_uuid) {\n        dsymUUID = <code className=\"uuid\">{item.data.image_uuid}</code>;\n      }\n      if (item.data.image_path) {\n        dsymName = <em>{this.getImageName(item.data.image_path)}</em>;\n      }\n      if (item.data.image_arch) {\n        dsymArch = item.data.image_arch;\n      }\n    }\n\n    return (\n      <span>\n        {dsymUUID && <span> {dsymUUID}</span>}\n        {dsymArch && <span> {dsymArch}</span>}\n        {dsymName && <span> (for {dsymName})</span>}\n      </span>\n    );\n  }\n\n  renderResolveButton() {\n    const issues = this.state.processingIssues;\n\n    if (issues === null || this.state.reprocessing) {\n      return null;\n    }\n    if (issues.resolveableIssues <= 0) {\n      return null;\n    }\n\n    const fixButton = tn(\n      'Click here to trigger processing for %s pending event',\n      'Click here to trigger processing for %s pending events',\n      issues.resolveableIssues\n    );\n\n    return (\n      <AlertLink priority=\"info\" onClick={this.sendReprocessing}>\n        {t('Pro Tip')}: {fixButton}\n      </AlertLink>\n    );\n  }\n\n  renderResults() {\n    const {processingIssues} = this.state;\n    const fixLink = processingIssues ? processingIssues.signedLink : false;\n\n    let fixLinkBlock: React.ReactNode = null;\n\n    if (fixLink) {\n      fixLinkBlock = (\n        <Panel>\n          <PanelHeader>\n            {t('Having trouble uploading debug informations? We can help!')}\n          </PanelHeader>\n          <PanelBody withPadding>\n            <label>\n              {t(\n                \"Paste this command into your shell and we'll attempt to upload the missing symbols from your machine:\"\n              )}\n            </label>\n            <AutoSelectTextInput readOnly>\n              curl -sL \"{fixLink}\" | bash\n            </AutoSelectTextInput>\n          </PanelBody>\n        </Panel>\n      );\n    }\n\n    let processingRow: React.ReactNode = null;\n    if (processingIssues && processingIssues.issuesProcessing > 0) {\n      processingRow = (\n        <StyledPanelAlert type=\"info\" icon={<IconSettings size=\"sm\" />}>\n          {tn(\n            'Reprocessing %s event …',\n            'Reprocessing %s events …',\n            processingIssues.issuesProcessing\n          )}\n        </StyledPanelAlert>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        {fixLinkBlock}\n        <h3>\n          {t('Pending Issues')}\n          <Access access={['project:write']}>\n            {({hasAccess}) => (\n              <Button\n                size=\"small\"\n                className=\"pull-right\"\n                disabled={!hasAccess}\n                onClick={() => this.discardEvents()}\n              >\n                {t('Discard all')}\n              </Button>\n            )}\n          </Access>\n        </h3>\n        <PanelTable headers={[t('Problem'), t('Details'), t('Events'), t('Last seen')]}>\n          {processingRow}\n          {processingIssues?.issues?.map((item, idx) => (\n            <React.Fragment key={idx}>\n              <div>{this.renderProblem(item)}</div>\n              <div>{this.renderDetails(item)}</div>\n              <div>{item.numEvents + ''}</div>\n              <div>\n                <TimeSince date={item.lastSeen} />\n              </div>\n            </React.Fragment>\n          ))}\n        </PanelTable>\n      </React.Fragment>\n    );\n  }\n\n  renderReprocessingSettings() {\n    const access = new Set(this.props.organization.access);\n    if (this.state.loading) {\n      return this.renderLoading();\n    }\n\n    const {formData} = this.state;\n    const {orgId, projectId} = this.props.params;\n    return (\n      <Form\n        saveOnBlur\n        onSubmitSuccess={this.deleteProcessingIssues}\n        apiEndpoint={`/projects/${orgId}/${projectId}/`}\n        apiMethod=\"PUT\"\n        initialData={formData}\n      >\n        <JsonForm\n          access={access}\n          forms={formGroups}\n          renderHeader={() => (\n            <PanelAlert type=\"warning\">\n              <TextBlock noMargin>\n                {t(`Reprocessing does not apply to Minidumps. Even when enabled,\n                    Minidump events with processing issues will show up in the\n                    issues stream immediately and cannot be reprocessed.`)}\n              </TextBlock>\n            </PanelAlert>\n          )}\n        />\n      </Form>\n    );\n  }\n\n  render() {\n    const {projectId} = this.props.params;\n    const title = t('Processing Issues');\n    return (\n      <div>\n        <SentryDocumentTitle title={title} projectSlug={projectId} />\n        <SettingsPageHeader title={title} />\n        <TextBlock>\n          {t(\n            `For some platforms the event processing requires configuration or\n          manual action.  If a misconfiguration happens or some necessary\n          steps are skipped, issues can occur during processing. (The most common\n          reason for this is missing debug symbols.) In these cases you can see\n          all the problems here with guides of how to correct them.`\n          )}\n        </TextBlock>\n        {this.renderDebugTable()}\n        {this.renderResolveButton()}\n        {this.renderReprocessingSettings()}\n      </div>\n    );\n  }\n}\n\nconst StyledPanelAlert = styled(PanelAlert)`\n  grid-column: 1/5;\n`;\n\nconst AutoSelectTextInput = styled(AutoSelectText)<{readOnly: boolean}>`\n  font-family: ${p => p.theme.text.familyMono};\n  ${p => inputStyles(p)};\n`;\n\nexport {ProjectProcessingIssues};\n\nexport default withApi(withOrganization(ProjectProcessingIssues));\n"],"sourceRoot":""}