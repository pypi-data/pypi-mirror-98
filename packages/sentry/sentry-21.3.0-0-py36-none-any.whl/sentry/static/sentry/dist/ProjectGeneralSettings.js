(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[153],{1898:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(11),s=n.n(c),l=n(12),u=n.n(l),f=n(7),b=n.n(f),d=(n(1),n(264)),p=n.n(d),j=n(693),h=n(0);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(e){s()(n,e);var t=O(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(h.f)(p.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),n}(j.a);g.displayName="AsyncView"},1899:function(e,t,n){"use strict";var r=n(14),a=n.n(r),o=n(9),i=n.n(o),c=n(10),s=n.n(c),l=n(11),u=n.n(l),f=n(12),b=n.n(f),d=n(7),p=n.n(d),j=n(3),h=n(1),O=n.n(h),g=n(222),m=n(6),y=n(0);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var w=function(e){u()(n,e);var t=v(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.subtitle,o=e.action,i=e.tabs,c=e.noTitleStyles,s=e.body,l=a()(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!r;return Object(y.f)("div",l,Object(y.f)(S,{isNarrow:u},Object(y.f)(P,null,t&&Object(y.f)(R,null,t),n&&Object(y.f)(T,{tabs:i,styled:c},Object(y.f)(g.a,null,n),r&&Object(y.f)(k,null,r))),o&&Object(y.f)(x,{isNarrow:u},o)),s&&Object(y.f)(C,null,s),i&&Object(y.f)(z,null,i))}}]),n}(O.a.Component);w.displayName="UnstyledSettingsPageHeader",w.defaultProps={noTitleStyles:!1};var S=Object(j.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),P=Object(j.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),T=Object(j.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",Object(m.a)(4)," ",Object(m.a)(2)," ",Object(m.a)(3)," 0;"),k=Object(j.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(m.a)(1.5)," 0 0;"),R=Object(j.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(m.a)(1),";"),x=Object(j.a)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":Object(m.a)(4)}),";"),A=Object(j.a)(w,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(m.a)(4),";"),C=Object(j.a)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",Object(m.a)(3),";"),z=Object(j.a)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});t.a=A},1911:function(e,t,n){"use strict";t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,a="".concat(e," - ").concat(t),o=r?"".concat(a," - ").concat(r):a;return n?"".concat(o," - Sentry"):o}},1925:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(706),a=n.n(r),o=n(572);function i(e,t){var n,r,i,c,s=t.routes,l=t.params,u=t.location,f=t.stepBack,b=s.map((function(e){return e.path||""}));"string"!=typeof e?(c=s.indexOf(e)+1,i=a()(b.slice(0,c),(function(e){return"/"===e[0]}))):i=a()(b,(function(e){return"/"===e[0]}));var d=b.slice(i,c);void 0!==f&&(d=d.slice(0,f));var p=null!==(n=null==u?void 0:u.search)&&void 0!==n?n:"",j=null!==(r=null==u?void 0:u.hash)&&void 0!==r?r:"",h="".concat(d.join("")).concat("string"!=typeof e?"":e).concat(p).concat(j);return Object(o.a)(h,l)}},2028:function(e,t,n){"use strict";var r=n(5),a=n.n(r),o=n(14),i=n.n(o),c=(n(1),n(326)),s=n(70),l=n(15),u=n(2),f=n(0),b=function(e){var t=e.access,n=void 0===t?["project:write"]:t,r=i()(e,["access"]);return Object(f.f)(c.a,{access:n},(function(e){return!e.hasAccess&&Object(f.f)(s.b,a()({type:"warning",icon:Object(f.f)(l.Jb,{size:"xs"})},r),Object(u.b)("These settings can only be edited by users with the organization owner, manager, or admin role."))}))};b.displayName="PermissionAlert",t.a=b},2053:function(e,t,n){"use strict";function r(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,"a",(function(){return r}))},2223:function(e,t,n){"use strict";n.r(t),n.d(t,"route",(function(){return b})),n.d(t,"fields",(function(){return j}));var r=n(3),a=(n(1),n(457)),o=n(729),i=n(2),c=n(6),s=n(18),l=n(185),u=n(2053),f=n(0),b="/settings/:orgId/projects/:projectId/",d=function(){for(var e=0,t=[];e<=720;)t.push(e),e+=e<12?1:e<24?3:e<36?6:e<48?12:24;return t}(),p=Object(i.b)("This option is enforced by your organization's settings and cannot be customized per-project."),j={slug:{name:"slug",type:"string",required:!0,label:Object(i.b)("Name"),placeholder:Object(i.b)("my-service-name"),help:Object(i.b)("A unique ID used to identify this project"),transformInput:u.a,saveOnBlur:!1,saveMessageAlertType:"info",saveMessage:Object(i.b)("You will be redirected to the new project slug after saving")},platform:{name:"platform",type:"select",deprecatedSelectControl:!1,label:Object(i.b)("Platform"),choices:function(){return o.a.map((function(e){var t=e.id,n=e.name;return[t,Object(f.f)(h,{key:t},Object(f.f)(O,{platform:t}),n)]}))},help:Object(i.b)("The primary platform for this project")},subjectPrefix:{name:"subjectPrefix",type:"string",label:Object(i.b)("Subject Prefix"),placeholder:Object(i.b)("e.g. [my-org]"),help:Object(i.b)("Choose a custom prefix for emails from this project")},resolveAge:{name:"resolveAge",type:"range",allowedValues:d,label:Object(i.b)("Auto Resolve"),help:Object(i.b)("Automatically resolve an issue if it hasn't been seen for this amount of time"),formatLabel:function(e){return 0===(e=Number(e))?Object(i.b)("Disabled"):e>23&&e%24==0?(e/=24,Object(i.d)("%s day","%s days",e)):Object(i.d)("%s hour","%s hours",e)},saveOnBlur:!1,saveMessage:Object(i.c)("[Caution]: Enabling auto resolve will immediately resolve anything that has not been seen within this period of time. There is no undo!",{Caution:Object(f.f)("strong",null,"Caution")}),saveMessageAlertType:"warning"},allowedDomains:{name:"allowedDomains",type:"string",multiline:!0,autosize:!0,maxRows:10,rows:1,placeholder:Object(i.b)("https://example.com or example.com"),label:Object(i.b)("Allowed Domains"),help:Object(i.b)("Separate multiple entries with a newline"),getValue:function(e){return Object(s.i)(e)},setValue:function(e){return Object(s.c)(e)}},scrapeJavaScript:{name:"scrapeJavaScript",type:"boolean",disabled:function(e){return!e.organization[e.name]},disabledReason:p,setValue:function(e,t){return t.organization&&t.organization[t.name]&&e},label:Object(i.b)("Enable JavaScript source fetching"),help:Object(i.b)("Allow Sentry to scrape missing JavaScript source context when possible")},securityToken:{name:"securityToken",type:"string",label:Object(i.b)("Security Token"),help:Object(i.b)('Outbound requests matching Allowed Domains will have the header "{token_header}: {token}" appended'),setValue:function(e){return Object(l.a)({value:e,fixed:"__SECURITY_TOKEN__"})}},securityTokenHeader:{name:"securityTokenHeader",type:"string",placeholder:Object(i.b)("X-Sentry-Token"),label:Object(i.b)("Security Token Header"),help:Object(i.b)('Outbound requests matching Allowed Domains will have the header "{token_header}: {token}" appended')},verifySSL:{name:"verifySSL",type:"boolean",label:Object(i.b)("Verify TLS/SSL"),help:Object(i.b)("Outbound requests will verify TLS (sometimes known as SSL) connections")}},h=Object(r.a)("div",{target:"eqzsp1o0",label:"PlatformWrapper"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),O=Object(r.a)(a.PlatformIcon,{target:"eqzsp1o1",label:"StyledPlatformIcon"})("margin-right:",Object(c.a)(1),";")},2790:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(8),i=n.n(o),c=n(9),s=n.n(c),l=n(10),u=n.n(l),f=n(11),b=n.n(f),d=n(12),p=n.n(d),j=n(7),h=n.n(j),O=(n(1),n(22)),g=n(39),m=n.n(g),y=n(25),v=n.n(y),w=n(450),S=n(48),P=n(27),T=n(137),k=n(96),R=n(2223),x=n(2),A=n(147),C=n(287),z=n(1925),D=n(1911),I=n(54),q=n(1898),N=n(698),_=n(329),L=n(699),E=n(385),U=n(1899),H=n(696),J=n(2028),B=n(0);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var F=function(e){b()(n,e);var t=W(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._form={},e.handleTransferFieldChange=function(t,n){e._form[t]=n},e.handleRemoveProject=function(){var t=e.props.params.orgId,n=e.state.data;n&&Object(w.i)(e.api,t,n).then((function(){window.location.assign("/")}),Object(C.a)("Unable to remove project"))},e.handleTransferProject=function(){var t=e.props.params.orgId,n=e.state.data;n&&("string"!=typeof e._form.email||e._form.email.length<1||Object(w.l)(e.api,t,n,e._form.email).then((function(){window.location.assign("/")}),Object(C.a)("Unable to transfer project")))},e.isProjectAdmin=function(){return new Set(e.props.organization.access).has("project:admin")},e}return u()(n,[{key:"getTitle",value:function(){var e=this.props.params.projectId;return Object(D.a)(Object(x.b)("Project Settings"),e,!1)}},{key:"getEndpoints",value:function(){var e=this.props.params,t=e.orgId,n=e.projectId;return[["data","/projects/".concat(t,"/").concat(n,"/")]]}},{key:"renderRemoveProject",value:function(){var e=this.state.data,t=this.isProjectAdmin(),n=e.isInternal;return Object(B.f)(N.a,{label:Object(x.b)("Remove Project"),help:Object(x.c)("Remove the [project] project and all related data. [linebreak] Careful, this action cannot be undone.",{project:Object(B.f)("strong",null,e.slug),linebreak:Object(B.f)("br",null)})},!t&&Object(x.b)("You do not have the required permission to remove this project."),n&&Object(x.b)("This project cannot be removed. It is used internally by the Sentry server."),t&&!n&&Object(B.f)(T.a,{onConfirm:this.handleRemoveProject,priority:"danger",confirmText:Object(x.b)("Remove project"),message:Object(B.f)("div",null,Object(B.f)(H.a,null,Object(B.f)("strong",null,Object(x.b)("Removing this project is permanent and cannot be undone!"))),Object(B.f)(H.a,null,Object(x.b)("This will also remove all associated event data.")))},Object(B.f)("div",null,Object(B.f)(P.b,{className:"ref-remove-project",type:"button",priority:"danger"},Object(x.b)("Remove Project")))))}},{key:"renderTransferProject",value:function(){var e=this,t=this.state.data,n=this.isProjectAdmin(),r=t.isInternal;return Object(B.f)(N.a,{label:Object(x.b)("Transfer Project"),help:Object(x.c)("Transfer the [project] project and all related data. [linebreak] Careful, this action cannot be undone.",{project:Object(B.f)("strong",null,t.slug),linebreak:Object(B.f)("br",null)})},!n&&Object(x.b)("You do not have the required permission to transfer this project."),r&&Object(x.b)("This project cannot be transferred. It is used internally by the Sentry server."),n&&!r&&Object(B.f)(T.a,{onConfirm:this.handleTransferProject,priority:"danger",confirmText:Object(x.b)("Transfer project"),renderMessage:function(t){var n=t.confirm;return Object(B.f)("div",null,Object(B.f)(H.a,null,Object(B.f)("strong",null,Object(x.b)("Transferring this project is permanent and cannot be undone!"))),Object(B.f)(H.a,null,Object(x.b)("Please enter the email of an organization owner to whom you would like to transfer this project.")),Object(B.f)(k.a,null,Object(B.f)(_.a,{hideFooter:!0,onFieldChange:e.handleTransferFieldChange,onSubmit:function(e,t,r,a){a.stopPropagation(),n()}},Object(B.f)(E.a,{name:"email",label:Object(x.b)("Organization Owner"),placeholder:"admin@example.com",required:!0,help:Object(x.b)("A request will be emailed to this address, asking the organization owner to accept the project transfer.")}))))}},Object(B.f)("div",null,Object(B.f)(P.b,{className:"ref-transfer-project",type:"button",priority:"danger"},Object(x.b)("Transfer Project")))))}},{key:"renderBody",value:function(){var e,t=this,n=this.props.organization,r=this.state.data,o=this.props.params,i=o.orgId,c=o.projectId,s="/projects/".concat(i,"/").concat(c,"/"),l=new Set(n.access),u={additionalFieldProps:{organization:n},features:new Set(n.features),access:l,disabled:!l.has("project:write")},f=r.teams.length?null===(e=r.teams)||void 0===e?void 0:e[0]:void 0;return Object(B.f)("div",null,Object(B.f)(U.a,{title:Object(x.b)("Project Settings")}),Object(B.f)(J.a,null),Object(B.f)(_.a,{saveOnBlur:!0,allowUndo:!0,initialData:V(V({},r),{},{team:f}),apiMethod:"PUT",apiEndpoint:s,onSubmitSuccess:function(e){t.setState({data:e}),c!==e.slug&&(Object(w.b)(c,e.slug),t.props.onChangeSlug(e.slug)),S.a.updateSuccess(e)}},Object(B.f)(L.a,a()({},u,{title:Object(x.b)("Project Details"),fields:[R.fields.slug,R.fields.platform]})),Object(B.f)(L.a,a()({},u,{title:Object(x.b)("Email"),fields:[R.fields.subjectPrefix]})),Object(B.f)(L.a,a()({},u,{title:Object(x.b)("Event Settings"),fields:[R.fields.resolveAge]})),Object(B.f)(L.a,a()({},u,{title:Object(x.b)("Client Security"),fields:[R.fields.allowedDomains,R.fields.scrapeJavaScript,R.fields.securityToken,R.fields.securityTokenHeader,R.fields.verifySSL],renderHeader:function(){return Object(B.f)(k.b,{type:"info"},Object(B.f)(H.a,{noMargin:!0},Object(x.c)("Configure origin URLs which Sentry should accept events from. This is used for communication with clients like [link].",{link:Object(B.f)("a",{href:"https://github.com/getsentry/sentry-javascript"},"sentry-javascript")})," ",Object(x.c)("This will restrict requests based on the [Origin] and [Referer] headers.",{Origin:Object(B.f)("code",null,"Origin"),Referer:Object(B.f)("code",null,"Referer")})))}}))),Object(B.f)(k.a,null,Object(B.f)(k.e,null,Object(x.b)("Project Administration")),this.renderRemoveProject(),this.renderTransferProject()))}}]),n}(q.a),Y=m()({displayName:"ProjectGeneralSettingsContainer",mixins:[v.a.listenTo(A.a,"onProjectsUpdate")],changedSlug:void 0,onProjectsUpdate:function(){this.changedSlug&&(A.a.getBySlug(this.changedSlug)&&O.browserHistory.replace(Object(z.a)("",V(V({},this.props),{},{params:V(V({},this.props.params),{},{projectId:this.changedSlug})}))))},render:function(){var e=this;return Object(B.f)(F,a()({onChangeSlug:function(t){return e.changedSlug=t}},this.props))}});t.default=Object(I.a)(Y)}}]);
//# sourceMappingURL=ProjectGeneralSettings.js.map