(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[97],{2114:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(8),i=n.n(r),o=n(9),a=n.n(o),c=n(10),s=n.n(c),l=n(11),u=n.n(l),f=n(12),d=n.n(f),p=n(7),g=n.n(p),b=n(1),m=n.n(b),h=n(66),y=n(33),v=n(2),O=n(122);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var x=function(t){u()(n,t);var e=k(n);function n(){var t;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).dialog=null,t.openDialog=function(e){Object(O.l)("integrations.installation_start",w({integration:t.props.provider.key,integration_type:"first_party"},t.props.analyticsParams),t.props.organization);var n=t.props.provider.setupDialog,r=n.url,i=n.width,o=n.height,a=t.computeCenteredWindow(i,o),c=a.left,s=a.top,l=w({},e);t.props.account&&(l.account=t.props.account),t.props.modalParams&&(l=w(w({},l),t.props.modalParams));var u="".concat(r,"?").concat(h.stringify(l)),f="scrollbars=yes,width=".concat(i,",height=").concat(o,",top=").concat(s,",left=").concat(c);t.dialog=window.open(u,"sentryAddIntegration",f),t.dialog&&t.dialog.focus()},t.didReceiveMessage=function(e){if(e.origin===document.location.origin&&e.source===t.dialog){var n=e.data,r=n.success,i=n.data;t.dialog=null,r?i&&(Object(O.l)("integrations.installation_complete",w({integration:t.props.provider.key,integration_type:"first_party"},t.props.analyticsParams),t.props.organization),Object(y.c)(Object(v.b)("%s added",t.props.provider.name)),t.props.onInstall(i)):Object(y.a)(i.error)}},t}return s()(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.didReceiveMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.didReceiveMessage),this.dialog&&this.dialog.close()}},{key:"computeCenteredWindow",value:function(t,e){var n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+r}}},{key:"render",value:function(){return this.props.children(this.openDialog)}}]),n}(m.a.Component);x.displayName="AddIntegration"},2194:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(9),i=n.n(r),o=n(10),a=n.n(o),c=n(11),s=n.n(c),l=n(12),u=n.n(l),f=n(7),d=n.n(f),p=n(3),g=n(1),b=n.n(g),m=n(6),h=n(1950),y=n(0);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var O=Object(p.a)("img",{target:"e18es4220",label:"StyledIcon"})("height:",(function(t){return t.size}),"px;width:",(function(t){return t.size}),"px;border-radius:2px;display:block;"),j=function(t){s()(n,t);var e=v(n);function n(){var t;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={imgSrc:t.props.integration.icon},t}return a()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.integration,r=e.size;return Object(y.f)(O,{size:r,src:this.state.imgSrc,onError:function(){t.setState({imgSrc:h.b[n.provider.key]||h.a})}})}}]),n}(b.a.Component);j.displayName="Icon";var w=function(t){var e=t.integration,n=t.size,r=void 0===n?32:n;return e.icon?Object(y.f)(j,{size:r,integration:e}):Object(y.f)(h.c,{size:r,pluginId:e.provider.key})};function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var i=d()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var x=function(t){s()(n,t);var e=k(n);function n(){return i()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var t=this.props,e=t.integration,n=t.compact;return Object(y.f)(I,null,Object(y.f)("div",null,Object(y.f)(w,{size:n?22:32,integration:e})),Object(y.f)(R,{compact:n},Object(y.f)(P,{"data-test-id":"integration-name"},e.name),Object(y.f)(D,{compact:n},e.domainName)))}}]),n}(b.a.Component);x.displayName="IntegrationItem",x.defaultProps={compact:!1};var I=Object(p.a)("div",{target:"e5rwe00",label:"Flex"})({name:"k008qs",styles:"display:flex;"}),R=Object(p.a)("div",{target:"e5rwe01",label:"Labels"})("box-sizing:border-box;display:flex;",(function(t){return t.compact?"align-items: center;":""}),";flex-direction:",(function(t){return t.compact?"row":"column"}),";padding-left:",Object(m.a)(1),";min-width:0;justify-content:center;"),P=Object(p.a)("div",{target:"e5rwe02",label:"IntegrationName"})({name:"1nedsoq",styles:"font-size:1.6rem;"}),D=Object(p.a)("div",{target:"e5rwe03",label:"DomainName"})("color:",(function(t){return t.compact?t.theme.gray200:t.theme.gray400}),";margin-left:",(function(t){return t.compact?Object(m.a)(1):"inherit"}),";margin-top:",(function(t){return t.compact?"inherit":Object(m.a)(.25)}),";font-size:1.4rem;line-height:1.2;overflow:hidden;text-overflow:ellipsis;")},2196:function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var r=n(5),i=n.n(r),o=n(14),a=n.n(o),c=n(9),s=n.n(c),l=n(10),u=n.n(l),f=n(11),d=n.n(f),p=n(12),g=n.n(p),b=n(7),m=n.n(b),h=n(1),y=n.n(h),v=n(27),O=n(31),j=n(2),w=n(2114),k=n(0);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g()(this,n)}}var I=function(t){d()(n,t);var e=x(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var t=this.props,e=t.provider,n=t.buttonText,r=t.onAddIntegration,o=t.organization,c=t.reinstall,s=t.analyticsParams,l=t.modalParams,u=a()(t,["provider","buttonText","onAddIntegration","organization","reinstall","analyticsParams","modalParams"]),f=n||Object(j.b)(c?"Enable":"Add %s",e.metadata.noun);return Object(k.f)(O.a,{disabled:e.canAdd,title:"Integration cannot be added on Sentry. Enable this integration via the ".concat(e.name," instance.")},Object(k.f)(w.a,{provider:e,onInstall:r,organization:o,analyticsParams:s,modalParams:l},(function(t){return Object(k.f)(v.b,i()({disabled:!e.canAdd},u,{onClick:function(){return t()}}),f)})))}}]),n}(y.a.Component);I.displayName="AddIntegrationButton"},2929:function(t,e,n){"use strict";n.r(e);var r=n(8),i=n.n(r),o=n(5),a=n.n(o),c=n(30),s=n.n(c),l=n(24),u=n.n(l),f=n(9),d=n.n(f),p=n(10),g=n.n(p),b=n(11),m=n.n(b),h=n(12),y=n.n(h),v=n(7),O=n.n(v),j=n(3),w=n(1),k=n.n(w),x=n(33),I=n(27),R=n(15),P=n(2),D=n(6),z=n(54),E=n(2215),S=n(2196),C=n(14),T=n.n(C),_=n(113),A=n(326),N=n(70),W=n(733),q=n(137),B=n(31),L=n(2194),F=n(0);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O()(t);if(e){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var H=function(t){m()(n,t);var e=U(n);function n(){var t;d()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).handleUninstallClick=function(){t.props.trackIntegrationEvent("integrations.uninstall_clicked")},t}return g()(n,[{key:"getRemovalBodyAndText",value:function(t){return t&&t.removal_dialog?{body:t.removal_dialog.body,actionText:t.removal_dialog.actionText}:{body:Object(P.b)("Deleting this integration will remove any project associated data. This action cannot be undone. Are you sure you want to delete this integration?"),actionText:Object(P.b)("Delete")}}},{key:"handleRemove",value:function(t){this.props.onRemove(t),this.props.trackIntegrationEvent("integrations.uninstall_completed")}},{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.integration,i=e.provider,o=e.organization,c="active"===r.status&&r.provider.canDisable?this.disableConfirmProps:this.removeConfirmProps;return Object(F.f)(A.a,{access:["org:integrations"]},(function(e){var s=e.hasAccess;return Object(F.f)(J,{key:r.id,className:n},Object(F.f)(Y,null,Object(F.f)(L.a,{integration:r})),Object(F.f)("div",null,Object(F.f)(B.a,{disabled:s,position:"left",title:Object(P.b)("You must be an organization owner, manager or admin to configure")},Object(F.f)(M,{borderless:!0,icon:Object(F.f)(R.ob,null),disabled:!s||"active"!==r.status,to:"/settings/".concat(o.slug,"/integrations/").concat(i.key,"/").concat(r.id,"/"),"data-test-id":"integration-configure-button"},Object(P.b)("Configure")))),Object(F.f)("div",null,Object(F.f)(B.a,{disabled:s,title:Object(P.b)("You must be an organization owner, manager or admin to uninstall")},Object(F.f)(q.a,a()({priority:"danger",onConfirming:t.handleUninstallClick,disabled:!s},c),Object(F.f)(M,{disabled:!s,borderless:!0,icon:Object(F.f)(R.r,null),"data-test-id":"integration-remove-button"},Object(P.b)("Uninstall"))))),Object(F.f)(X,{status:r.status}))}))}},{key:"removeConfirmProps",get:function(){var t=this,e=this.props.integration,n=this.getRemovalBodyAndText(e.provider.aspects),r=n.body,i=n.actionText;return{message:Object(F.f)(k.a.Fragment,null,Object(F.f)(N.b,{type:"error",icon:Object(F.f)(R.C,{size:"md"})},Object(P.b)("Deleting this integration has consequences!")),r),confirmText:i,onConfirm:function(){return t.handleRemove(e)}}}},{key:"disableConfirmProps",get:function(){var t=this,e=this.props.integration,n=e.provider.aspects.disable_dialog||{},r=n.body,i=n.actionText;return{message:Object(F.f)(k.a.Fragment,null,Object(F.f)(N.b,{type:"error",icon:Object(F.f)(R.C,{size:"md"})},Object(P.b)("This integration cannot be removed in Sentry")),r),confirmText:i,onConfirm:function(){return t.props.onDisable(e)}}}}]),n}(k.a.Component);H.displayName="InstalledIntegration";var M=Object(j.a)(I.b,{target:"eau7gon0",label:"StyledButton"})("color:",(function(t){return t.theme.gray300}),";"),J=Object(j.a)("div",{target:"eau7gon1",label:"IntegrationFlex"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Y=Object(j.a)("div",{target:"eau7gon2",label:"IntegrationItemBox"})({name:"1rr4qq7",styles:"flex:1;"}),V=Object(_.b)((function(t){var e=t.theme,n=t.status,r=T()(t,["theme","status"]),i="active"===n?e.success:e.gray300,o="active"===n?Object(P.b)("This Integration can be disabled by clicking the Uninstall button"):Object(P.b)("This Integration has been disconnected from the external provider");return Object(F.f)(B.a,{title:o},Object(F.f)("div",r,Object(F.f)(W.a,{size:6,color:i}),Object(F.f)(G,null,"".concat("active"===n?Object(P.b)("enabled"):Object(P.b)("disabled")))))})),X=Object(j.a)(V,{target:"eau7gon3",label:"StyledIntegrationStatus"})("display:flex;align-items:center;color:",(function(t){return t.theme.gray300}),";font-weight:light;text-transform:capitalize;&:before{content:'|';color:",(function(t){return t.theme.gray200}),";margin-right:",Object(D.a)(1),";font-weight:normal;}"),G=Object(j.a)("div",{target:"eau7gon4",label:"IntegrationStatusText"})("margin:0 ",Object(D.a)(.75)," 0 ",Object(D.a)(.5),";");function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O()(t);if(e){var i=O()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var $=function(t){m()(n,t);var e=Z(n);function n(){var t;d()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).onInstall=function(e){var n=t.props.params.orgId;t.props.router.push("/settings/".concat(n,"/integrations/").concat(e.provider.key,"/").concat(e.id,"/"))},t.onRemove=function(e){var n=t.props.params.orgId,r=u()(t.state.configurations),i=t.state.configurations.filter((function(t){return t.id!==e.id}));t.setState({configurations:i});var o={method:"DELETE",error:function(){t.setState({configurations:r}),Object(x.a)(Object(P.b)("Failed to remove Integration"))}};t.api.request("/organizations/".concat(n,"/integrations/").concat(e.id,"/"),o)},t.onDisable=function(t){var e,n=t.domainName.split("/"),r=s()(n,2),i=r[0],o=r[1];e="User"===t.accountType?"https://".concat(i,"/settings/installations/"):"https://".concat(i,"/organizations/").concat(o,"/settings/installations/"),window.open(e,"_blank")},t.handleExternalInstall=function(){t.trackIntegrationEvent("integrations.installation_start")},t}return g()(n,[{key:"getEndpoints",value:function(){var t=this.props.params,e=t.orgId,n=t.integrationSlug;return[["information","/organizations/".concat(e,"/config/integrations/?provider_key=").concat(n)],["configurations","/organizations/".concat(e,"/integrations/?provider_key=").concat(n,"&includeConfig=0")]]}},{key:"renderTopButton",value:function(t,e){var n=this.props.organization,r=this.provider,i=r.metadata,o={style:{marginBottom:Object(D.a)(1)},size:"small",priority:"primary","data-test-id":"install-button",disabled:t,organization:n};return e?r.canAdd?Object(F.f)(S.a,a()({provider:r,onAddIntegration:this.onInstall,analyticsParams:{view:"integrations_directory_integration_detail",already_installed:"Not Installed"!==this.installationStatus}},o)):i.aspects.externalInstall?Object(F.f)(I.b,a()({icon:Object(F.f)(R.bb,null),href:i.aspects.externalInstall.url,onClick:this.handleExternalInstall,external:!0},o),i.aspects.externalInstall.buttonText):Object(F.f)(k.a.Fragment,null):this.renderRequestIntegrationButton()}},{key:"renderConfigurations",value:function(){var t=this,e=this.state.configurations,n=this.props.organization,r=this.provider;return e.length?e.map((function(e){return Object(F.f)(tt,{key:e.id},Object(F.f)(H,{organization:n,provider:r,integration:e,onRemove:t.onRemove,onDisable:t.onDisable,"data-test-id":e.id,trackIntegrationEvent:t.trackIntegrationEvent}))})):this.renderEmptyConfigurations()}},{key:"integrationType",get:function(){return"first_party"}},{key:"provider",get:function(){return this.state.information.providers[0]}},{key:"description",get:function(){return this.metadata.description}},{key:"author",get:function(){return this.metadata.author}},{key:"alerts",get:function(){var t=this.provider,e=this.metadata,n=(e.aspects.alerts||[]).map((function(t){switch(t.icon){case"icon-warning":case"icon-warning-sm":return Q(Q({},t),{},{icon:Object(F.f)(R.Jb,null)});default:return Q(Q({},t),{},{icon:Object(F.f)(R.C,null)})}}));return!t.canAdd&&e.aspects.externalInstall&&n.push({type:"warning",icon:Object(F.f)(R.bb,null),text:e.aspects.externalInstall.noticeText}),n}},{key:"resourceLinks",get:function(){var t=this.metadata;return[{url:t.source_url,title:"View Source"},{url:t.issue_url,title:"Report Issue"}]}},{key:"metadata",get:function(){return this.provider.metadata}},{key:"isEnabled",get:function(){return this.state.configurations.length>0}},{key:"installationStatus",get:function(){return this.isEnabled?"Installed":"Not Installed"}},{key:"integrationName",get:function(){return this.provider.name}},{key:"featureData",get:function(){return this.metadata.features}}]),n}(E.a),tt=Object(j.a)("div",{target:"e1gcgeg90",label:"InstallWrapper"})("padding:",Object(D.a)(2),";border:1px solid ",(function(t){return t.theme.border}),";border-bottom:none;background-color:",(function(t){return t.theme.background}),";&:last-child{border-bottom:1px solid ",(function(t){return t.theme.border}),";}");e.default=Object(z.a)($)}}]);
//# sourceMappingURL=IntegrationDetailedView.js.map