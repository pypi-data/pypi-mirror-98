(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[172],{1898:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(9),a=r.n(n),c=r(10),i=r.n(c),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(7),b=r.n(f),p=(r(1),r(264)),d=r.n(p),h=r(693),y=r(0);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u()(this,r)}}var O=function(e){s()(r,e);var t=j(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return Object(y.f)(d.a,{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),r}(h.a);O.displayName="AsyncView"},1899:function(e,t,r){"use strict";var n=r(14),a=r.n(n),c=r(9),i=r.n(c),o=r(10),s=r.n(o),l=r(11),u=r.n(l),f=r(12),b=r.n(f),p=r(7),d=r.n(p),h=r(3),y=r(1),j=r.n(y),O=r(222),m=r(6),v=r(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var a=d()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var x=function(e){u()(r,e);var t=g(r);function r(){return i()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.icon,r=e.title,n=e.subtitle,c=e.action,i=e.tabs,o=e.noTitleStyles,s=e.body,l=a()(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!n;return Object(v.f)("div",l,Object(v.f)(w,{isNarrow:u},Object(v.f)(S,null,t&&Object(v.f)(q,null,t),r&&Object(v.f)(R,{tabs:i,styled:o},Object(v.f)(O.a,null,r),n&&Object(v.f)(A,null,n))),c&&Object(v.f)(k,{isNarrow:u},c)),s&&Object(v.f)(z,null,s),i&&Object(v.f)(P,null,i))}}]),r}(j.a.Component);x.displayName="UnstyledSettingsPageHeader",x.defaultProps={noTitleStyles:!1};var w=Object(h.a)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),S=Object(h.a)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),R=Object(h.a)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",Object(m.a)(4)," ",Object(m.a)(2)," ",Object(m.a)(3)," 0;"),A=Object(h.a)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",Object(m.a)(1.5)," 0 0;"),q=Object(h.a)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",Object(m.a)(1),";"),k=Object(h.a)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":Object(m.a)(4)}),";"),D=Object(h.a)(x,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",Object(m.a)(4),";"),z=Object(h.a)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",Object(m.a)(3),";"),P=Object(h.a)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});t.a=D},1911:function(e,t,r){"use strict";t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,a="".concat(e," - ").concat(t),c=n?"".concat(a," - ").concat(n):a;return r?"".concat(c," - Sentry"):c}},1934:function(e,t,r){"use strict";var n=r(9),a=r.n(n),c=r(10),i=r.n(c),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(7),b=r.n(f),p=r(3),d=r(1),h=r.n(d),y=r(34),j=r.n(y),O=r(27),m=r(15),v=r(331),g=r(2),x=r(63),w=r(223),S=r(0);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u()(this,r)}}var A=function(e){s()(r,e);var t=R(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:e.props.query||e.props.defaultQuery,dropdownVisible:!1},e.searchInputRef=h.a.createRef(),e.blur=function(){e.searchInputRef.current&&e.searchInputRef.current.blur()},e.onSubmit=function(t){t.preventDefault(),e.blur(),e.props.onSearch(e.state.query)},e.clearSearch=function(){e.setState({query:e.props.defaultQuery},(function(){e.props.onSearch(e.state.query),Object(x.a)(e.props.onChange,e.state.query)}))},e.onQueryFocus=function(){e.setState({dropdownVisible:!0})},e.onQueryBlur=function(){e.setState({dropdownVisible:!1})},e.onQueryChange=function(t){var r=t.target.value;e.setState({query:r}),Object(x.a)(e.props.onChange,r)},e}return i()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width;return Object(S.f)("div",{className:j()("search",t)},Object(S.f)("form",{className:"form-horizontal",onSubmit:this.onSubmit},Object(S.f)("div",null,Object(S.f)(q,{type:"text",className:"search-input",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange,width:r}),Object(S.f)(k,{className:"search-input-icon",size:"sm",color:"gray300"}),this.state.query!==this.props.defaultQuery&&Object(S.f)(D,{type:"button",className:"search-clear-form",priority:"link",onClick:this.clearSearch,size:"xsmall",icon:Object(S.f)(v.a,null),label:Object(g.b)("Clear")}))))}}]),r}(h.a.PureComponent);A.displayName="SearchBar",A.defaultProps={query:"",defaultQuery:"",onSearch:function(){}};var q=Object(p.a)(w.a,{target:"e5a9jdx0",label:"StyledInput"})("width:",(function(e){return e.width?e.width:void 0}),";&.focus-visible{box-shadow:inset 0 2px 0 rgba(0,0,0,0.04),0 0 6px rgba(177,171,225,0.3);border-color:#a598b2;outline:none;}"),k=Object(p.a)(m.mb,{target:"e5a9jdx1",label:"StyledIconSearch"})({name:"nte755",styles:"position:absolute;top:50%;transform:translateY(-50%);left:14px;"}),D=Object(p.a)(O.b,{target:"e5a9jdx2",label:"SearchClearButton"})("position:absolute;top:50%;height:16px;transform:translateY(-50%);right:10px;font-size:",(function(e){return e.theme.fontSizeLarge}),";color:",(function(e){return e.theme.gray200}),";&:hover{color:",(function(e){return e.theme.gray300}),";}");t.a=A},1951:function(e,t,r){"use strict";r(1);var n=r(18),a=r(185),c=r(0);function i(e){var t=e.className,r=e.bytes;return Object(c.f)("span",{className:t},Object(a.a)({value:Object(n.j)(r),fixed:"xx KB"}))}i.displayName="FileSize",t.a=i},2045:function(e,t,r){"use strict";var n=r(9),a=r.n(n),c=r(10),i=r.n(c),o=r(11),s=r.n(o),l=r(12),u=r.n(l),f=r(7),b=r.n(f),p=r(1),d=r.n(p),h=r(36),y=r(226),j=r(54);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b()(e);if(t){var a=b()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u()(this,r)}}var m=function(e){s()(r,e);var t=O(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"hasRole",value:function(){var e,t=h.default.get("user"),r=this.props,n=r.organization,a=r.role,c=n.availableRoles,i=null!==(e=n.role)&&void 0!==e?e:"";if(!t)return!1;if(t.isSuperuser)return!0;if(!Array.isArray(c))return!1;var o=c.map((function(e){return e.id}));if(!o.includes(a)||!o.includes(i))return!1;var s=o.indexOf(a);return o.indexOf(i)>=s}},{key:"render",value:function(){var e=this.props.children,t=this.hasRole();return Object(y.a)(e)?e({hasRole:t}):t&&e?e:null}}]),r}(d.a.Component);m.displayName="Role",t.a=Object(j.a)(m)},2916:function(e,t,r){"use strict";r.r(t);var n=r(20),a=r.n(n),c=r(29),i=r.n(c),o=r(8),s=r.n(o),l=r(9),u=r.n(l),f=r(10),b=r.n(f),p=r(187),d=r.n(p),h=r(11),y=r.n(h),j=r(12),O=r.n(j),m=r(7),v=r.n(m),g=r(3),x=r(1),w=r.n(x),S=r(33),R=r(326),A=r(27),q=r(76),k=r(137),D=r(694),z=r(96),P=r(1934),C=r(297),N=r(31),T=r(442),I=r(15),E=r(2),Q=r(6),U=r(88),B=r(78),F=r(1911),L=r(1898),W=r(1899),M=r(2045),V=r(1951),Y=r(330),H=r(155),J=r(0),G=function(e){var t=e.artifact,r=e.onDelete,n=e.downloadUrl,a=e.downloadRole,c=t.name,i=t.size,o=t.dateCreated,s=t.id,l=t.dist,u=function(){r(s)};return Object(J.f)(w.a.Fragment,null,Object(J.f)(K,null,Object(J.f)(Z,null,c||"(".concat(Object(E.b)("empty"),")")),Object(J.f)($,null,Object(J.f)(ee,null,Object(J.f)(I.m,{size:"sm"}),Object(J.f)(H.a,{date:o})),Object(J.f)(te,{type:l?"info":void 0,tooltipText:l?void 0:Object(E.b)("No distribution set")},null!=l?l:Object(E.b)("none")))),Object(J.f)(_,null,Object(J.f)(V.a,{bytes:i})),Object(J.f)(X,null,Object(J.f)(q.a,{gap:.5},Object(J.f)(M.a,{role:a},(function(e){var t=e.hasRole;return Object(J.f)(N.a,{title:Object(E.b)("You do not have permission to download artifacts."),disabled:t},Object(J.f)(A.b,{size:"small",icon:Object(J.f)(I.t,{size:"sm"}),disabled:!t,href:n,title:t?Object(E.b)("Download Artifact"):void 0}))})),Object(J.f)(R.a,{access:["project:releases"]},(function(e){var t=e.hasAccess;return Object(J.f)(N.a,{disabled:t,title:Object(E.b)("You do not have permission to delete artifacts.")},Object(J.f)(k.a,{message:Object(E.b)("Are you sure you want to remove this artifact?"),onConfirm:u,disabled:!t},Object(J.f)(A.b,{size:"small",icon:Object(J.f)(I.r,{size:"sm"}),title:t?Object(E.b)("Remove Artifact"):void 0,label:Object(E.b)("Remove Artifact"),disabled:!t})))})))))};G.displayName="SourceMapsArtifactRow";var K=Object(g.a)("div",{target:"e1jnqxjx0",label:"NameColumn"})({name:"18f4n7l",styles:"display:flex;flex-direction:column;align-items:flex-start;justify-content:center;"}),_=Object(g.a)("div",{target:"e1jnqxjx1",label:"SizeColumn"})({name:"12eyeq8",styles:"display:flex;justify-content:flex-end;text-align:right;align-items:center;"}),X=Object(g.a)(_,{target:"e1jnqxjx2",label:"ActionsColumn"})(),Z=Object(g.a)("div",{target:"e1jnqxjx3",label:"Name"})("padding-right:",Object(Q.a)(4),";overflow-wrap:break-word;word-break:break-all;"),$=Object(g.a)("div",{target:"e1jnqxjx4",label:"TimeAndDistWrapper"})("width:100%;display:flex;margin-top:",Object(Q.a)(1),";align-items:center;"),ee=Object(g.a)("div",{target:"e1jnqxjx5",label:"TimeWrapper"})("display:grid;grid-gap:",Object(Q.a)(.5),";grid-template-columns:min-content 1fr;font-size:",(function(e){return e.theme.fontSizeMedium}),";align-items:center;color:",(function(e){return e.theme.subText}),";"),te=Object(g.a)(Y.b,{target:"e1jnqxjx6",label:"StyledTag"})("margin-left:",Object(Q.a)(1),";"),re=G;function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var a=v()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return O()(this,r)}}var ie=function(e){y()(r,e);var t=ce(r);function r(){var e;u()(this,r);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).handleSearch=function(t){var r=e.props,n=r.location;r.router.push(ae(ae({},n),{},{query:ae(ae({},n.query),{},{cursor:void 0,query:t})}))},e.handleArtifactDelete=function(){var t=i()(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(S.b)(Object(E.b)("Removing artifact…")),t.prev=1,t.next=4,e.api.requestPromise("".concat(e.getArtifactsUrl()).concat(r,"/"),{method:"DELETE"});case 4:e.fetchData(),Object(S.c)(Object(E.b)("Artifact removed.")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(S.a)(Object(E.b)("Unable to remove artifact. Please try again."));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleArchiveDelete=i()(a.a.mark((function t(){var r,n,c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.params,n=r.orgId,c=r.projectId,i=r.name,Object(S.b)(Object(E.b)("Removing artifacts…")),t.prev=2,t.next=5,e.api.requestPromise("/projects/".concat(n,"/").concat(c,"/files/source-maps/"),{method:"DELETE",query:{name:i}});case 5:e.fetchData(),Object(S.c)(Object(E.b)("Artifacts removed.")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Object(S.a)(Object(E.b)("Unable to remove artifacts. Please try again."));case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),e}return b()(r,[{key:"getTitle",value:function(){var e=this.props.params,t=e.projectId,r=e.name;return Object(F.a)(Object(E.b)("Archive %s",Object(U.i)(r)),t,!1)}},{key:"getDefaultState",value:function(){return ae(ae({},d()(v()(r.prototype),"getDefaultState",this).call(this)),{},{artifacts:[]})}},{key:"getEndpoints",value:function(){return[["artifacts",this.getArtifactsUrl(),{query:{query:this.getQuery()}}]]}},{key:"getArtifactsUrl",value:function(){var e=this.props.params,t=e.orgId,r=e.projectId,n=e.name;return"/projects/".concat(t,"/").concat(r,"/releases/").concat(encodeURIComponent(n),"/files/")}},{key:"getQuery",value:function(){var e=this.props.location.query.query;return Object(B.d)(e)}},{key:"getEmptyMessage",value:function(){return this.getQuery()?Object(E.b)("There are no artifacts that match your search."):Object(E.b)("There are no artifacts in this archive.")}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderArtifacts",value:function(){var e=this,t=this.props.organization,r=this.state.artifacts,n=this.api.baseUrl+this.getArtifactsUrl();return r.length?r.map((function(r){return Object(J.f)(re,{key:r.id,artifact:r,onDelete:e.handleArtifactDelete,downloadUrl:"".concat(n).concat(r.id,"/?download=1"),downloadRole:t.debugFilesRole})})):null}},{key:"renderBody",value:function(){var e=this,t=this.state,r=t.loading,n=t.artifacts,a=t.artifactsPageLinks,c=this.props.params,i=c.name,o=c.orgId,s=this.props.project;return Object(J.f)(w.a.Fragment,null,Object(J.f)(oe,{title:Object(J.f)(se,null,Object(E.b)("Archive")," ",Object(J.f)(C.a,null,Object(J.f)(T.a,{version:i,tooltipRawVersion:!0,anchor:!1,truncate:!0}))),action:Object(J.f)(le,{gap:1},Object(J.f)(fe,{to:"/organizations/".concat(o,"/releases/").concat(encodeURIComponent(i),"/?project=").concat(s.id)},Object(E.b)("Go to Release")),Object(J.f)(R.a,{access:["project:releases"]},(function(t){var r=t.hasAccess;return Object(J.f)(N.a,{disabled:r,title:Object(E.b)("You do not have permission to delete artifacts.")},Object(J.f)(k.a,{message:Object(E.b)("Are you sure you want to remove all artifacts in this archive?"),onConfirm:e.handleArchiveDelete,disabled:!r},Object(J.f)(A.b,{icon:Object(J.f)(I.r,{size:"sm"}),title:Object(E.b)("Remove All Artifacts"),label:Object(E.b)("Remove All Artifacts"),disabled:!r})))})),Object(J.f)(P.a,{placeholder:Object(E.b)("Filter artifacts"),onSearch:this.handleSearch,query:this.getQuery()}))}),Object(J.f)(ue,{headers:[Object(E.b)("Artifact"),Object(J.f)(be,{key:"size"},Object(E.b)("File Size")),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===n.length,isLoading:r},this.renderArtifacts()),Object(J.f)(D.a,{pageLinks:a}))}}]),r}(L.a),oe=Object(g.a)(W.a,{target:"eowt3d40",label:"StyledSettingsPageHeader"})("> div{@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){display:block;}> div{min-width:0;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){margin-bottom:",Object(Q.a)(2),";}}}"),se=Object(g.a)("div",{target:"eowt3d41",label:"Title"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),le=Object(g.a)(q.a,{target:"eowt3d42",label:"StyledButtonBar"})({name:"1fn0841",styles:"justify-content:flex-start;"}),ue=Object(g.a)(z.g,{target:"eowt3d43",label:"StyledPanelTable"})({name:"1c6jupv",styles:"grid-template-columns:minmax(220px,1fr) max-content 120px;"}),fe=Object(g.a)(A.b,{target:"eowt3d44",label:"ReleaseButton"})({name:"epvm6",styles:"white-space:nowrap;"}),be=Object(g.a)("div",{target:"eowt3d45",label:"SizeColumn"})({name:"s2uf1z",styles:"text-align:right;"});t.default=ie}}]);
//# sourceMappingURL=ProjectSourceMapsDetail.js.map