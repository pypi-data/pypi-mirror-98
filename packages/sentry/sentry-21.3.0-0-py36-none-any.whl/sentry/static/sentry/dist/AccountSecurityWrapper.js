(window.sntryWpJsonp=window.sntryWpJsonp||[]).push([[38],{2783:function(t,e,n){"use strict";n.r(e);var r=n(20),a=n.n(r),o=n(29),c=n.n(o),u=n(9),i=n.n(u),s=n(10),l=n.n(s),p=n(11),f=n.n(p),d=n(12),h=n.n(d),v=n(7),g=n.n(v),b=n(1),m=n.n(b),y=n(33),k=n(693),w=n(2),E=n(18);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var x="/users/me/authenticators/",D=function(t){f()(n,t);var e=R(n);function n(){var t;i()(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(t=e.call.apply(e,[this].concat(o))).handleDisable=function(){var e=c()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.authId){e.next=2;break}return e.abrupt("return");case 2:return t.setState({loading:!0}),e.prev=3,e.next=6,t.api.requestPromise("".concat(x).concat(n.authId,"/"),{method:"DELETE"});case 6:t.remountComponent(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState({loading:!1}),Object(y.a)(Object(w.b)("Error disabling %s",n.name));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),t.handleRegenerateBackupCodes=c()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.prev=1,e.next=4,t.api.requestPromise("".concat(x).concat(t.props.params.authId,"/"),{method:"PUT"});case 4:t.remountComponent(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),t.setState({loading:!1}),Object(y.a)(Object(w.b)("Error regenerating backup codes"));case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),t}return l()(n,[{key:"getEndpoints",value:function(){return[["authenticators",x],["organizations","/organizations/"]]}},{key:"renderBody",value:function(){var t=this.props.children,e=this.state,n=e.authenticators,r=e.organizations,a=((null==n?void 0:n.filter((function(t){return t.isEnrolled&&!t.isBackupInterface})))||[]).length,o=(null==r?void 0:r.filter((function(t){return t.require2FA})))||[],c=o.length>0&&1===a;return Object(E.d)(t)?m.a.cloneElement(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:n,deleteDisabled:c,orgsRequire2fa:o,countEnrolled:a}):null}}]),n}(k.a);e.default=D}}]);
//# sourceMappingURL=AccountSecurityWrapper.js.map