parameters:
  databricksbundle:
    databricksConnect:
      connection:
        address: 'https://dbc-123.cloud.databricks.com'
        token: 'abcd123456'
        clusterId: '0416-084917-doles835'

  datalake:
    basePath: '/foo/bar'

  datalakebundle:
    table:
      nameTemplate: '%kernel.environment%_{identifier}'
      defaults:
        encrypted: !expr 'dbIdentifier[-1:] == "e"'
        dbIdentifierBase: !expr 'dbIdentifier[:dbIdentifier.find("_")]'
        targetPath:
          resolverClass: 'datalakebundle.test.TargetPathResolver'
          resolverArguments:
            - '%datalake.basePath%'

    tables:
      mydatabase_e.my_table:
        schemaLoader: 'datalakebundle.test.TestSchema:getSchema'

      mydatabase_p.another_table:
        schemaLoader: 'datalakebundle.test.AnotherSchema:getSchema'
        partitionBy: ['date']
