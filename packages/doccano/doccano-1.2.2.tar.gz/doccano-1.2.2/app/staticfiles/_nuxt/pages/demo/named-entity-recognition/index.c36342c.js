(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1099:function(t,e,n){"use strict";n.r(e);n(29),n(526),n(115);var r=n(500),o={layout:"demo",components:{EntityItemBox:n(592).a,ListMetadata:r.a},data:function(){return{items:[{id:4,text:"LOC",prefixKey:null,suffixKey:"l",backgroundColor:"#7c20e0",textColor:"#ffffff"},{id:5,text:"MISC",prefixKey:null,suffixKey:"m",backgroundColor:"#fbb028",textColor:"#000000"},{id:6,text:"ORG",prefixKey:null,suffixKey:"o",backgroundColor:"#e6d176",textColor:"#000000"},{id:7,text:"PER",prefixKey:null,suffixKey:"p",backgroundColor:"#6a74b9",textColor:"#ffffff"}],currentDoc:{id:8,text:"After bowling Somerset out for 83 on the opening morning at Grace Road , Leicestershire extended their first innings by 94 runs before being bowled out for 296 with England discard Andy Caddick taking three for 83 .",annotations:[{id:17,prob:0,label:4,startOffset:60,endOffset:70,user:1,document:8},{id:19,prob:0,label:4,startOffset:165,endOffset:172,user:1,document:8},{id:16,prob:0,label:6,startOffset:14,endOffset:22,user:1,document:8},{id:18,prob:0,label:6,startOffset:73,endOffset:87,user:1,document:8},{id:20,prob:0,label:7,startOffset:181,endOffset:193,user:1,document:8}],meta:'{"wikiPageId":2}',annotation_approver:null}}},methods:{removeEntity:function(t){this.currentDoc.annotations=this.currentDoc.annotations.filter((function(e){return e.id!==t}))},updateEntity:function(t,e){var n=this.currentDoc.annotations.findIndex((function(t){return t.id===e}));this.currentDoc.annotations[n].label=t},addEntity:function(t,e,n){var r={id:Math.floor(Math.random()*Math.floor(Number.MAX_SAFE_INTEGER)),startOffset:t,endOffset:e,label:n};this.currentDoc.annotations.push(r)}}},l=n(28),c=n(32),f=n.n(c),d=n(506),h=n(490),v=n(507),y=n(481),m=n(487),x=n(508),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-main",[n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-card",[n("v-card-text",{staticClass:"title"},[n("entity-item-box",{attrs:{labels:t.items,text:t.currentDoc.text,entities:t.currentDoc.annotations,"delete-annotation":t.removeEntity,"update-entity":t.updateEntity,"add-entity":t.addEntity}})],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"3"}},[n("list-metadata",{attrs:{metadata:JSON.parse(t.currentDoc.meta)}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VCard:d.a,VCardText:h.b,VCol:v.a,VContainer:y.a,VMain:m.a,VRow:x.a})},500:function(t,e,n){"use strict";var r=n(17),o=(n(9),n(7),n(143),n(2).a.extend({props:{metadata:{type:Object,default:function(){return{}},required:!0}},data:function(){return{headers:[{text:this.$t("annotation.key"),align:"left",value:"key",sortable:!1},{text:this.$t("annotation.value"),align:"left",value:"value",sortable:!1}]}},computed:{metaArray:function(){for(var t=[],e=0,n=Object.entries(this.metadata);e<n.length;e++){var o=Object(r.a)(n[e],2),l=o[0],c=o[1];t.push({key:l,value:c})}return t}}})),l=n(28),c=n(32),f=n.n(c),d=n(1095),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("v-data-table",{staticClass:"elevation-1",attrs:{headers:this.headers,items:this.metaArray,"item-key":"key","hide-default-footer":"","no-data-text":this.$t("vuetify.noDataAvailable"),"disable-pagination":""}})}),[],!1,null,null,null);e.a=component.exports;f()(component,{VDataTable:d.a})},507:function(t,e,n){"use strict";n(14),n(10),n(62),n(34),n(35);var r=n(5),o=(n(42),n(180),n(54),n(9),n(7),n(11),n(29),n(245),n(2)),l=n(73),c=n(3);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],v=h.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),y=h.reduce((function(t,e){return t["offset"+Object(c.G)(e)]={type:[String,Number],default:null},t}),{}),m=h.reduce((function(t,e){return t["order"+Object(c.G)(e)]={type:[String,Number],default:null},t}),{}),x={col:Object.keys(v),offset:Object.keys(y),order:Object.keys(m)};function O(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var w=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:d(d(d(d({cols:{type:[Boolean,String,Number],default:!1}},v),{},{offset:{type:[String,Number],default:null}},y),{},{order:{type:[String,Number],default:null}},m),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,c=(e.parent,"");for(var f in n)c+=String(n[f]);var d=w.get(c);return d||function(){var t,e;for(e in d=[],x)x[e].forEach((function(t){var r=n[t],o=O(e,t,r);o&&d.push(o)}));var o=d.some((function(t){return t.startsWith("col-")}));d.push((t={col:!o||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),w.set(c,d)}(),t(n.tag,Object(l.a)(data,{class:d}),o)}})},508:function(t,e,n){"use strict";n(14),n(10);var r=n(5),o=(n(42),n(180),n(54),n(9),n(7),n(11),n(34),n(35),n(245),n(2)),l=n(73),c=n(3);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],v=["start","end","center"];function y(t,e){return h.reduce((function(n,r){return n[t+Object(c.G)(r)]=e(),n}),{})}var m=function(t){return[].concat(v,["baseline","stretch"]).includes(t)},x=y("align",(function(){return{type:String,default:null,validator:m}})),O=function(t){return[].concat(v,["space-between","space-around"]).includes(t)},w=y("justify",(function(){return{type:String,default:null,validator:O}})),j=function(t){return[].concat(v,["space-between","space-around","stretch"]).includes(t)},k=y("alignContent",(function(){return{type:String,default:null,validator:j}})),C={align:Object.keys(x),justify:Object.keys(w),alignContent:Object.keys(k)},S={align:"align",justify:"justify",alignContent:"align-content"};function _(t,e,n){var r=S[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var E=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:d(d(d({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:m}},x),{},{justify:{type:String,default:null,validator:O}},w),{},{alignContent:{type:String,default:null,validator:j}},k),render:function(t,e){var n=e.props,data=e.data,o=e.children,c="";for(var f in n)c+=String(n[f]);var d=E.get(c);return d||function(){var t,e;for(e in d=[],C)C[e].forEach((function(t){var r=n[t],o=_(e,t,r);o&&d.push(o)}));d.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(t,"align-".concat(n.align),n.align),Object(r.a)(t,"justify-".concat(n.justify),n.justify),Object(r.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),E.set(c,d)}(),t(n.tag,Object(l.a)(data,{staticClass:"row",class:d}),o)}})},526:function(t,e,n){var r=n(27);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},527:function(t,e,n){var content=n(571);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("a0f3ba92",content,!0,{sourceMap:!1})},528:function(t,e,n){var content=n(573);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(25).default)("75426781",content,!0,{sourceMap:!1})},570:function(t,e,n){"use strict";var r=n(527);n.n(r).a},571:function(t,e,n){(e=n(24)(!1)).push([t.i,'.highlight.blue[data-v-292bb175]{background:#edf4fa!important}.highlight.bottom[data-v-292bb175]{display:block;white-space:normal}.highlight[data-v-292bb175]:first-child{margin-left:0}.highlight[data-v-292bb175]{border:2px solid;margin:4px 6px 4px 3px;vertical-align:middle;box-shadow:2px 4px 20px rgba(0,0,0,.1);position:relative;cursor:default;min-width:26px;line-height:22px;display:flex}.highlight .delete[data-v-292bb175]{top:-15px;left:-13px;position:absolute;display:none}.highlight:hover .delete[data-v-292bb175]{display:block}.highlight__content[data-v-292bb175]{display:flex;flex-wrap:wrap;align-items:center;padding:2px 2px 0 6px}.highlight.bottom .highlight__content[data-v-292bb175]:after{content:" ";padding-right:3px}.highlight__label[data-v-292bb175]{line-height:14px;align-items:center;justify-content:center;display:flex;padding:0 8px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.highlight__label[data-v-292bb175]:after{content:attr(data-label);display:block;font-size:14px;-webkit-font-smoothing:subpixel-antialiased;letter-spacing:.1em}.newline[data-v-292bb175]{width:100%}',""]),t.exports=e},572:function(t,e,n){"use strict";var r=n(528);n.n(r).a},573:function(t,e,n){(e=n(24)(!1)).push([t.i,".highlight-container.highlight-container--bottom-labels[data-v-c66bed24]{align-items:flex-start}.highlight-container[data-v-c66bed24]{line-height:42px!important;display:flex;flex-wrap:wrap;white-space:pre-wrap;cursor:default}.highlight-container.highlight-container--bottom-labels .highlight.bottom[data-v-c66bed24]{margin-top:6px}",""]),t.exports=e},592:function(t,e,n){"use strict";n(9),n(46),n(10),n(42),n(44),n(20),n(18),n(19),n(7),n(47);var r=n(48),o={props:{content:{type:String,default:"",required:!0},label:{type:String,default:""},color:{type:String,default:"#64FFDA"},labels:{type:Array,default:function(){return[]},required:!0},newline:{type:Boolean}},data:function(){return{showMenu:!1}},computed:{textColor:function(){return t=this.color,(299*parseInt(t.substr(1,2),16)+587*parseInt(t.substr(3,2),16)+114*parseInt(t.substr(5,2),16))/1e3<128?"#ffffff":"#000000";var t}},methods:{update:function(label){this.$emit("update",label),this.showMenu=!1},remove:function(){this.$emit("remove")}}},l=(n(570),n(28)),c=n(32),f=n.n(c),d=n(171),h=n(172),v=n(107),y=n(173),m=n(39),x=n(473),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.label?n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("span",t._g({staticClass:"highlight bottom",style:{borderColor:t.color}},r),[n("span",{staticClass:"highlight__content"},[t._v(t._s(t.content)),n("v-icon",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[t._v("mdi-close-circle")])],1),n("span",{staticClass:"highlight__label",style:{backgroundColor:t.color,color:t.textColor},attrs:{"data-label":t.label}})])]}}],null,!1,3841481336),model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[t._v(" "),n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","min-width":"150","max-height":"400"}},t._l(t.labels,(function(e,i){return n("v-list-item",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:[e.suffixKey],expression:"[item.suffixKey]",modifiers:{once:!0}}],key:i,on:{shortkey:function(n){return t.update(e)},click:function(n){return t.update(e)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1),t._v(" "),n("v-list-item-action",[n("v-list-item-action-text",{domProps:{textContent:t._s(e.suffixKey)}})],1)],1)})),1)],1):n("span",{class:[t.newline?"newline":""]},[t._v(t._s(t.content))])}),[],!1,null,"292bb175",null),O=component.exports;function w(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}f()(component,{VIcon:d.a,VList:h.a,VListItem:v.a,VListItemAction:y.a,VListItemActionText:m.a,VListItemContent:m.b,VListItemTitle:m.d,VMenu:x.a});var k={components:{EntityItem:O},props:{text:{type:String,default:"",required:!0},labels:{type:Array,default:function(){return[]},required:!0},entities:{type:Array,default:function(){return[]},required:!0},deleteAnnotation:{type:Function,default:function(){return[]},required:!0},updateEntity:{type:Function,default:function(){return[]},required:!0},addEntity:{type:Function,default:function(){return[]},required:!0}},data:function(){return{showMenu:!1,x:0,y:0,start:0,end:0}},computed:{sortedEntities:function(){return this.entities.slice().sort((function(a,b){return a.startOffset-b.startOffset}))},chunks:function(){var t,e=[],n=0,o=Object(r.a)(this.text),l=w(this.sortedEntities);try{for(l.s();!(t=l.n()).done;){var c=t.value,f=o.slice(n,c.startOffset).join("");e=e.concat(this.makeChunks(f)),n=c.endOffset;var label=this.labelObject[c.label];f=o.slice(c.startOffset,c.endOffset).join(""),e.push({id:c.id,label:label.text,color:label.backgroundColor,text:f})}}catch(t){l.e(t)}finally{l.f()}return e=e.concat(this.makeChunks(o.slice(n,o.length).join(""))),e},labelObject:function(){var t,e={},n=w(this.labels);try{for(n.s();!(t=n.n()).done;){var label=t.value;e[label.id]=label}}catch(t){n.e(t)}finally{n.f()}return e}},methods:{makeChunks:function(text){var t,e=[],n=text.split("\n"),r=w(n.slice(0,-1));try{for(r.s();!(t=r.n()).done;){var o=t.value;e.push({label:null,color:null,text:o+"\n",newline:!1}),e.push({label:null,color:null,text:"",newline:!0})}}catch(t){r.e(t)}finally{r.f()}return e.push({label:null,color:null,text:n.slice(-1)[0],newline:!1}),e},show:function(t){var e=this;t.preventDefault(),this.showMenu=!1,this.x=t.clientX||t.changedTouches[0].clientX,this.y=t.clientY||t.changedTouches[0].clientY,this.$nextTick((function(){e.showMenu=!0}))},setSpanInfo:function(){var t;if(window.getSelection?t=window.getSelection():document.selection&&(t=document.selection),!(t.rangeCount<=0)){var e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.$el),n.setEnd(e.startContainer,e.startOffset),this.start=Object(r.a)(n.toString()).length,this.end=this.start+Object(r.a)(e.toString()).length}},validateSpan:function(){if(void 0===this.start||void 0===this.end)return!1;if(this.start===this.end)return!1;var t,e=w(this.entities);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.startOffset<=this.start&&this.start<n.endOffset)return!1;if(n.startOffset<this.end&&this.end<=n.endOffset)return!1;if(this.start<n.startOffset&&n.endOffset<this.end)return!1}}catch(t){e.e(t)}finally{e.f()}return!0},open:function(t){this.setSpanInfo(),this.validateSpan()&&this.show(t)},assignLabel:function(t){this.validateSpan()&&(this.addEntity(this.start,this.end,t),this.showMenu=!1,this.start=0,this.end=0)}}},C=(n(572),Object(l.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"highlight-container highlight-container--bottom-labels",on:{click:t.open,touchend:t.open}},[t._l(t.chunks,(function(e,i){return n("entity-item",{key:i,attrs:{content:e.text,newline:e.newline,label:e.label,color:e.color,labels:t.labels},on:{remove:function(n){return t.deleteAnnotation(e.id)},update:function(n){return t.updateEntity(n.id,e.id)}}})})),t._v(" "),n("v-menu",{attrs:{"position-x":t.x,"position-y":t.y,absolute:"","offset-y":""},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","min-width":"150","max-height":"400"}},t._l(t.labels,(function(label,i){return n("v-list-item",{directives:[{name:"shortkey",rawName:"v-shortkey",value:[label.suffixKey],expression:"[label.suffixKey]"}],key:i,on:{shortkey:function(e){return t.assignLabel(label.id)},click:function(e){return t.assignLabel(label.id)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(label.text)}})],1),t._v(" "),n("v-list-item-action",[n("v-list-item-action-text",{domProps:{textContent:t._s(label.suffixKey)}})],1)],1)})),1)],1)],2)}),[],!1,null,"c66bed24",null));e.a=C.exports;f()(C,{VList:h.a,VListItem:v.a,VListItemAction:y.a,VListItemActionText:m.a,VListItemContent:m.b,VListItemTitle:m.d,VMenu:x.a})}}]);