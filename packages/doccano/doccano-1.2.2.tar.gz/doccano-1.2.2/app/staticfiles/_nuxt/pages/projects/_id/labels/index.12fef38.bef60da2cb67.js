(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{1064:function(e,t,n){"use strict";var r=n(588);n.n(r).a},1065:function(e,t,n){(t=n(24)(!1)).push([e.i,"[data-v-80df0704] .v-dialog{width:800px}",""]),e.exports=t},1090:function(e,t,n){"use strict";n.r(t);n(16);var r=n(1),o=n(2),l=n(594),c=o.a.extend({components:{ActionMenu:l.a},computed:{items:function(){return[{title:this.$t("labels.createLabel"),icon:"mdi-pencil",event:"create"},{title:this.$t("labels.importLabels"),icon:"mdi-upload",event:"upload"},{title:this.$t("labels.exportLabels"),icon:"mdi-download",event:"download"}]}}}),d=n(28),f=Object(d.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("action-menu",{attrs:{items:e.items,text:e.$t("dataset.actions")},on:{create:function(t){return e.$emit("create")},upload:function(t){return e.$emit("upload")},download:function(t){return e.$emit("download")}}})}),[],!1,null,null,null).exports,m=(n(47),n(34),n(35),n(492)),v=o.a.extend({components:{BaseCard:m.a},props:{text:{type:String,default:"",required:!0},suffixKey:{type:String,default:null},backgroundColor:{type:String,default:"#ffffff",required:!0},usedNames:{type:Array,default:function(){return[]},required:!0},usedKeys:{type:Array,default:function(){return[]},required:!0}},data:function(){var e=this;return{valid:!1,rules:{required:function(e){return!!e||"Required"},counter:function(t){return t&&t.length<=100||e.$t("rules.labelNameRules").labelLessThan100Chars},nameDuplicated:function(t){return!e.usedNames.includes(t)||e.$t("rules.labelNameRules").duplicated},keyDuplicated:function(t){return!e.usedKeys.includes(t)||e.$t("rules.keyNameRules").duplicated}}}},computed:{shortkeys:function(){return"0123456789abcdefghijklmnopqrstuvwxyz".split("")}},methods:{updateValue:function(e,t){this.$emit("update:".concat(e),t)}}}),h=n(32),x=n.n(h),y=n(1098),_=n(563),$=n(532),k=n(498),C=Object(d.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-card",{attrs:{disabled:!e.valid,title:e.$t("labels.createLabel"),"agree-text":e.$t("generic.save"),"cancel-text":e.$t("generic.cancel")},on:{agree:function(t){return e.$emit("save")},cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"content",fn:function(){return[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{value:e.text,label:e.$t("labels.labelName"),rules:[e.rules.required,e.rules.counter,e.rules.nameDuplicated],"prepend-icon":"label","single-line":"",counter:"",autofocus:""},on:{input:function(t){return e.updateValue("text",t)}}}),e._v(" "),n("v-select",{attrs:{value:e.suffixKey,items:e.shortkeys,label:e.$t("labels.key"),rules:[e.rules.keyDuplicated],"prepend-icon":"mdi-keyboard"},on:{input:function(t){return e.updateValue("suffixKey",t)}}}),e._v(" "),n("v-color-picker",{attrs:{value:e.backgroundColor,rules:[e.rules.required],"show-swatches":"","hide-mode-switch":"",width:"800"},on:{input:function(t){return e.updateValue("backgroundColor",t)}}})],1)]},proxy:!0}])})}),[],!1,null,null,null),V=C.exports;x()(C,{VColorPicker:y.a,VForm:_.a,VSelect:$.a,VTextField:k.a});var w=n(497),T=o.a.extend({components:{ConfirmForm:w.a},props:{selected:{type:Array,default:function(){return[]}}}}),I=Object(d.a)(T,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("confirm-form",{attrs:{items:e.selected,title:"Delete Label",message:e.$t("labels.deleteMessage"),"item-key":"text"},on:{ok:function(t){return e.$emit("remove")},cancel:function(t){return e.$emit("cancel")}}})}),[],!1,null,null,null).exports,j=n(499),L=o.a.extend({components:{BaseCard:m.a},props:{errorMessage:{type:String,default:""}},data:function(){return{file:null,valid:!1,uploadSingleFileRules:j.i}},computed:{exampleFormat:function(){return JSON.stringify([{text:"Dog",suffix_key:"a",background_color:"#FF0000",text_color:"#ffffff"},{text:"Cat",suffix_key:"c",background_color:"#FF0000",text_color:"#ffffff"}],null,4)}},methods:{cancel:function(){this.$refs.form.reset(),this.$emit("cancel")}}}),R=n(791),F=n(52),S=Object(d.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-card",{attrs:{disabled:!e.valid,title:e.$t("labels.importTitle"),"agree-text":e.$t("generic.upload"),"cancel-text":e.$t("generic.cancel")},on:{agree:function(t){return e.$emit("upload",e.file)},cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("h2",[e._v(e._s(e.$t("labels.importMessage1")))]),e._v(" "),e.exampleFormat?n("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!e.$vuetify.theme.dark,light:e.$vuetify.theme.dark}},[n("pre",[e._v(e._s(e.exampleFormat))])]):e._e(),e._v(" "),n("h2",[e._v(e._s(e.$t("labels.importMessage2")))]),e._v(" "),n("v-file-input",{attrs:{accept:".json","error-messages":e.errorMessage,label:e.$t("labels.filePlaceholder"),rules:e.uploadSingleFileRules(e.$t("rules.uploadFileRules"))},on:{change:function(t){return e.$emit("clear")},"click:clear":function(t){return e.$emit("clear")}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),D=S.exports;x()(S,{VFileInput:R.a,VForm:_.a,VSheet:F.a});var O=o.a.extend({props:{isLoading:{type:Boolean,default:!1,required:!0},items:{type:Array,default:function(){return[]},required:!0},value:{type:Array,default:function(){return[]},required:!0}},data:function(){return{search:""}},computed:{headers:function(){return[{text:this.$t("generic.name"),value:"text"},{text:this.$t("labels.shortkey"),value:"suffixKey"},{text:this.$t("labels.color"),value:"backgroundColor"},{text:"Actions",value:"actions",sortable:!1}]}}}),M=n(605),K=n(1095),N=n(171),A=Object(d.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{value:e.value,headers:e.headers,items:e.items,search:e.search,loading:e.isLoading,"loading-text":e.$t("generic.loading"),"no-data-text":e.$t("vuetify.noDataAvailable"),"footer-props":{showFirstLastPage:!0,"items-per-page-options":[5,10,15,e.$t("generic.all")],"items-per-page-text":e.$t("vuetify.itemsPerPageText"),"page-text":e.$t("dataset.pageText")},"item-key":"id","show-select":""},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-text-field",{attrs:{"prepend-inner-icon":"search",label:e.$t("generic.search"),"single-line":"","hide-details":"",filled:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0},{key:"item.backgroundColor",fn:function(t){return[n("v-chip",{attrs:{color:t.item.backgroundColor,"text-color":e.$contrastColor(t.item.backgroundColor)}},[e._v("\n      "+e._s(t.item.backgroundColor)+"\n    ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{attrs:{small:""},on:{click:function(t){return e.$emit("edit",r)}}},[e._v("\n      mdi-pencil\n    ")])]}}],null,!0)})}),[],!1,null,null,null),E=A.exports;x()(A,{VChip:M.a,VDataTable:K.a,VIcon:N.a,VTextField:k.a});var B=o.a.extend({layout:"project",components:{ActionMenu:f,FormCreate:V,FormDelete:I,FormUpload:D,LabelList:E},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$services.label.list(e.projectId);case 3:e.items=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{dialogCreate:!1,dialogDelete:!1,dialogUpload:!1,editedIndex:-1,editedItem:{text:"",prefixKey:null,suffixKey:null,backgroundColor:"#2196F3",textColor:"#ffffff"},defaultItem:{text:"",prefixKey:null,suffixKey:null,backgroundColor:"#2196F3",textColor:"#ffffff"},items:[],selected:[],isLoading:!1,errorMessage:""}},computed:{canDelete:function(){return this.selected.length>0},projectId:function(){return this.$route.params.id},usedNames:function(){var e=this.items[this.editedIndex];return this.items.filter((function(t){return t!==e})).map((function(e){return e.text}))},usedKeys:function(){var e=this.items[this.editedIndex];return this.items.filter((function(t){return t!==e})).map((function(e){return e.suffixKey})).filter((function(e){return null!==e}))}},methods:{create:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.label.create(e.projectId,e.editedItem);case 2:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.label.update(e.projectId,e.editedItem);case 2:case"end":return t.stop()}}),t)})))()},save:function(){this.editedIndex>-1?this.update():this.create(),this.$fetch(),this.close()},close:function(){var e=this;this.dialogCreate=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},remove:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.label.bulkDelete(e.projectId,e.selected);case 2:e.$fetch(),e.dialogDelete=!1,e.selected=[];case 5:case"end":return t.stop()}}),t)})))()},download:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.label.export(e.projectId);case 2:case"end":return t.stop()}}),t)})))()},upload:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$services.label.upload(t.projectId,e);case 3:t.$fetch(),t.closeUpload(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t.errorMessage=n.t0.message;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},closeUpload:function(){this.clearErrorMessage(),this.dialogUpload=!1},clearErrorMessage:function(){this.errorMessage=""},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogCreate=!0}},validate:function(e){var t=e.params;return/^\d+$/.test(t.id)}}),U=(n(1064),n(192)),z=n(506),P=n(490),J=n(569),Y=Object(d.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("action-menu",{on:{create:function(t){e.dialogCreate=!0},upload:function(t){e.dialogUpload=!0},download:e.download}}),e._v(" "),n("v-btn",{staticClass:"text-capitalize ms-2",attrs:{disabled:!e.canDelete,outlined:""},on:{click:function(t){t.stopPropagation(),e.dialogDelete=!0}}},[e._v("\n      "+e._s(e.$t("generic.delete"))+"\n    ")]),e._v(" "),n("v-dialog",{model:{value:e.dialogCreate,callback:function(t){e.dialogCreate=t},expression:"dialogCreate"}},[n("form-create",e._b({attrs:{"used-keys":e.usedKeys,"used-names":e.usedNames},on:{cancel:e.close,save:e.save}},"form-create",e.editedItem,!1,!0))],1),e._v(" "),n("v-dialog",{model:{value:e.dialogUpload,callback:function(t){e.dialogUpload=t},expression:"dialogUpload"}},[n("form-upload",{attrs:{"error-message":e.errorMessage},on:{cancel:e.closeUpload,clear:e.clearErrorMessage,upload:e.upload}})],1),e._v(" "),n("v-dialog",{model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("form-delete",{attrs:{selected:e.selected},on:{cancel:function(t){e.dialogDelete=!1},remove:e.remove}})],1)],1),e._v(" "),n("label-list",{attrs:{items:e.items,"is-loading":e.isLoading},on:{edit:e.editItem},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,"80df0704",null);t.default=Y.exports;x()(Y,{VBtn:U.a,VCard:z.a,VCardTitle:P.c,VDialog:J.a})},492:function(e,t,n){"use strict";var r=n(2).a.extend({props:{title:{type:String,default:"",required:!0},cancelText:{type:String,default:""},agreeText:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{agree:function(){this.$emit("agree")},cancel:function(){this.$emit("cancel")}}}),o=n(28),l=n(32),c=n.n(l),d=n(192),f=n(506),m=n(490),v=n(556),h=n(53),x=n(181),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-toolbar",{attrs:{color:"primary white--text",flat:""}},[n("v-toolbar-title",[e._v(e._s(e.title))])],1),e._v(" "),n("v-card-text",{staticClass:"text--primary mt-3 pl-4"},[e._t("content")],2),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),e.cancelText?n("v-btn",{staticClass:"text-capitalize",attrs:{text:"",color:"primary","data-test":"cancel-button"},on:{click:e.cancel}},[e._v("\n      "+e._s(e.cancelText)+"\n    ")]):e._e(),e._v(" "),e.agreeText?n("v-btn",{staticClass:"text-none",attrs:{disabled:e.disabled,text:"","data-test":"delete-button"},on:{click:e.agree}},[e._v("\n      "+e._s(e.agreeText)+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCard:f.a,VCardActions:m.a,VCardText:m.b,VSpacer:v.a,VToolbar:h.a,VToolbarTitle:x.a})},497:function(e,t,n){"use strict";var r=n(2),o=n(492),l=r.a.extend({components:{BaseCard:o.a},props:{title:{type:String,default:"",required:!0},message:{type:String,default:"",required:!0},items:{type:Array,default:function(){return[]},required:!1},itemKey:{type:String,default:"",required:!1},buttonTrueText:{type:String,default:"Yes"},buttonFalseText:{type:String,default:"Cancel"}},methods:{ok:function(){this.$emit("ok")},cancel:function(){this.$emit("cancel")}}}),c=n(28),d=n(32),f=n.n(d),m=n(172),v=n(107),h=n(39),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-card",{attrs:{title:e.title,"agree-text":e.buttonTrueText,"cancel-text":e.buttonFalseText},on:{agree:e.ok,cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n    "+e._s(e.message)+"\n    "),n("v-list",{attrs:{dense:""}},e._l(e.items,(function(t,i){return n("v-list-item",{key:i},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t[e.itemKey]))])],1)],1)})),1)]},proxy:!0}])})}),[],!1,null,null,null);t.a=component.exports;f()(component,{VList:m.a,VListItem:v.a,VListItemContent:h.b,VListItemTitle:h.d})},499:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return x}));var r=function(e){return[function(t){return!!t||e.labelRequired},function(t){return t&&t.length<=30||e.labelLessThan30Chars}]},o=function(e){return[function(t){return!!t||e.userNameRequired},function(t){return t&&t.length<=30||e.userNameLessThan30Chars}]},l=function(e){return[function(t){return!!t||e.projectNameRequired},function(t){return t&&t.length<=30||e.projectNameLessThan30Chars}]},c=function(e){return[function(t){return!!t||e.descriptionRequired},function(t){return t&&t.length<=100||e.descriptionLessThan30Chars}]},d=function(e){return[function(t){return!!t||e.projectTypeRequired}]},f=function(e){return[function(t){return!!t||e.fileFormatRequired}]},m=function(e){return[function(t){return!!t||e.fileRequired},function(t){return!t||t.some((function(e){return e.size<1e8}))||e.fileLessThan1MB}]},v=function(e){return[function(t){return!!t||e.fileRequired},function(t){return!t||t.size<1e6||e.fileLessThan1MB}]},h=function(e){return[function(t){return!!t||e.passwordRequired},function(t){return t&&t.length<=30||e.passwordLessThan30Chars}]},x=function(){return[function(e){return!!e||"Name is required"}]}},588:function(e,t,n){var content=n(1065);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("3ec20a82",content,!0,{sourceMap:!1})},594:function(e,t,n){"use strict";var r=n(2).a.extend({props:{text:{type:String,default:"Actions"},items:{type:Array,default:function(){return[]},required:!0}}}),o=n(28),l=n(32),c=n.n(l),d=n(192),f=n(171),m=n(172),v=n(107),h=n(39),x=n(94),y=n(473),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{color:"primary text-capitalize"}},r),[e._v("\n      "+e._s(e.text)+"\n      "),n("v-icon",[e._v("mdi-menu-down")])],1)]}}])},[e._v(" "),n("v-list",e._l(e.items,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.$emit(t.event)}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VIcon:f.a,VList:m.a,VListItem:v.a,VListItemContent:h.b,VListItemIcon:x.a,VListItemTitle:h.d,VMenu:y.a})}}]);