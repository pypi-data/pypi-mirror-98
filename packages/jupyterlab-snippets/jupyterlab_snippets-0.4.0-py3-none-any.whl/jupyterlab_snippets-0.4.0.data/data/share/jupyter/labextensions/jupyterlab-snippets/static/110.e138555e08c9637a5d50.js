(self.webpackChunkjupyterlab_snippets=self.webpackChunkjupyterlab_snippets||[]).push([[110],{110:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o,a=n(275),r=n(919),s=n(245),c=n(419),i=n(290);async function l(e="",t={}){const n=i.ServerConnection.makeSettings(),o=a.URLExt.join(n.baseUrl,"snippets",e);let r;try{r=await i.ServerConnection.makeRequest(o,t,n)}catch(e){throw new i.ServerConnection.NetworkError(e)}const s=await r.json();if(!r.ok)throw new i.ServerConnection.ResponseError(r,s.message);return s}function u(e,t,n=[]){const a=new c.MenuSvg({commands:e});for(const[r,s]of t.entries()){const t=n.concat(r);if(0===s.size)a.addItem({command:o.open,args:{label:r,path:t}});else{const t=u(e,s,n.concat(r));t.title.label=r,t.title.icon=c.folderIcon,a.addItem({type:"submenu",submenu:t})}}return a}!function(e){e.open="snippets:open"}(o||(o={}));const p={id:"jupyterlab-snippets",autoStart:!0,optional:[r.IMainMenu,s.INotebookTracker],activate:async(e,t,n)=>{const{commands:r}=e,i=()=>null!==(null==n?void 0:n.currentWidget)&&(null==n?void 0:n.currentWidget)===e.shell.currentWidget;if(r.addCommand(o.open,{label:e=>e.label,icon:e=>{const t=a.PathExt.extname(e.label);return".py"===t?c.pythonIcon:".sh"===t?c.terminalIcon:c.textEditorIcon},execute:async e=>{const t=e.path,o=(await async function(e){return l("get",{method:"POST",body:JSON.stringify({snippet:e})})}(t)).content;if(!i())return;const a=n.currentWidget.content;s.NotebookActions.insertBelow(a),a.activeCell.model.value.text=o},isEnabled:i}),t){const e=u(r,function(e){const t=new Map;return e.forEach((e=>{let n=t;e.forEach((e=>{n.has(e)||n.set(e,new Map),n=n.get(e)}))})),t}(await async function(){return l("list")}()));e.title.label="Snippets",t.addMenu(e)}}}}}]);