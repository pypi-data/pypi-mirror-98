(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b993de9"],{"03eb":function(t,e,n){"use strict";n("c3da")},"0d41":function(t,e,n){"use strict";n.r(e);n("c975"),n("d81d"),n("b0c0"),n("d3b7"),n("ac1f"),n("841c"),n("ddb0");var a=n("2909"),c=n("7a23"),l=Object(c["K"])("data-v-2ccb9e3d");Object(c["u"])("data-v-2ccb9e3d");var s={class:"nav-container"},i={class:"view-container"},r={class:"track-info-container"},o={key:0,class:"track-info-content"},u={key:0,class:"row file"},d=Object(c["h"])("div",{class:"col-3 attr"},"File",-1),f={key:1,class:"row artist"},b=Object(c["h"])("div",{class:"col-3 attr"},"Artist",-1),h={class:"col-9 value"},O={key:2,class:"row track-title"},j=Object(c["h"])("div",{class:"col-3 attr"},"Title",-1),p={key:3,class:"row album"},v=Object(c["h"])("div",{class:"col-3 attr"},"Album",-1),y={class:"col-9 value"},k={key:4,class:"row date"},m=Object(c["h"])("div",{class:"col-3 attr"},"Date",-1),C={key:5,class:"row duration"},g=Object(c["h"])("div",{class:"col-3 attr"},"Duration",-1),w={key:6,class:"row track"},x=Object(c["h"])("div",{class:"col-3 attr"},"Track",-1),T={key:7,class:"row disc"},$=Object(c["h"])("div",{class:"col-3 attr"},"Disc",-1),P={class:"playlists-modal-container"},S={class:"filter"},A={class:"playlists"},R=Object(c["h"])("i",{class:"fa fa-plus"},null,-1),I=Object(c["g"])(" Â  Add ");Object(c["s"])();var D=l((function(t,e,n,D,L,M){var F=Object(c["z"])("Loading"),_=Object(c["z"])("Nav"),E=Object(c["z"])("Playlist"),z=Object(c["z"])("Playlists"),V=Object(c["z"])("Search"),N=Object(c["z"])("Library"),q=Object(c["z"])("MediaView"),K=Object(c["z"])("Modal"),J=Object(c["z"])("FormFooter");return Object(c["r"])(),Object(c["e"])(c["a"],null,[n.loading?(Object(c["r"])(),Object(c["e"])(F,{key:0})):(Object(c["r"])(),Object(c["e"])(q,{key:1,"plugin-name":n.pluginName,status:n.status,track:M.track,onPlay:e[28]||(e[28]=function(e){return t.$emit("play",e)}),onPause:e[29]||(e[29]=function(e){return t.$emit("pause")}),onStop:e[30]||(e[30]=function(e){return t.$emit("stop")}),onPrevious:e[31]||(e[31]=function(e){return t.$emit("previous")}),onNext:e[32]||(e[32]=function(e){return t.$emit("next")}),onSetVolume:e[33]||(e[33]=function(e){return t.$emit("set-volume",e)}),onSeek:e[34]||(e[34]=function(e){return t.$emit("seek",e)}),onConsume:e[35]||(e[35]=function(e){return t.$emit("consume",e)}),onRepeat:e[36]||(e[36]=function(e){return t.$emit("repeat",e)}),onRandom:e[37]||(e[37]=function(e){return t.$emit("random",e)}),onSearch:M.search},{default:l((function(){return[Object(c["h"])("main",null,[Object(c["h"])("div",s,[Object(c["h"])(_,{"selected-view":L.selectedView,onInput:e[1]||(e[1]=function(t){return L.selectedView=t})},null,8,["selected-view"])]),Object(c["h"])("div",i,["playing"===L.selectedView?(Object(c["r"])(),Object(c["e"])(E,{key:0,tracks:n.tracks,status:n.status,loading:n.loading,onPlay:e[2]||(e[2]=function(e){return t.$emit("play",e)}),onClear:e[3]||(e[3]=function(e){return t.$emit("clear")}),onSwap:e[4]||(e[4]=function(e){return t.$emit("swap-tracks",e)}),onAdd:e[5]||(e[5]=function(e){return t.$emit("add-to-tracklist",e)}),onRemove:e[6]||(e[6]=function(e){return t.$emit("remove-from-tracklist",e)}),onMove:e[7]||(e[7]=function(e){return t.$emit("tracklist-move",e)}),onSave:e[8]||(e[8]=function(e){return t.$emit("tracklist-save",e)}),onInfo:e[9]||(e[9]=function(e){return t.$emit("info",e)}),onAddToPlaylist:M.openAddToPlaylist,onSearch:M.search},null,8,["tracks","status","loading","onAddToPlaylist","onSearch"])):"playlists"===L.selectedView?(Object(c["r"])(),Object(c["e"])(z,{key:1,playlists:n.playlists,loading:n.loading,"edited-playlist":n.editedPlaylist,tracks:n.editedPlaylistTracks,onPlay:e[10]||(e[10]=function(e){return t.$emit("play-playlist",e)}),onLoad:e[11]||(e[11]=function(e){return t.$emit("load-playlist",e)}),onRemove:e[12]||(e[12]=function(e){return t.$emit("remove-playlist",e)}),onPlaylistEdit:e[13]||(e[13]=function(e){return t.$emit("playlist-edit",e)}),onLoadTrack:e[14]||(e[14]=function(e){return t.$emit("add-to-tracklist-from-edited-playlist",e)}),onRemoveTrack:e[15]||(e[15]=function(e){return t.$emit("remove-from-playlist",e)}),onInfo:e[16]||(e[16]=function(e){return t.$emit("info",e)}),onPlaylistAdd:e[17]||(e[17]=function(e){return t.$emit("playlist-add",e)}),onAddToPlaylist:M.openAddToPlaylist,onTrackMove:e[18]||(e[18]=function(e){return t.$emit("playlist-track-move",e)}),onSearch:M.search},null,8,["playlists","loading","edited-playlist","tracks","onAddToPlaylist","onSearch"])):"search"===L.selectedView?(Object(c["r"])(),Object(c["e"])(V,{key:2,loading:n.loading,onSearch:M.search,results:n.searchResults,onClear:e[19]||(e[19]=function(e){return t.$emit("search-clear")}),onInfo:e[20]||(e[20]=function(e){return t.$emit("info",e)}),onPlay:e[21]||(e[21]=function(e){return t.$emit("play",e)}),onLoad:e[22]||(e[22]=function(e){return t.$emit("add-to-tracklist",e)}),onAddToPlaylist:M.openAddToPlaylist},null,8,["loading","onSearch","results","onAddToPlaylist"])):"library"===L.selectedView?(Object(c["r"])(),Object(c["e"])(N,{key:3,loading:n.loading,onSearch:M.search,results:n.libraryResults,path:n.path,onClear:e[23]||(e[23]=function(e){return t.$emit("search-clear")}),onInfo:e[24]||(e[24]=function(e){return t.$emit("info",e)}),onPlay:e[25]||(e[25]=function(e){return t.$emit("play",e)}),onLoad:e[26]||(e[26]=function(e){return t.$emit("add-to-tracklist",e)}),onAddToPlaylist:M.openAddToPlaylist,onCd:e[27]||(e[27]=function(e){return t.$emit("cd",e)})},null,8,["loading","onSearch","results","path","onAddToPlaylist"])):Object(c["f"])("",!0)])])]})),_:1},8,["plugin-name","status","track","onSearch"])),Object(c["h"])("div",r,[Object(c["h"])(K,{title:"Track info",ref:"trackInfo"},{default:l((function(){return[n.trackInfo?(Object(c["r"])(),Object(c["e"])("div",o,[n.trackInfo.file?(Object(c["r"])(),Object(c["e"])("div",u,[d,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.file)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.artist?(Object(c["r"])(),Object(c["e"])("div",f,[b,Object(c["h"])("div",h,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(n.trackInfo.artist),onClick:e[38]||(e[38]=Object(c["J"])((function(t){return M.search({artist:n.trackInfo.artist})}),["prevent"]))},null,8,["href","textContent"])])])):Object(c["f"])("",!0),n.trackInfo.title?(Object(c["r"])(),Object(c["e"])("div",O,[j,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.title)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.album?(Object(c["r"])(),Object(c["e"])("div",p,[v,Object(c["h"])("div",y,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(n.trackInfo.album),onClick:e[39]||(e[39]=Object(c["J"])((function(t){return M.search({artist:n.trackInfo.artist,album:n.trackInfo.album})}),["prevent"]))},null,8,["href","textContent"])])])):Object(c["f"])("",!0),n.trackInfo.date?(Object(c["r"])(),Object(c["e"])("div",k,[m,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.date)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.time?(Object(c["r"])(),Object(c["e"])("div",C,[g,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(t.convertTime(n.trackInfo.time))},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.track?(Object(c["r"])(),Object(c["e"])("div",w,[x,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.track)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.disc?(Object(c["r"])(),Object(c["e"])("div",T,[$,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.disc)},null,8,["textContent"])])):Object(c["f"])("",!0)])):Object(c["f"])("",!0)]})),_:1},512)]),Object(c["h"])("div",P,[Object(c["h"])(K,{title:"Playlists",ref:"playlistsModal",onClose:e[42]||(e[42]=function(t){return L.addToPlaylistTrack=null}),onOpen:e[43]||(e[43]=function(t){return L.selectedPlaylists=Object(a["a"])(Array(n.playlists.length).keys()).map((function(){return!1}))})},{default:l((function(){return[Object(c["h"])("div",S,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[40]||(e[40]=function(t){return L.playlistFilter=t})},null,512),[[c["F"],L.playlistFilter]])])]),Object(c["h"])("div",A,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.playlists,(function(t,e){var n;return Object(c["r"])(),Object(c["e"])("label",{class:["row playlist",{hidden:(null===(n=L.playlistFilter)||void 0===n?void 0:n.length)>0&&t.name.toLowerCase().indexOf(L.playlistFilter.toLowerCase())<0}],key:e},[Object(c["h"])("input",{type:"checkbox",checked:L.selectedPlaylists[e],onChange:function(t){return L.selectedPlaylists[e]=t.target.checked}},null,40,["checked","onChange"]),Object(c["h"])("span",{class:"name",textContent:Object(c["C"])(t.name)},null,8,["textContent"])],2)})),128))]),Object(c["h"])(J,null,{default:l((function(){return[Object(c["h"])("button",{onClick:e[41]||(e[41]=function(){return M.addToPlaylist.apply(M,arguments)})},[R,I])]})),_:1})]})),_:1},512)])],64)})),L=(n("99af"),n("4de4"),n("a9e3"),n("96cf"),n("1da1")),M=Object(c["K"])("data-v-2495ce8a");Object(c["u"])("data-v-2495ce8a");var F={class:"form-footer"};Object(c["s"])();var _=M((function(t,e,n,a,l,s){return Object(c["r"])(),Object(c["e"])("div",F,[Object(c["y"])(t.$slots,"default")])})),E={name:"FormFooter"};n("03eb");E.render=_,E.__scopeId="data-v-2495ce8a";var z=E,V=n("3a5e"),N=n("714b"),q=n("18dc"),K=n("7726"),J=Object(c["K"])("data-v-edee6494"),U=J((function(t,e,n,a,l,s){return Object(c["r"])(),Object(c["e"])("nav",null,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.views,(function(e,a){return Object(c["r"])(),Object(c["e"])("li",{key:a,title:e.displayName,class:{selected:a===n.selectedView},onClick:function(e){return t.$emit("input",a)}},[Object(c["h"])("i",{class:e.iconClass},null,2)],10,["title","onClick"])})),128))])})),H={name:"Nav",emits:["input"],props:{selectedView:{type:String},collapsed:{type:Boolean,default:!1},views:{type:Object,default:function(){return{playing:{iconClass:"fas fa-play",displayName:"Queue"},search:{iconClass:"fas fa-search",displayName:"Search"},playlists:{iconClass:"fas fa-list-ul",displayName:"Playlists"},library:{iconClass:"fas fa-compact-disc",displayName:"Library"}}}}}};n("981c");H.render=U,H.__scopeId="data-v-edee6494";var B=H,Q=(n("6062"),n("3ca3"),Object(c["K"])("data-v-e9f8c7c0"));Object(c["u"])("data-v-e9f8c7c0");var G={key:1,class:"playlist fade-in"},W={class:"header-container"},X={class:"col-8 filter"},Y={class:"col-4 buttons"},Z=Object(c["h"])("i",{class:"fa fa-plus"},null,-1),tt={class:"body",ref:"body"},et={key:0,class:"no-content"},nt={class:"col-10"},at={class:"title"},ct={key:0,class:"artist"},lt={key:1,class:"album"},st={class:"col-2 right-side"},it={class:"actions"};Object(c["s"])();var rt=Q((function(t,e,n,l,s,i){var r,o=Object(c["z"])("Loading"),u=Object(c["z"])("DropdownItem"),d=Object(c["z"])("Dropdown"),f=Object(c["z"])("MusicHeader");return n.loading?(Object(c["r"])(),Object(c["e"])(o,{key:0})):(Object(c["r"])(),Object(c["e"])("div",G,[Object(c["h"])("div",W,[Object(c["h"])(f,{ref:"header"},{default:Q((function(){return[Object(c["h"])("div",X,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[1]||(e[1]=function(t){return s.filter=t})},null,512),[[c["F"],s.filter]])])]),Object(c["h"])("div",Y,[Object(c["h"])(d,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:Q((function(){var l,r,o,d,f,b,h;return[Object(c["h"])(u,{text:"Save as playlist","icon-class":"fa fa-save",disabled:!(null===(l=n.tracks)||void 0===l?void 0:l.length),onClick:i.playlistSave},null,8,["disabled","onClick"]),2===(null===(r=s.selectedTracks)||void 0===r?void 0:r.length)?(Object(c["r"])(),Object(c["e"])(u,{key:0,text:"Swap tracks","icon-class":"fa fa-retweet",onClick:e[2]||(e[2]=function(e){return t.$emit("swap",s.selectedTracks)})})):Object(c["f"])("",!0),Object(c["h"])(u,{text:s.selectionMode?"End selection":"Start selection","icon-class":"far fa-check-square",disabled:!(null===(o=n.tracks)||void 0===o?void 0:o.length),onClick:e[3]||(e[3]=function(t){return s.selectionMode=!s.selectionMode})},null,8,["text","disabled"]),Object(c["h"])(u,{text:(null===(d=s.selectedTracks)||void 0===d?void 0:d.length)===(null===(f=n.tracks)||void 0===f?void 0:f.length)?"Unselect all":"Select all","icon-class":"fa fa-check-double",disabled:!(null===(b=n.tracks)||void 0===b?void 0:b.length),onClick:e[4]||(e[4]=function(t){return s.selectedTracks=s.selectedTracks.length===n.tracks.length?[]:Object(a["a"])(Array(n.tracks.length).keys())})},null,8,["text","disabled"]),s.selectedTracks.length>0?(Object(c["r"])(),Object(c["e"])(u,{key:1,text:"Remove track"+(s.selectedTracks.length>1?"s":""),"icon-class":"fa fa-trash",onClick:e[5]||(e[5]=function(e){return t.$emit("remove",Object(a["a"])(new Set(s.selectedTracks)))})},null,8,["text"])):Object(c["f"])("",!0),Object(c["h"])(u,{text:"Clear playlist","icon-class":"fa fa-ban",disabled:!(null===(h=n.tracks)||void 0===h?void 0:h.length),onClick:e[6]||(e[6]=function(e){return t.$emit("clear")})},null,8,["disabled"])]})),_:1}),Object(c["h"])("button",{title:"Add track",onClick:e[7]||(e[7]=function(){return i.addTrack.apply(i,arguments)})},[Z])])]})),_:1},512)]),Object(c["h"])("div",tt,[(null===(r=n.tracks)||void 0===r?void 0:r.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",et," No tracks are loaded ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.tracks,(function(e,l){var r,o,f,b,h;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:i.selectedTracksSet.has(l),active:(null===(r=n.status)||void 0===r?void 0:r.playingPos)===l,hidden:!i.displayedTracks.has(l)}],onDragstart:function(t){return i.onTrackDragStart(l)},onDragend:function(t){return i.onTrackDragEnd(l)},onDragover:function(t){return i.onTrackDragOver(l)},draggable:"true",key:l,onClick:function(t){return i.onTrackClick(t,l)},onDblclick:function(e){return t.$emit("play",{pos:l})}},[Object(c["h"])("div",nt,[Object(c["h"])("div",at,[Object(c["g"])(Object(c["C"])(e.title||"[No Title]")+" ",1),(null===(o=n.status)||void 0===o?void 0:o.playingPos)!==l||"play"!==(null===(f=n.status)||void 0===f?void 0:f.state)&&"pause"!==(null===(b=n.status)||void 0===b?void 0:b.state)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",{key:0,class:["playing-icon",{paused:"pause"===(null===(h=n.status)||void 0===h?void 0:h.state)}]},[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(Object(a["a"])(Array(3).keys()),(function(t){return Object(c["r"])(),Object(c["e"])("span",{key:t})})),128))],2))]),e.artist?(Object(c["r"])(),Object(c["e"])("div",ct,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.artist),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist})}),["prevent"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0),e.album?(Object(c["r"])(),Object(c["e"])("div",lt,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.album),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist,album:e.album})}),["prevent"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0)]),Object(c["h"])("div",st,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",it,[Object(c["h"])(d,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:Q((function(){return[Object(c["h"])(u,{text:"Play","icon-class":"fa fa-play",onClick:function(e){return t.$emit("play",{pos:l})}},null,8,["onClick"]),Object(c["h"])(u,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(u,{text:"Remove","icon-class":"fa fa-trash",onClick:function(e){return t.$emit("remove",Object(a["a"])(new Set([].concat(Object(a["a"])(s.selectedTracks),[l]))))}},null,8,["onClick"]),Object(c["h"])(u,{text:"Info","icon-class":"fa fa-info",onClick:function(e){return t.$emit("info",n.tracks[l])}},null,8,["onClick"])]})),_:1})])])],42,["onDragstart","onDragend","onDragover","onClick","onDblclick"])})),128))],512)]))})),ot=(n("4160"),n("a434"),n("159b"),Object(c["K"])("data-v-25f0cdf5"));Object(c["u"])("data-v-25f0cdf5");var ut={class:"header"};Object(c["s"])();var dt=ot((function(t,e,n,a,l,s){return Object(c["r"])(),Object(c["e"])("div",ut,[Object(c["y"])(t.$slots,"default")])})),ft={name:"Header"};n("4563");ft.render=dt,ft.__scopeId="data-v-25f0cdf5";var bt=ft,ht=n("ab0f"),Ot=n("524a"),jt={name:"Playlist",mixins:[q["a"]],components:{DropdownItem:Ot["a"],Dropdown:ht["a"],MusicHeader:bt,Loading:V["a"]},emits:["play","clear","add","remove","swap","search","move","save","info"],props:{tracks:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},status:{type:Object,default:function(){}}},data:function(){return{selectionMode:!1,selectedTracks:[],filter:"",infoTrack:null,sourcePos:null,targetPos:null}},computed:{selectedTracksSet:function(){return new Set(this.selectedTracks)},displayedTracks:function(){var t,e=this,n=Object(a["a"])(Array(this.tracks.length).keys());if(!(null===(t=this.filter)||void 0===t?void 0:t.length))return new Set(n);var c=this,l=(c.filter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.tracks[t];return((null===n||void 0===n?void 0:n.artist)||"").toLowerCase().indexOf(l)>=0||((null===n||void 0===n?void 0:n.title)||"").toLowerCase().indexOf(l)>=0||((null===n||void 0===n?void 0:n.album)||"").toLowerCase().indexOf(l)>=0})))}},methods:{onTrackClick:function(t,e){if(t.shiftKey){var n=this.selectedTracks.sort();n.length?e<n[0]?this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(n[0]-e).keys()).map((function(t){return t+e})))):e>n[n.length-1]&&(this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(e-n[n.length-1]+1).keys()).map((function(t){return t+n[n.length-1]}))))):this.selectedTracks=[e]}else{var c=this.selectedTracks.indexOf(e);this.selectionMode||t.ctrlKey?c>=0?this.selectedTracks.splice(c,1):this.selectedTracks.push(e):this.selectedTracks=c>=0?[]:[e]}},addTrack:function(){var t=prompt("Item path or URL");(null===t||void 0===t?void 0:t.length)&&this.$emit("add",t)},onTrackDragStart:function(t){this.sourcePos=t},onTrackDragEnd:function(){this.$refs.body.querySelectorAll(".track").forEach((function(t){return t.classList.remove("dragover")})),null!=this.sourcePos&&null!=this.targetPos&&this.sourcePos!==this.targetPos&&(this.$emit("move",{from:this.sourcePos,to:this.targetPos}),this.sourcePos=null,this.targetPos=null)},onTrackDragOver:function(t){this.targetPos=t;var e=this.$refs.body.querySelectorAll(".track");e.forEach((function(t){return t.classList.remove("dragover")})),Object(a["a"])(e)[t].classList.add("dragover")},playlistSave:function(){var t=prompt("Playlist name");(null===t||void 0===t?void 0:t.length)&&this.$emit("save",t)}},mounted:function(){var t=this;this.$watch((function(){var e;return null===(e=t.status)||void 0===e?void 0:e.playingPos}),(function(e){if(null!=e){var n=Object(a["a"])(t.$refs.body.querySelectorAll(".track"))[e],c=n.offsetTop-parseFloat(getComputedStyle(t.$refs.header.$el).height);t.$refs.body.scrollTo(0,c)}}))}};n("6e3a");jt.render=rt,jt.__scopeId="data-v-e9f8c7c0";var pt=jt,vt=Object(c["K"])("data-v-2768626b");Object(c["u"])("data-v-2768626b");var yt={key:1,class:"editor-container fade-in"},kt={class:"header-container"},mt=Object(c["h"])("i",{class:"fas fa-arrow-left"},null,-1),Ct={class:"search-box"},gt=Object(c["h"])("i",{class:"fas fa-plus"},null,-1),wt={class:"editor",ref:"editor"},xt={key:0,class:"no-content"},Tt={class:"col-10"},$t={class:"title"},Pt={key:0,class:"artist"},St={key:1,class:"album"},At={class:"col-2 right-side"},Rt={class:"actions"},It={key:2,class:"playlists fade-in"},Dt={class:"header-container"},Lt={class:"col-8 filter"},Mt={class:"body",ref:"body"},Ft={key:0,class:"no-content"},_t={class:"col-10"},Et={class:"col-2 right-side"},zt={class:"actions"};Object(c["s"])();var Vt=vt((function(t,e,n,l,s,i){var r,o,u=Object(c["z"])("Loading"),d=Object(c["z"])("MusicHeader"),f=Object(c["z"])("DropdownItem"),b=Object(c["z"])("Dropdown");return n.loading?(Object(c["r"])(),Object(c["e"])(u,{key:0})):n.editedPlaylist?(Object(c["r"])(),Object(c["e"])("div",yt,[Object(c["h"])("div",kt,[Object(c["h"])(d,{ref:"header"},{default:vt((function(){return[Object(c["h"])("button",{class:"back-btn",title:"Back",onClick:e[1]||(e[1]=function(e){return t.$emit("playlist-edit",null)})},[mt]),Object(c["h"])("label",Ct,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[2]||(e[2]=function(t){return s.trackFilter=t})},null,512),[[c["F"],s.trackFilter]])]),Object(c["h"])("button",{class:"add-btn",title:"Add track",onClick:e[3]||(e[3]=function(){return i.addTrack.apply(i,arguments)})},[gt])]})),_:1},512)]),Object(c["h"])("div",wt,[(null===(r=n.tracks)||void 0===r?void 0:r.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",xt," No tracks found ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.tracks,(function(e,l){var r;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:i.selectedTracksSet.has(l),active:(null===(r=t.status)||void 0===r?void 0:r.playingPos)===l,hidden:!i.displayedTracks.has(l)}],draggable:"true",key:l,onDragstart:function(t){return i.onTrackDragStart(l)},onDragend:function(t){return i.onTrackDragEnd(l)},onDragover:function(t){return i.onTrackDragOver(l)},onClick:function(t){return i.onTrackClick(t,l)},onDblclick:function(e){return t.$emit("load-track",{pos:l,play:!0})}},[Object(c["h"])("div",Tt,[Object(c["h"])("div",$t,Object(c["C"])(e.title||"[No Title]"),1),e.artist?(Object(c["r"])(),Object(c["e"])("div",Pt,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.artist),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist})}),["prevent"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0),e.album?(Object(c["r"])(),Object(c["e"])("div",St,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.album),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist,album:e.album})}),["prevent"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0)]),Object(c["h"])("div",At,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",Rt,[Object(c["h"])(b,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:vt((function(){return[Object(c["h"])(f,{text:"Play","icon-class":"fa fa-play",onClick:function(e){return t.$emit("load-track",{pos:l,play:!0})}},null,8,["onClick"]),Object(c["h"])(f,{text:"Add to queue","icon-class":"fa fa-plus",onClick:function(e){return t.$emit("load-track",{pos:l,play:!1})}},null,8,["onClick"]),Object(c["h"])(f,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(f,{text:"Remove","icon-class":"fa fa-trash",onClick:function(e){return t.$emit("remove-track",Object(a["a"])(new Set([].concat(Object(a["a"])(s.selectedTracks),[l]))))}},null,8,["onClick"]),Object(c["h"])(f,{text:"Info","icon-class":"fa fa-info",onClick:Object(c["J"])((function(e){return t.$emit("info",n.tracks[l])}),["stop"])},null,8,["onClick"])]})),_:1})])])],42,["onDragstart","onDragend","onDragover","onClick","onDblclick"])})),128))],512)])):(Object(c["r"])(),Object(c["e"])("div",It,[Object(c["h"])("div",Dt,[Object(c["h"])(d,{ref:"header"},{default:vt((function(){return[Object(c["h"])("div",Lt,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[4]||(e[4]=function(t){return s.filter=t})},null,512),[[c["F"],s.filter]])])])]})),_:1},512)]),Object(c["h"])("div",Mt,[(null===(o=n.playlists)||void 0===o?void 0:o.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",Ft," No playlists found ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.playlists,(function(e,n){return Object(c["r"])(),Object(c["e"])("div",{class:["row playlist",{hidden:!i.displayedPlaylists.has(n)}],key:n,onClick:function(e){return t.$emit("playlist-edit",n)},onDblclick:function(e){return t.$emit("load",n)}},[Object(c["h"])("div",_t,[Object(c["h"])("div",{class:"name",textContent:Object(c["C"])(e.name||"[No Name]")},null,8,["textContent"])]),Object(c["h"])("div",Et,[Object(c["h"])("span",zt,[Object(c["h"])(b,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:vt((function(){return[Object(c["h"])(f,{text:"Play","icon-class":"fa fa-play",onClick:Object(c["J"])((function(e){return t.$emit("play",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Load","icon-class":"fa fa-list-ul",onClick:Object(c["J"])((function(e){return t.$emit("load",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Edit","icon-class":"fa fa-edit",onClick:Object(c["J"])((function(e){return t.$emit("playlist-edit",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Remove","icon-class":"fa fa-trash",onClick:Object(c["J"])((function(e){return t.$emit("remove",n)}),["stop"])},null,8,["onClick"])]})),_:1})])])],42,["onClick","onDblclick"])})),128))],512)]))})),Nt={name:"Playlists",mixins:[q["a"]],components:{DropdownItem:Ot["a"],Dropdown:ht["a"],MusicHeader:bt,Loading:V["a"]},emits:["play","load","remove","playlist-edit","search","remove-track","load-track","info","playlist-add","add-to-playlist","track-move"],props:{playlists:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},tracks:{type:Array,default:function(){return[]}},editedPlaylist:{type:Number}},data:function(){return{selectedTracks:[],filter:"",trackFilter:"",sourcePos:null,targetPos:null}},computed:{selectedTracksSet:function(){return new Set(this.selectedTracks)},displayedPlaylists:function(){var t,e=this,n=Object(a["a"])(Array(this.playlists.length).keys());if(!(null===(t=this.filter)||void 0===t?void 0:t.length))return new Set(n);var c=this,l=(c.filter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.playlists[t];return((null===n||void 0===n?void 0:n.name)||"").toLowerCase().indexOf(l)>=0})))},displayedTracks:function(){var t,e=this,n=Object(a["a"])(Array(this.tracks.length).keys());if(!(null===(t=this.trackFilter)||void 0===t?void 0:t.length))return new Set(n);var c=this,l=(c.trackFilter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.tracks[t];return((null===n||void 0===n?void 0:n.artist)||"").toLowerCase().indexOf(l)>=0||((null===n||void 0===n?void 0:n.title)||"").toLowerCase().indexOf(l)>=0||((null===n||void 0===n?void 0:n.album)||"").toLowerCase().indexOf(l)>=0})))}},methods:{onTrackClick:function(t,e){if(t.shiftKey){var n=this.selectedTracks.sort();n.length?e<n[0]?this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(n[0]-e).keys()).map((function(t){return t+e})))):e>n[n.length-1]&&(this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(e-n[n.length-1]+1).keys()).map((function(t){return t+n[n.length-1]}))))):this.selectedTracks=[e]}else{var c=this.selectedTracks.indexOf(e);t.ctrlKey?c>=0?this.selectedTracks.splice(c,1):this.selectedTracks.push(e):this.selectedTracks=c>=0?[]:[e]}},addTrack:function(){var t=prompt("Track path or URL");(null===t||void 0===t?void 0:t.length)&&this.$emit("playlist-add",t)},onTrackDragStart:function(t){this.sourcePos=t},onTrackDragEnd:function(){this.$refs.editor.querySelectorAll(".track").forEach((function(t){return t.classList.remove("dragover")})),null!=this.sourcePos&&null!=this.targetPos&&this.sourcePos!==this.targetPos&&(this.$emit("track-move",{from:this.sourcePos,to:this.targetPos,playlist:this.editedPlaylist}),this.sourcePos=null,this.targetPos=null)},onTrackDragOver:function(t){this.targetPos=t;var e=this.$refs.editor.querySelectorAll(".track");e.forEach((function(t){return t.classList.remove("dragover")})),Object(a["a"])(e)[t].classList.add("dragover")}}};n("fe36");Nt.render=Vt,Nt.__scopeId="data-v-2768626b";var qt=Nt,Kt=Object(c["K"])("data-v-570745ac");Object(c["u"])("data-v-570745ac");var Jt={class:"row"},Ut={class:"row"},Ht={class:"row"},Bt={class:"row"},Qt=Object(c["h"])("i",{class:"icon fa fa-times"},null,-1),Gt=Object(c["h"])("span",{class:"btn-title"},"Clear",-1),Wt=Object(c["h"])("button",{type:"submit"},[Object(c["h"])("i",{class:"icon fa fa-search"}),Object(c["h"])("span",{class:"btn-title"},"Search")],-1),Xt={class:"search-box"},Yt={class:"buttons"},Zt=Object(c["h"])("i",{class:"icon fa fa-times"},null,-1),te=Object(c["h"])("span",{class:"btn-title"},"Clear",-1),ee={class:"results"},ne={class:"col-10"},ae={class:"title"},ce={class:"col-2 right-side"},le={class:"actions"};Object(c["s"])();var se=Kt((function(t,e,n,a,l,s){var i=Object(c["z"])("FormFooter"),r=Object(c["z"])("MusicHeader"),o=Object(c["z"])("DropdownItem"),u=Object(c["z"])("Dropdown");return Object(c["r"])(),Object(c["e"])("div",{class:["search fade-in",{"form-collapsed":s.formCollapsed}]},[s.formCollapsed?(Object(c["r"])(),Object(c["e"])(r,{key:1},{default:Kt((function(){return[Object(c["h"])("label",Xt,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[7]||(e[7]=function(t){return l.filter=t})},null,512),[[c["F"],l.filter]])]),Object(c["h"])("span",Yt,[Object(c["h"])("button",{onClick:e[8]||(e[8]=function(){return s.clear.apply(s,arguments)})},[Zt,te])])]})),_:1})):(Object(c["r"])(),Object(c["e"])("form",{key:0,class:"search-form",onSubmit:e[6]||(e[6]=Object(c["J"])((function(e){return t.$emit("search",s.filteredQuery)}),["prevent"]))},[Object(c["h"])("div",Jt,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"text",placeholder:"Any","onUpdate:modelValue":e[1]||(e[1]=function(t){return l.query.any=t})},null,512),[[c["F"],l.query.any]])])]),Object(c["h"])("div",Ut,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"text",placeholder:"Artist","onUpdate:modelValue":e[2]||(e[2]=function(t){return l.query.artist=t})},null,512),[[c["F"],l.query.artist]])])]),Object(c["h"])("div",Ht,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"text",placeholder:"Title","onUpdate:modelValue":e[3]||(e[3]=function(t){return l.query.title=t})},null,512),[[c["F"],l.query.title]])])]),Object(c["h"])("div",Bt,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"text",placeholder:"Album","onUpdate:modelValue":e[4]||(e[4]=function(t){return l.query.album=t})},null,512),[[c["F"],l.query.album]])])]),Object(c["h"])(i,null,{default:Kt((function(){return[Object(c["h"])("button",{onClick:e[5]||(e[5]=function(){return s.clear.apply(s,arguments)})},[Qt,Gt]),Wt]})),_:1})],32)),Object(c["h"])("div",ee,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.results,(function(e,n){var a,i;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:l.selectedResults.has(n),hidden:!s.displayedTracks.has(n)}],key:n,onClick:function(t){return s.resultClick(n,t)}},[Object(c["h"])("div",ne,[Object(c["h"])("div",ae,Object(c["C"])(e.title||"[No Title]"),1),(null===(a=e.artist)||void 0===a?void 0:a.length)?(Object(c["r"])(),Object(c["e"])("div",{key:0,class:"artist",textContent:Object(c["C"])(e.artist)},null,8,["textContent"])):Object(c["f"])("",!0),(null===(i=e.album)||void 0===i?void 0:i.length)?(Object(c["r"])(),Object(c["e"])("div",{key:1,class:"album",textContent:Object(c["C"])(e.album)},null,8,["textContent"])):Object(c["f"])("",!0)]),Object(c["h"])("div",ce,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time&&parseInt(e.time)?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",le,[Object(c["h"])(u,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:Kt((function(){return[Object(c["h"])(o,{text:"Play","icon-class":"fa fa-play",onClick:function(t){return s.play(n)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Add to queue","icon-class":"fa fa-plus",onClick:function(t){return s.load(n)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Info","icon-class":"fa fa-info",onClick:function(n){return t.$emit("info",e)}},null,8,["onClick"])]})),_:1})])])],10,["onClick"])})),128))])],2)})),ie=(n("13d5"),n("4fad"),n("3835")),re={name:"Search",components:{Dropdown:ht["a"],DropdownItem:Ot["a"],FormFooter:z,MusicHeader:bt},mixins:[q["a"]],emits:["search","clear","play","load","add-to-playlist","info"],props:{loading:{type:Boolean,default:!1},results:{type:Array}},data:function(){return{selectedResults:new Set,filter:"",query:{any:"",artist:"",title:"",album:""}}},computed:{formCollapsed:function(){var t;return(null===(t=this.results)||void 0===t?void 0:t.length)>0},filteredQuery:function(){return Object.entries(this.query).filter((function(t){var e;return null===(e=t[1])||void 0===e?void 0:e.length})).reduce((function(t,e){var n=Object(ie["a"])(e,2),a=n[0],c=n[1];return t[a]=c,t}),{})},displayedTracks:function(){var t,e=this;return new Set(Object(a["a"])(Array((null===(t=this.results)||void 0===t?void 0:t.length)||0).keys()).filter((function(t){var n,a=e.results[t];if(!(null===(n=e.filter)||void 0===n?void 0:n.length))return a;var c=e.filter.toLowerCase();return((null===a||void 0===a?void 0:a.artist)||"").toLowerCase().indexOf(c)>=0||((null===a||void 0===a?void 0:a.title)||"").toLowerCase().indexOf(c)>=0||((null===a||void 0===a?void 0:a.album)||"").toLowerCase().indexOf(c)>=0})))}},methods:{clear:function(){this.$emit("clear"),this.selectedResults=new Set},resultClick:function(t,e){if(e.shiftKey){if(this.selectedResults.size>0&&!this.selectedResults.has(t)){var n=Object(a["a"])(this.selectedResults),c=Math.min(Math.min(n),t),l=Math.max(Math.max(n),t);this.selectedResults=new Set(Object(a["a"])(Array(l-c+1).keys()).map((function(t){return t+c})))}}else e.ctrlKey||(this.selectedResults=new Set),this.selectedResults.has(t)?this.selectedResults.delete(t):this.selectedResults.add(t)},play:function(t){var e=this;this.$emit("play",this.results[t]),this.selectedResults.size&&this.selectedResults.forEach((function(t){e.$emit("load",t)}))},load:function(t){var e=this;this.selectedResults.has(t)||this.selectedResults.add(t),this.selectedResults.forEach((function(t){e.$emit("load",e.results[t])}))}}};n("43db");re.render=se,re.__scopeId="data-v-570745ac";var oe=re,ue=(n("1276"),Object(c["K"])("data-v-6696f4d8"));Object(c["u"])("data-v-6696f4d8");var de={class:"library fade-in"},fe={class:"search-box"},be={class:"results"},he=Object(c["h"])("div",{class:"icon-container"},[Object(c["h"])("i",{class:"icon fa fa-folder"})],-1),Oe=Object(c["h"])("div",{class:"result-container"},[Object(c["h"])("div",{class:"title"},"..")],-1),je={class:"col-10 left-side"},pe={class:"icon-container"},ve={key:0,class:"icon fa fa-folder"},ye={key:1,class:"icon fa fa-music"},ke={class:"info"},me={class:"title"},Ce={class:"artist-album"},ge={class:"col-2 right-side"},we={class:"actions"};Object(c["s"])();var xe=ue((function(t,e,n,a,l,s){var i=Object(c["z"])("Loading"),r=Object(c["z"])("MusicHeader"),o=Object(c["z"])("DropdownItem"),u=Object(c["z"])("Dropdown");return Object(c["r"])(),Object(c["e"])("div",de,[n.loading?(Object(c["r"])(),Object(c["e"])(i,{key:0})):Object(c["f"])("",!0),Object(c["h"])(r,null,{default:ue((function(){return[Object(c["h"])("label",fe,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[1]||(e[1]=function(t){return l.filter=t})},null,512),[[c["F"],l.filter]])])]})),_:1}),Object(c["h"])("div",be,["/"!==n.path?(Object(c["r"])(),Object(c["e"])("div",{key:0,class:"row track back-track",onClick:e[2]||(e[2]=function(){return s.back.apply(s,arguments)})},[he,Oe])):Object(c["f"])("",!0),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.results,(function(e,n){var a,i;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:l.selectedResults.has(n),hidden:!s.displayedResults.has(n)}],key:n,onClick:function(t){return s.resultClick(n,t)}},[Object(c["h"])("div",je,[Object(c["h"])("div",pe,[e.directory?(Object(c["r"])(),Object(c["e"])("i",ve)):e.file?(Object(c["r"])(),Object(c["e"])("i",ye)):Object(c["f"])("",!0)]),Object(c["h"])("div",ke,[Object(c["h"])("div",me,[e.directory?(Object(c["r"])(),Object(c["e"])("span",{key:0,textContent:Object(c["C"])(e.directory.split("/").pop())},null,8,["textContent"])):e.title?(Object(c["r"])(),Object(c["e"])("span",{key:1,textContent:Object(c["C"])(e.title)},null,8,["textContent"])):Object(c["f"])("",!0)]),Object(c["h"])("div",Ce,[(null===(a=e.artist)||void 0===a?void 0:a.length)?(Object(c["r"])(),Object(c["e"])("div",{key:0,class:"artist",textContent:Object(c["C"])(e.artist)},null,8,["textContent"])):Object(c["f"])("",!0),(null===(i=e.album)||void 0===i?void 0:i.length)?(Object(c["r"])(),Object(c["e"])("div",{key:1,class:"album",textContent:Object(c["C"])(e.album)},null,8,["textContent"])):Object(c["f"])("",!0)])])]),Object(c["h"])("div",ge,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time&&parseInt(e.time)?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",we,[Object(c["h"])(u,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:ue((function(){return[Object(c["h"])(o,{text:"Play","icon-class":"fa fa-play",onClick:function(t){return s.play(n)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Add to queue","icon-class":"fa fa-plus",onClick:function(t){return s.load(n)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(o,{text:"Info","icon-class":"fa fa-info",onClick:function(n){return t.$emit("info",e)}},null,8,["onClick"])]})),_:1})])])],10,["onClick"])})),128))])])})),Te=(n("a15b"),n("fb6a"),{name:"Library",components:{Dropdown:ht["a"],DropdownItem:Ot["a"],MusicHeader:bt,Loading:V["a"]},mixins:[q["a"]],emits:["search","play","load","add-to-playlist","info","cd"],props:{loading:{type:Boolean,default:!1},results:{type:Array},path:{type:String}},data:function(){return{selectedResults:new Set,filter:"",query:{any:"",artist:"",title:"",album:""}}},computed:{displayedResults:function(){var t,e=this;return new Set(Object(a["a"])(Array((null===(t=this.results)||void 0===t?void 0:t.length)||0).keys()).filter((function(t){var n,a=e.results[t];if(!(null===(n=e.filter)||void 0===n?void 0:n.length))return a;var c=e.filter.toLowerCase();return((null===a||void 0===a?void 0:a.artist)||"").toLowerCase().indexOf(c)>=0||((null===a||void 0===a?void 0:a.title)||"").toLowerCase().indexOf(c)>=0||((null===a||void 0===a?void 0:a.album)||"").toLowerCase().indexOf(c)>=0||((null===a||void 0===a?void 0:a.directory)||"").toLowerCase().indexOf(c)>=0})))}},methods:{resultClick:function(t,e){if(e.shiftKey){if(this.selectedResults.size>0&&!this.selectedResults.has(t)){var n=Object(a["a"])(this.selectedResults),c=Math.min(Math.min(n),t),l=Math.max(Math.max(n),t);this.selectedResults=new Set(Object(a["a"])(Array(l-c+1).keys()).map((function(t){return t+c})))}}else e.ctrlKey?this.selectedResults.has(t)?this.selectedResults.delete(t):this.selectedResults.add(t):this.results[t].directory?this.$emit("cd",this.results[t].directory):(this.selectedResults=new Set,this.selectedResults.has(t)?this.selectedResults.delete(t):this.selectedResults.add(t))},play:function(t){var e=this;this.$emit("play",this.results[t]),this.selectedResults.size&&this.selectedResults.forEach((function(t){e.$emit("load",t)}))},load:function(t){var e=this;this.selectedResults.has(t)||this.selectedResults.add(t),this.selectedResults.forEach((function(t){e.$emit("load",e.results[t])}))},back:function(){var t=this.path.split("/");this.$emit("cd",t.slice(0,t.length-1).join("/"))}}});n("ea5f");Te.render=xe,Te.__scopeId="data-v-6696f4d8";var $e=Te,Pe=n("3e54"),Se={name:"Music",emits:["play","pause","stop","clear","previous","next","set-volume","seek","consume","repeat","random","status-update","playlist-update","new-playing-track","add-to-tracklist","remove-from-tracklist","swap-tracks","play-playlist","load-playlist","remove-playlist","tracklist-move","tracklist-save","add-to-tracklist-from-edited-playlist","remove-from-playlist","info","playlist-add","add-to-playlist","playlist-track-move","search","search-clear","cd"],mixins:[Pe["a"],q["a"]],components:{Loading:V["a"],Modal:N["a"],Nav:B,MediaView:K["a"],Playlist:pt,Playlists:qt,FormFooter:z,Search:oe,Library:$e},props:{pluginName:{type:String,required:!0},loading:{type:Boolean,default:!1},config:{type:Object,default:function(){}},tracks:{type:Array,default:function(){return[]}},editedPlaylistTracks:{type:Array,default:function(){return[]}},playlists:{type:Array,default:function(){return[]}},status:{type:Object,default:function(){}},editedPlaylist:{type:Number},trackInfo:{type:String},searchResults:{type:Array},libraryResults:{type:Array},path:{type:String}},data:function(){return{selectedView:"playing",selectedPlaylists:[],addToPlaylistTrack:null,playlistFilter:""}},computed:{track:function(){var t;return null==(null===(t=this.status)||void 0===t?void 0:t.playingPos)?null:this.tracks[this.status.playingPos]}},methods:{onStatusEvent:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.$emit("status-update",t);case 3:case"end":return n.stop()}}),n)})))()},onPlaylistEvent:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.$emit("playlist-update",t);case 3:case"end":return n.stop()}}),n)})))()},onNewPlayingTrack:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){var a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.notify({html:"<b>".concat(null===(a=t.track)||void 0===a?void 0:a.artist,"</b><br>").concat(null===(c=t.track)||void 0===c?void 0:c.title),image:{iconClass:"fa fa-play"}}),e.$emit("new-playing-track",t);case 4:case"end":return n.stop()}}),n)})))()},openAddToPlaylist:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.addToPlaylistTrack=t,e.$refs.playlistsModal.isVisible=!0;case 2:case"end":return n.stop()}}),n)})))()},addToPlaylist:function(){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("add-to-playlist",{track:t.addToPlaylistTrack,playlists:Object(a["a"])(Array(t.selectedPlaylists.length).keys()).filter((function(e){return t.selectedPlaylists[e]}))}),t.$refs.playlistsModal.isVisible=!1,t.addToPlaylistTrack=null,t.playlistFilter="";case 4:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$emit("search",t),e.$refs.trackInfo.isVisible=!1,e.selectedView="search";case 3:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t=this;this.subscribe(this.onStatusEvent,"on-status-update","platypush.message.event.music.MusicPlayEvent","platypush.message.event.music.MusicPauseEvent","platypush.message.event.music.MusicStopEvent","platypush.message.event.music.SeekChangeEvent","platypush.message.event.music.VolumeChangeEvent","platypush.message.event.music.MuteChangeEvent","platypush.message.event.music.PlaybackRepeatModeChangeEvent","platypush.message.event.music.PlaybackRandomModeChangeEvent","platypush.message.event.music.PlaybackConsumeModeChangeEvent","platypush.message.event.music.PlaybackSingleModeChangeEvent"),this.subscribe(this.onPlaylistEvent,"on-playlist-update","platypush.message.event.music.PlaylistChangeEvent"),this.subscribe(this.onNewPlayingTrack,"on-new-playing-track","platypush.message.event.music.NewPlayingTrackEvent"),this.$watch((function(){return t.trackInfo}),(function(e){null!=e&&(t.$refs.trackInfo.isVisible=!0)}))},unmounted:function(){this.unsubscribe("on-status-update"),this.unsubscribe("on-playlist-update")}};n("b8b0");Se.render=D,Se.__scopeId="data-v-2ccb9e3d";e["default"]=Se},"3c84":function(t,e,n){},"43db":function(t,e,n){"use strict";n("48f0")},4563:function(t,e,n){"use strict";n("a0a3")},"48f0":function(t,e,n){},"6e3a":function(t,e,n){"use strict";n("3c84")},7198:function(t,e,n){},"7efc":function(t,e,n){},"981c":function(t,e,n){"use strict";n("7198")},a0a3:function(t,e,n){},a434:function(t,e,n){"use strict";var a=n("23e7"),c=n("23cb"),l=n("a691"),s=n("50c4"),i=n("7b0b"),r=n("65f0"),o=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),b=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,O=Math.min,j=9007199254740991,p="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!b},{splice:function(t,e){var n,a,u,d,f,b,v=i(this),y=s(v.length),k=c(t,y),m=arguments.length;if(0===m?n=a=0:1===m?(n=0,a=y-k):(n=m-2,a=O(h(l(e),0),y-k)),y+n-a>j)throw TypeError(p);for(u=r(v,a),d=0;d<a;d++)f=k+d,f in v&&o(u,d,v[f]);if(u.length=a,n<a){for(d=k;d<y-a;d++)f=d+a,b=d+n,f in v?v[b]=v[f]:delete v[b];for(d=y;d>y-a+n;d--)delete v[d-1]}else if(n>a)for(d=y-a;d>k;d--)f=d+a-1,b=d+n-1,f in v?v[b]=v[f]:delete v[b];for(d=0;d<n;d++)v[d+k]=arguments[d+2];return v.length=y-a+n,u}})},b8b0:function(t,e,n){"use strict";n("d83f")},c3da:function(t,e,n){},d83f:function(t,e,n){},e4c6:function(t,e,n){},ea5f:function(t,e,n){"use strict";n("7efc")},fe36:function(t,e,n){"use strict";n("e4c6")}}]);
//# sourceMappingURL=chunk-5b993de9.a541de63.js.map