(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd710368"],{"10ff":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("b64b");var r=n("7a23"),c={class:"row plugin execute-container"},a={class:"command-container"},o=Object(r["h"])("div",{class:"title"},"Execute Action",-1),s={class:"request-type-container"},i=Object(r["h"])("label",{for:"action-structured-input"},"Structured request",-1),l=Object(r["h"])("label",{for:"action-raw-input"},"Raw request",-1),u={class:"autocomplete"},d=Object(r["h"])("i",{class:"fas fa-play"},null,-1),b={key:0,class:"doc-container"},h=Object(r["h"])("div",{class:"title"}," Action documentation ",-1),p={key:1,class:"options"},O={key:0,class:"params",ref:"params"},f={key:0,class:"attr-doc-container mobile"},j={class:"title"},v=Object(r["g"])(" Attribute: "),m={key:0,class:"extra-params",ref:"extraParams"},g={class:"col-5"},y={class:"col-5"},x={class:"col-2 buttons"},k=Object(r["h"])("i",{class:"fas fa-trash"},null,-1),A={key:1,class:"add-param"},C=Object(r["h"])("i",{class:"fas fa-plus"},null,-1),w={key:1,class:"attr-doc-container widescreen"},D={class:"title"},P=Object(r["g"])(" Attribute: "),E={class:"output-container"},L={class:"first-row"},T=Object(r["h"])("i",{class:"fas fa-play"},null,-1),N={key:0,class:"output-container"},S={class:"procedures-container"},I=Object(r["h"])("div",{class:"title"},"Execute Procedure",-1),q={class:"head"},M={class:"btn-container col-no-margin-1"},R=Object(r["h"])("i",{class:"fas fa-play"},null,-1),H={key:0,class:"params"};function J(e,t,n,J,V,U){var F=Object(r["z"])("Loading");return Object(r["r"])(),Object(r["e"])("div",c,[V.loading?(Object(r["r"])(),Object(r["e"])(F,{key:0})):Object(r["f"])("",!0),Object(r["h"])("div",a,[o,Object(r["h"])("form",{class:"action-form",ref:"actionForm",autocomplete:"off",onSubmit:t[9]||(t[9]=Object(r["J"])((function(){return U.executeAction.apply(U,arguments)}),["prevent"]))},[Object(r["h"])("div",s,[Object(r["h"])("input",{type:"radio",id:"action-structured-input",checked:V.structuredInput,onChange:t[1]||(t[1]=function(e){return U.onInputTypeChange(!0)})},null,40,["checked"]),i,Object(r["h"])("input",{type:"radio",id:"action-raw-input",checked:!V.structuredInput,onChange:t[2]||(t[2]=function(e){return U.onInputTypeChange(!1)})},null,40,["checked"]),l]),Object(r["h"])("div",{class:["request structured-request",V.structuredInput?"":"hidden"]},[Object(r["h"])("div",u,[Object(r["h"])("label",null,[Object(r["I"])(Object(r["h"])("input",{ref:"actionName",type:"text",class:"action-name",placeholder:"Action Name",disabled:V.running,"onUpdate:modelValue":t[3]||(t[3]=function(e){return V.action.name=e}),onChange:t[4]||(t[4]=function(e){return V.actionChanged=!0}),onBlur:t[5]||(t[5]=function(){return U.updateAction.apply(U,arguments)})},null,40,["disabled"]),[[r["F"],V.action.name]])])]),Object(r["h"])("button",{type:"submit",class:"run-btn btn-primary",disabled:V.running,title:"Run"},[d],8,["disabled"]),V.selectedDoc?(Object(r["r"])(),Object(r["e"])("div",b,[h,V.htmlDoc?(Object(r["r"])(),Object(r["e"])("div",{key:0,class:"doc html",innerHTML:V.selectedDoc},null,8,["innerHTML"])):(Object(r["r"])(),Object(r["e"])("div",{key:1,class:"doc raw",textContent:Object(r["C"])(V.selectedDoc)},null,8,["textContent"]))])):Object(r["f"])("",!0),V.action.name in V.actions&&(Object.keys(V.action.args).length||V.action.supportsExtraArgs)?(Object(r["r"])(),Object(r["e"])("div",p,[Object.keys(V.action.args).length||V.action.supportsExtraArgs?(Object(r["r"])(),Object(r["e"])("div",O,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(Object.keys(V.action.args),(function(e){return Object(r["r"])(),Object(r["e"])("div",{class:"param",key:e},[Object(r["h"])("label",null,[Object(r["I"])(Object(r["h"])("input",{type:"text",class:"action-param-value",disabled:V.running,placeholder:e,"onUpdate:modelValue":function(t){return V.action.args[e].value=t},onFocus:function(t){return U.selectAttrDoc(e)},onBlur:t[6]||(t[6]=function(){return U.resetAttrDoc.apply(U,arguments)})},null,40,["disabled","placeholder","onUpdate:modelValue","onFocus"]),[[r["F"],V.action.args[e].value]])]),V.selectedAttrDoc&&V.selectedAttr===e?(Object(r["r"])(),Object(r["e"])("div",f,[Object(r["h"])("div",j,[v,Object(r["h"])("div",{class:"attr-name",textContent:Object(r["C"])(V.selectedAttr)},null,8,["textContent"])]),V.htmlDoc?(Object(r["r"])(),Object(r["e"])("div",{key:0,class:"doc html",innerHTML:V.selectedAttrDoc},null,8,["innerHTML"])):(Object(r["r"])(),Object(r["e"])("div",{key:1,class:"doc raw",textContent:Object(r["C"])(V.selectedAttrDoc)},null,8,["textContent"]))])):Object(r["f"])("",!0)])})),128)),Object.keys(V.action.extraArgs).length?(Object(r["r"])(),Object(r["e"])("div",m,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(Object.keys(V.action.extraArgs),(function(e){return Object(r["r"])(),Object(r["e"])("div",{class:"param extra-param",key:e},[Object(r["h"])("label",g,[Object(r["I"])(Object(r["h"])("input",{type:"text",class:"action-extra-param-name",disabled:V.running,placeholder:"Name","onUpdate:modelValue":function(t){return V.action.extraArgs[e].name=t}},null,8,["disabled","onUpdate:modelValue"]),[[r["F"],V.action.extraArgs[e].name]])]),Object(r["h"])("label",y,[Object(r["I"])(Object(r["h"])("input",{type:"text",class:"action-extra-param-value",disabled:V.running,placeholder:"Value","onUpdate:modelValue":function(t){return V.action.extraArgs[e].value=t}},null,8,["disabled","onUpdate:modelValue"]),[[r["F"],V.action.extraArgs[e].value]])]),Object(r["h"])("label",x,[Object(r["h"])("button",{type:"button",class:"action-extra-param-del",title:"Remove parameter",onClick:function(t){return U.removeParameter(e)}},[k],8,["onClick"])])])})),128))],512)):Object(r["f"])("",!0),V.action.supportsExtraArgs?(Object(r["r"])(),Object(r["e"])("div",A,[Object(r["h"])("button",{type:"button",title:"Add a parameter",onClick:t[7]||(t[7]=function(){return U.addParameter.apply(U,arguments)})},[C])])):Object(r["f"])("",!0)],512)):Object(r["f"])("",!0),V.selectedAttrDoc?(Object(r["r"])(),Object(r["e"])("div",w,[Object(r["h"])("div",D,[P,Object(r["h"])("div",{class:"attr-name",textContent:Object(r["C"])(V.selectedAttr)},null,8,["textContent"])]),V.htmlDoc?(Object(r["r"])(),Object(r["e"])("div",{key:0,class:"doc html",innerHTML:V.selectedAttrDoc},null,8,["innerHTML"])):(Object(r["r"])(),Object(r["e"])("div",{key:1,class:"doc raw",textContent:Object(r["C"])(V.selectedAttrDoc)},null,8,["textContent"]))])):Object(r["f"])("",!0),Object(r["h"])("div",E,[null!=V.error||null!=V.response?(Object(r["r"])(),Object(r["e"])("div",{key:0,class:"title",textContent:Object(r["C"])(null!=V.error?"Error":"Output")},null,8,["textContent"])):Object(r["f"])("",!0),null!=V.response?(Object(r["r"])(),Object(r["e"])("div",{key:1,class:"response",innerHTML:V.response},null,8,["innerHTML"])):null!=V.error?(Object(r["r"])(),Object(r["e"])("div",{key:2,class:"error",innerHTML:V.error},null,8,["innerHTML"])):Object(r["f"])("",!0)])])):Object(r["f"])("",!0)],2),Object(r["h"])("div",{class:["request raw-request",V.structuredInput?"hidden":""]},[Object(r["h"])("div",L,[Object(r["h"])("label",null,[Object(r["I"])(Object(r["h"])("textarea",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return V.rawRequest=e}),placeholder:"Raw JSON request"},null,512),[[r["F"],V.rawRequest]])]),Object(r["h"])("button",{type:"submit",disabled:V.running,class:"run-btn btn-primary",title:"Run"},[T],8,["disabled"])]),null!=V.response||null!=V.error?(Object(r["r"])(),Object(r["e"])("div",N,[Object(r["h"])("div",{class:"title",textContent:Object(r["C"])(null!=V.error?"Error":"Output")},null,8,["textContent"]),null!=V.error?(Object(r["r"])(),Object(r["e"])("div",{key:0,class:"error",innerHTML:V.error},null,8,["innerHTML"])):null!=V.response?(Object(r["r"])(),Object(r["e"])("div",{key:1,class:"response",innerHTML:V.response},null,8,["innerHTML"])):Object(r["f"])("",!0)])):Object(r["f"])("",!0)],2)],544)]),Object(r["h"])("div",S,[I,(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(Object.keys(V.procedures).sort(),(function(n){return Object(r["r"])(),Object(r["e"])("div",{class:["procedure",V.selectedProcedure.name===n?"selected":""],key:n,onClick:function(e){return U.updateProcedure(n,e)}},[Object(r["h"])("form",{ref:"procedureForm",autocomplete:"off",onSubmit:t[12]||(t[12]=Object(r["J"])((function(){return U.executeProcedure.apply(U,arguments)}),["prevent"]))},[Object(r["h"])("div",q,[Object(r["h"])("div",{class:"name col-no-margin-11",textContent:Object(r["C"])(n)},null,8,["textContent"]),Object(r["h"])("div",M,[V.selectedProcedure.name===n?(Object(r["r"])(),Object(r["e"])("button",{key:0,type:"submit",class:"run-btn btn-default",disabled:V.running,title:"Run",onClick:t[10]||(t[10]=Object(r["J"])((function(t){return e.$emit("submit")}),["stop"]))},[R],8,["disabled"])):Object(r["f"])("",!0)])]),V.selectedProcedure.name===n?(Object(r["r"])(),Object(r["e"])("div",H,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(Object.keys(V.selectedProcedure.args),(function(e){return Object(r["r"])(),Object(r["e"])("div",{class:"param",key:e},[Object(r["h"])("label",null,[Object(r["I"])(Object(r["h"])("input",{type:"text",class:"action-param-value",onClick:t[11]||(t[11]=function(e){return e.stopPropagation()}),disabled:V.running,placeholder:e,"onUpdate:modelValue":function(t){return V.selectedProcedure.args[e]=t}},null,8,["disabled","placeholder","onUpdate:modelValue"]),[[r["F"],V.selectedProcedure.args[e]]])])])})),128))])):Object(r["f"])("",!0)],544)],10,["onClick"])})),128))])])}n("13d5"),n("fb6a"),n("4fad"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("466d"),n("1276"),n("2ca0"),n("498a");var V=n("5530"),U=(n("96cf"),n("1da1"));function F(e,t,n){var r;function c(e){if(!e)return!1;a(e),r>=e.length&&(r=0),r<0&&(r=e.length-1),e[r].classList.add("autocomplete-active")}function a(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}function o(t){for(var n=document.getElementsByClassName("autocomplete-items"),r=0;r<n.length;r++)t!==n[r]&&t!==e&&n[r].parentNode.removeChild(n[r])}e.addEventListener("input",(function(){var c,a,s,i=this.value;if(o(),!i)return!1;for(r=-1,c=document.createElement("DIV"),c.setAttribute("id",this.id+"autocomplete-list"),c.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(c),s=0;s<t.length;s++)t[s].substr(0,i.length).toUpperCase()===i.toUpperCase()&&(a=document.createElement("DIV"),a.innerHTML="<strong>"+t[s].substr(0,i.length)+"</strong>",a.innerHTML+=t[s].substr(i.length),a.innerHTML+="<input type='hidden' value='"+t[s]+"'>",a.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,n&&n(t,e.value),o()})),c.appendChild(a))})),e.addEventListener("keydown",(function(e){9===e.keyCode&&o()})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40===e.keyCode?(r++,c(t)):38===e.keyCode?(r--,c(t)):13===e.keyCode&&r>-1&&t&&t.length&&(e.preventDefault(),t[r].click(),this.focus())})),document.addEventListener("click",(function(e){o(e.target)}))}var _=F,B=n("3e54"),W=n("3a5e"),$={name:"Execute",components:{Loading:W["a"]},mixins:[B["a"]],data:function(){return{loading:!1,running:!1,structuredInput:!0,actionChanged:!1,selectedDoc:void 0,selectedAttr:void 0,selectedAttrDoc:void 0,selectedProcedure:{name:void 0,args:{}},response:void 0,error:void 0,htmlDoc:!1,rawRequest:void 0,actions:{},plugins:{},procedures:{},action:{name:void 0,args:{},extraArgs:[],supportsExtraArgs:!1}}},methods:{refresh:function(){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.request("inspect.get_procedures");case 4:return e.procedures=t.sent,t.next=7,e.request("inspect.get_all_plugins",{html_doc:!1});case 7:e.plugins=t.sent;case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:for(n=0,r=Object.values(e.plugins);n<r.length;n++)for(c=r[n],c.html_doc&&(e.htmlDoc=!0),a=0,o=Object.values(c.actions);a<o.length;a++)s=o[a],s.name=c.name+"."+s.name,s.supportsExtraArgs=!!s.has_kwargs,delete s.has_kwargs,e.actions[s.name]=s;i=e,_(e.$refs.actionName,Object.keys(e.actions).sort(),(function(t,n){e.action.name=n,i.updateAction()}));case 14:case"end":return t.stop()}}),t,null,[[1,,8,11]])})))()},updateAction:function(){if(this.action.name in this.actions||(this.selectedDoc=void 0),this.actionChanged&&this.action.name in this.actions){this.loading=!0;try{this.action=Object(V["a"])(Object(V["a"])({},this.actions[this.action.name]),{},{args:Object.entries(this.actions[this.action.name].args).reduce((function(e,t){return e[t[0]]=Object(V["a"])(Object(V["a"])({},t[1]),{},{value:t[1].default}),e}),{}),extraArgs:[]})}finally{this.loading=!1}this.selectedDoc=this.parseDoc(this.action.doc),this.actionChanged=!1,this.response=void 0,this.error=void 0}},parseDoc:function(e){if(!(null===e||void 0===e?void 0:e.length)||this.htmlDoc)return e;var t=0,n=0;return e.split("\n").reduce((function(e,r){return 2===++t&&(n=r.match(/^(\s*)/)[1].length),r.trim().startsWith(".. code-block")||(e+=r.slice(n).replaceAll("``","")+"\n"),e}),"")},updateProcedure:function(e,t){"submit"!==t.target.getAttribute("type")&&(this.selectedProcedure.name!==e?e in this.procedures?this.selectedProcedure={name:e,args:(this.procedures[e].args||[]).reduce((function(e,t){return e[t]=void 0,e}),{})}:console.warn("Procedure not found: "+e):this.selectedProcedure={name:void 0,args:{}})},addParameter:function(){this.action.extraArgs.push({name:void 0,value:void 0})},removeParameter:function(e){this.action.extraArgs.pop(e)},selectAttrDoc:function(e){this.response=void 0,this.error=void 0,this.selectedAttr=e,this.selectedAttrDoc=this.parseDoc(this.action.args[e].doc)},resetAttrDoc:function(){this.response=void 0,this.error=void 0,this.selectedAttr=void 0,this.selectedAttrDoc=void 0},onInputTypeChange:function(e){this.structuredInput=e,this.response=void 0,this.error=void 0},onResponse:function(e){this.response="<pre>"+JSON.stringify(e,null,2)+"</pre>",this.error=void 0},onError:function(e){this.response=void 0,this.error=e},onDone:function(){this.running=!1},executeAction:function(){if((this.action.name||this.rawRequest)&&!this.running)if(this.running=!0,this.structuredInput){var e=Object(V["a"])(Object(V["a"])({},Object.entries(this.action.args).reduce((function(e,t){if(null!=t[1].value){var n=t[1].value;try{n=JSON.parse(n)}catch(r){console.debug("Not a valid JSON value"),console.debug(n)}e[t[0]]=n}return e}),{})),this.action.extraArgs.reduce((function(e,t){var n=e[t.value];try{n=JSON.parse(n)}catch(r){console.debug("Not a valid JSON value"),console.debug(n)}return e[t.name]=n,e}),{}));this.request(this.action.name,e).then(this.onResponse).catch(this.onError).finally(this.onDone)}else{var t=this.rawRequest;try{t=JSON.parse(this.rawRequest)}catch(n){return void this.notify({error:!0,title:"Invalid JSON request",text:n.toString()})}this.execute(t).then(this.onResponse).catch(this.onError).finally(this.onDone)}},executeProcedure:function(e){if(this.selectedProcedure.name&&!this.running){e.stopPropagation(),this.running=!0;var t=Object(V["a"])({},Object.entries(this.selectedProcedure.args).reduce((function(e,t){if(null!=t[1]){var n=t[1];try{n=JSON.parse(n)}catch(r){console.debug("Not a valid JSON value"),console.debug(n)}e[t[0]]=n}return e}),{}));this.request("procedure."+this.selectedProcedure.name,t).then(this.onResponse).catch(this.onError).finally(this.onDone)}}},mounted:function(){this.refresh()}};n("c065");$.render=J;t["default"]=$},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),c=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),i=n("ab13"),l=n("c430"),u="".startsWith,d=Math.min,b=i("startsWith"),h=!l&&!b&&!!function(){var e=c(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!h&&!b},{startsWith:function(e){var t=String(s(this));o(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},"498a":function(e,t,n){"use strict";var r=n("23e7"),c=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return c(this)}})},"4de4":function(e,t,n){"use strict";var r=n("23e7"),c=n("b727").filter,a=n("1dde"),o=n("ae40"),s=a("filter"),i=o("filter");r({target:"Array",proto:!0,forced:!s||!i},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,n){var r=n("b622"),c=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[c]=!1,"/./"[e](t)}catch(r){}}return!1}},c065:function(e,t,n){"use strict";n("e07c")},c8d2:function(e,t,n){var r=n("d039"),c=n("5899"),a="​᠎";e.exports=function(e){return r((function(){return!!c[e]()||a[e]()!=a||c[e].name!==e}))}},dbb4:function(e,t,n){var r=n("23e7"),c=n("83ab"),a=n("56ef"),o=n("fc6a"),s=n("06cf"),i=n("8418");r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),c=s.f,l=a(r),u={},d=0;while(l.length>d)n=c(r,t=l[d++]),void 0!==n&&i(u,t,n);return u}})},e07c:function(e,t,n){},e439:function(e,t,n){var r=n("23e7"),c=n("d039"),a=n("fc6a"),o=n("06cf").f,s=n("83ab"),i=c((function(){o(1)})),l=!s||i;r({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})}}]);
//# sourceMappingURL=chunk-fd710368.9acd0ef1.js.map