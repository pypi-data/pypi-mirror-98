apiVersion: cardanopy.node.config/v1
substitutions: # default values
  _POD_ORDINAL: 0
  _TARGET_POD_ORDINAL: 1
name: "cardano-relay-$_POD_ORDINAL"
network: "mainnet"
root: "/app"
config: "/app/config/config.json"
databasePath: "/app/storage/db"
socketPath: "/app/storage/node.socket"
topologyPath: "/app/config/topology.json"
hostAddr: "0.0.0.0"
port: 3001
topology:
  Producers:
    - addr: "producer-statefulset-0.producer-statefulset-lb.cardano-mainnet.svc.cluster.local"
      port: 3001
      valency: 1
    - addr: "relay-statefulset-$_TARGET_POD_ORDINAL.relay-statefulset-lb.cardano-mainnet.svc.cluster.local"
      port: 3001
      valency: 1
    - addr: "relays-new.cardano-mainnet.iohk.io"
      port: 3001
      valency: 2
docker:
  image: "floydcraft/cardano-py-slim:latest"
k8s:
  namespace: "cardano-mainnet"