{"version":3,"sources":["webpack://@jupyterlab/mathjax3-extension/./lib/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAC0D;AAC1D;AACkD;AAClD;AACgD;AAChD;AACqD;AACY;AACG;AACF;AACM;AACC;AACzE,8EAAyB,CAAC,gFAAW,KAAK,kFAAW,CAAC,uFAAc;AACpE;AACA;AACA,wBAAwB,2EAAO;AAC/B;AACA;AACA;AACA;AACA;AACO;AACP;AACA,0BAA0B,+DAAK;AAC/B;AACA,SAAS;AACT,wBAAwB,0DAAG;AAC3B,sBAAsB,8EAAW;AACjC;AACA;AACA;AACA;AACA,SAAS;AACT,6BAA6B,qEAAgB;AAC7C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oEAAgB;AAC9B;AACA;AACA;AACA,iEAAe,cAAc,EAAC","file":"lib_index_js.e93a38213d31e96adfce.js","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ILatexTypesetter } from '@jupyterlab/rendermime';\n// MathJax core\nimport { mathjax } from 'mathjax-full/js/mathjax';\n// TeX input\nimport { TeX } from 'mathjax-full/js/input/tex';\n// HTML output\nimport { CHTML } from 'mathjax-full/js/output/chtml';\nimport { TeXFont } from 'mathjax-full/js/output/chtml/fonts/tex';\nimport { AllPackages } from 'mathjax-full/js/input/tex/AllPackages';\nimport { SafeHandler } from 'mathjax-full/js/ui/safe/SafeHandler';\nimport { HTMLHandler } from 'mathjax-full/js/handlers/html/HTMLHandler';\nimport { browserAdaptor } from 'mathjax-full/js/adaptors/browserAdaptor';\nmathjax.handlers.register(SafeHandler(new HTMLHandler(browserAdaptor())));\n// Override dynamically generated fonts in favor\n// of our font css that is picked up by webpack.\nclass emptyFont extends TeXFont {\n}\nemptyFont.defaultFonts = {};\n/**\n * The MathJax 3 Typesetter.\n */\nexport class MathJax3Typesetter {\n    constructor() {\n        const chtml = new CHTML({\n            font: new emptyFont()\n        });\n        const tex = new TeX({\n            packages: AllPackages,\n            inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],\n            displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],\n            processEscapes: true,\n            processEnvironments: true\n        });\n        this._mathDocument = mathjax.document(window.document, {\n            InputJax: tex,\n            OutputJax: chtml,\n        });\n    }\n    /**\n     * Typeset the math in a node.\n     */\n    typeset(node) {\n        this._mathDocument.options.elements = [node];\n        this._mathDocument.clear().render();\n        delete this._mathDocument.options.elements;\n    }\n}\n/**\n * The MathJax 3 extension.\n */\nconst mathJax3Plugin = {\n    id: '@jupyterlab/mathjax3-extension:plugin',\n    requires: [],\n    provides: ILatexTypesetter,\n    activate: () => new MathJax3Typesetter(),\n    autoStart: true\n};\nexport default mathJax3Plugin;\n"],"sourceRoot":""}