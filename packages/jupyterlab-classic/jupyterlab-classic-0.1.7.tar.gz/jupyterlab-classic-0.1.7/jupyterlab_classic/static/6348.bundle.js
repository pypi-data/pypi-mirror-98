(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[6348,5912],{15912:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>w,addCommands:()=>f});var a,r=t(67528),s=t(46717),o=t(12612),i=t(65157),c=t(15069),m=t(40058),l=t(33156),d=t(70631),h=t(10955),u=t(14536),g=t(66944);!function(e){e.createNew="terminal:create-new",e.open="terminal:open",e.refresh="terminal:refresh",e.increaseFont="terminal:increase-font",e.decreaseFont="terminal:decrease-font",e.setTheme="terminal:set-theme"}(a||(a={}));const _={activate:function(e,n,t,o,c,m,l,d,h){const u=t.load("jupyterlab"),{serviceManager:w,commands:p}=e,T=u.__("Terminal"),b=new i.WidgetTracker({namespace:"terminal"});if(!w.terminals.isAvailable())return console.warn("Disabling terminals plugin because they are not available on the server"),b;m&&m.restore(b,{command:a.createNew,args:e=>({name:e.content.session.name}),name:e=>e.content.session.name});const I={};function C(e){Object.keys(e.composite).forEach((n=>{I[n]=e.composite[n]}))}function M(){b.forEach((e=>function(e){const n=e.content;n&&Object.keys(I).forEach((e=>{n.setOption(e,I[e])}))}(e)))}if(n.load(_.id).then((e=>{C(e),M(),e.changed.connect((()=>{C(e),M()}))})).catch(y.showErrorMessage),null==d||d.themeChanged.connect(((e,n)=>{b.forEach((e=>{const n=e.content;"inherit"===n.getOption("theme")&&n.setOption("theme","inherit")}))})),f(e,b,n,t,I),l){const e=new s.Menu({commands:p});e.title.label=u.__("Terminal Theme"),e.addItem({command:a.setTheme,args:{theme:"inherit",displayName:u.__("Inherit"),isPalette:!1}}),e.addItem({command:a.setTheme,args:{theme:"light",displayName:u.__("Light"),isPalette:!1}}),e.addItem({command:a.setTheme,args:{theme:"dark",displayName:u.__("Dark"),isPalette:!1}}),l.settingsMenu.addGroup([{command:a.increaseFont},{command:a.decreaseFont},{type:"submenu",submenu:e}],40),l.fileMenu.newMenu.addGroup([{command:a.createNew}],20),l.fileMenu.closeAndCleaners.add({tracker:b,closeAndCleanupLabel:e=>u.__("Shutdown Terminal"),closeAndCleanup:e=>e.content.session.shutdown()})}return o&&([a.createNew,a.refresh,a.increaseFont,a.decreaseFont].forEach((e=>{o.addItem({command:e,category:T,args:{isPalette:!0}})})),o.addItem({command:a.setTheme,category:T,args:{theme:"inherit",displayName:u.__("Inherit"),isPalette:!0}}),o.addItem({command:a.setTheme,category:T,args:{theme:"light",displayName:u.__("Light"),isPalette:!0}}),o.addItem({command:a.setTheme,category:T,args:{theme:"dark",displayName:u.__("Dark"),isPalette:!0}})),c&&c.add({command:a.createNew,category:u.__("Other"),rank:0}),h&&function(e,n,t){const a=t.load("jupyterlab"),s=n.serviceManager.terminals;e.add({name:a.__("Terminals"),running:()=>(0,r.toArray)(s.running()).map((e=>new o(e))),shutdownAll:()=>s.shutdownAll(),refreshRunning:()=>s.refreshRunning(),runningChanged:s.runningChanged,shutdownLabel:a.__("Shut Down"),shutdownAllLabel:a.__("Shut Down All"),shutdownAllConfirmationText:a.__("Are you sure you want to permanently shut down all running terminals?")});class o{constructor(e){this._model=e}open(){n.commands.execute("terminal:open",{name:this._model.name})}icon(){return g.terminalIcon}label(){return`terminals/${this._model.name}`}shutdown(){return s.shutdown(this._model.name)}}}(h,e,t),e.contextMenu.addItem({command:a.refresh,selector:".jp-Terminal",rank:1}),b},id:"@jupyterlab/terminal-extension:plugin",provides:h.ITerminalTracker,requires:[d.ISettingRegistry,u.ITranslator],optional:[i.ICommandPalette,c.ILauncher,o.ILayoutRestorer,m.IMainMenu,i.IThemeManager,l.IRunningSessionManagers],autoStart:!0},w=_;function f(e,n,t,r,s){const o=r.load("jupyterlab"),{commands:c,serviceManager:m}=e;c.addCommand(a.createNew,{label:e=>e.isPalette?o.__("New Terminal"):o.__("Terminal"),caption:o.__("Start a new terminal session"),icon:e=>e.isPalette?void 0:g.terminalIcon,execute:async t=>{let a;try{a=(await y.ensureWidget()).Terminal}catch(e){return void y.showErrorMessage(e)}const o=t.name,c=new a(await(o?m.terminals.connectTo({model:{name:o}}):m.terminals.startNew()),s,r);c.title.icon=g.terminalIcon,c.title.label="...";const l=new i.MainAreaWidget({content:c});return e.shell.add(l),n.add(l),e.shell.activateById(l.id),l}}),c.addCommand(a.open,{execute:t=>{const r=t.name,s=n.find((e=>e.content.session.name===r||!1));if(!s)return c.execute(a.createNew,{name:r});e.shell.activateById(s.id)}}),c.addCommand(a.refresh,{label:o.__("Refresh Terminal"),caption:o.__("Refresh the current terminal session"),execute:async()=>{const t=n.currentWidget;if(t){e.shell.activateById(t.id);try{await t.content.refresh(),t&&t.content.activate()}catch(e){y.showErrorMessage(e)}}},isEnabled:()=>null!==n.currentWidget}),c.addCommand(a.increaseFont,{label:o.__("Increase Terminal Font Size"),execute:async()=>{const{fontSize:e}=s;if(e&&e<72)try{await t.set(_.id,"fontSize",e+1)}catch(e){y.showErrorMessage(e)}}}),c.addCommand(a.decreaseFont,{label:o.__("Decrease Terminal Font Size"),execute:async()=>{const{fontSize:e}=s;if(e&&e>9)try{await t.set(_.id,"fontSize",e-1)}catch(e){y.showErrorMessage(e)}}}),c.addCommand(a.setTheme,{label:e=>{const n=e.displayName;return e.isPalette?o.__("Use Terminal Theme: %1",n):n},caption:o.__("Set the terminal theme"),isToggled:e=>{const{theme:n}=s;return e.theme===n},execute:async e=>{const n=e.theme;try{await t.set(_.id,"theme",n),c.notifyCommandChanged(a.setTheme)}catch(e){console.log(e),y.showErrorMessage(e)}}})}var y;!function(e){e.ensureWidget=function(){return e.widgetReady||(e.widgetReady=Promise.all([t.e(753),t.e(6104),t.e(5438),t.e(5697)]).then(t.bind(t,40753))),e.widgetReady},e.showErrorMessage=function(e){console.error(`Failed to configure ${_.id}: ${e.message}`)}}(y||(y={}))}}]);