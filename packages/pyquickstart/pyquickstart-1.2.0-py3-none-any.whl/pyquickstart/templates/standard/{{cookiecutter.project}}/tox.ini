[tox]
envlist =
    isort
    brunette
    flake8
    py{36,37,38,39}
    coverage

[testenv]
deps =
    pytest>=6.2,<7.0

commands =
    pytest {posargs}

[testenv:brunette]
deps =
    brunette>=0.2.0,<1.0

commands =
    brunette --config=setup.cfg src
    brunette --config=setup.cfg tests

[testenv:coverage]
deps =
    coverage>=5.3,<6.0
    pytest>=6.2,<7.0

commands =
    coverage run -m py.test
    coverage report
    coverage html

[testenv:flake8]
deps =
    flake8>=3.8,<4.0

commands =
    flake8

[testenv:isort]
deps =
    isort>=5.7,<6.0

commands =
    isort src
    isort tests
