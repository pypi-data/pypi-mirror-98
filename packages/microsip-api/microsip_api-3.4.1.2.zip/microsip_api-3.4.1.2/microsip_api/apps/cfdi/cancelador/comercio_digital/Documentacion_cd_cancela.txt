
		Documentacion para Programa que Envia Cancelacion de un UUID Comercio Digital


Este es un programa ejecutable desarrollado en C# en ASP.NET version 2 de modo Consola que se manda llamar desde un Programa de
Facturacion de cualquier plataforma.

Para instalar este programa hay que hacer lo siguiente:

1) crear una estructra de directorios (carpetas) asi:
    a) ponerse en la raiz de disco
    a) mkdir  cfdi_canc
    b) cd cfdi_canc
    
2) en el directorio "/cfdi_canc" depositar el programa "cd_cancela.exe" que se les entregara, junto con las librerias que se adjuntan

3) Asegurarse de tener instalado en la PC el ASP.NET version 2.0 o mayor;


4) En sus Sistema de Facturacion llamar al metodo "CreateProcess" o equivalente para ejecutar el programa "cd_cancela.exe" con varios parametros:
   1) User                      <-  Usuario del web service
   2) pwd                       <-  password del usuario del web service
   3) RFC                       <-  RFC de UUID a cancelar
   3) UUID                      <-  Folio Fiscal o UUID a cancelar; 
   4) nombre_archivo_key        <-  nombre del archivo que contiene la LLave del Certificado Digital del RFC (extension .KEY )
   5) nombre_archivo_cer        <-  nombre del archivo que contiene el Certificado Publico del RFC ( extension .CER )
   6) pwd_key                   <-  clave que se puso al archivo .KEY al momento de generar el requerimiento en progama SOLCEDI
   7) Directorio                <-  opcional para indicar en que Directorio (Carpeta) se depositaran los archivos de salida

   ejemplo:
   cd_cancela.exe PPP010101A12 t67hT56 PPP010101A12 7E0253CC-ACD4-E141-8100-736364003130  /certs/PPP010101A12.key /certs/PPP010101A12.CER  ujhgaga c:/cancelaciones
   
5) En el Programa de Facturacion, esperar a que termine este proceso; normalmente se tarda 20 o 50 segundos, pero puede llegar a 
   tardarse hasta 90 segundos por timeout.

6) Se generara siempre un archivo CANC_uuid.SAT  con la respuesta del envio:
   La primera linea del archivo SAT contiene el tipo de Respuesta:
   Respuesta=1             0 Timeout, 1)Ok 2) No respuesta 3)otro error

7) si Respuesta fue "1", se puede proceder a leer el archivo de salida del XML que contiene el Acuse del SAT en XML ;
   el nombre el mismo archivo SAT pero con  extension .XML
   
8) si Respuesta fue "3": la segunda linea del archivo "SAT" contiene el mensaje de error

9) Si Respuesta fue "0" o "2"  hay que esperar para retransmitir el mismo CFDI



